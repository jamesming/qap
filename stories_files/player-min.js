/* Yahoo! WebPlayer - 0.9.18. Copyright (c) 2011, Yahoo! Inc.  All rights reserved.
 * Your use of this Yahoo! WebPlayer is subject to the Yahoo! Terms of Service
 * located at http://info.yahoo.com/legal/us/yahoo/webplayer/details.html
 */
(function(){if(typeof YUI!="undefined"){YUI._YUI=YUI;}var YUI=function(){var c=0,f=this,b=arguments,a=b.length,e=function(h,g){return(h&&h.hasOwnProperty&&(h instanceof g));},d=(typeof YUI_config!=="undefined")&&YUI_config;if(!(e(f,YUI))){f=new YUI();}else{f._init();if(YUI.GlobalConfig){f.applyConfig(YUI.GlobalConfig);}if(d){f.applyConfig(d);}if(!a){f._setup();}}if(a){for(;c<a;c++){f.applyConfig(b[c]);}f._setup();}f.instanceOf=e;return f;};(function(){var p,b,q="3.3.0",h=".",n="http://yui.yahooapis.com/",t="yui3-js-enabled",l=function(){},g=Array.prototype.slice,r={"io.xdrReady":1,"io.xdrResponse":1,"SWF.eventHandler":1},f=(typeof window!="undefined"),e=(f)?window:null,v=(f)?e.document:null,d=v&&v.documentElement,a=d&&d.className,c={},i=new Date().getTime(),m=function(z,y,x,w){if(z&&z.addEventListener){z.addEventListener(y,x,w);}else{if(z&&z.attachEvent){z.attachEvent("on"+y,x);}}},u=function(A,z,y,w){if(A&&A.removeEventListener){try{A.removeEventListener(z,y,w);}catch(x){}}else{if(A&&A.detachEvent){A.detachEvent("on"+z,y);}}},s=function(){YUI.Env.windowLoaded=true;YUI.Env.DOMReady=true;if(f){u(window,"load",s);}},j=function(y,x){var w=y.Env._loader;if(w){w.ignoreRegistered=false;w.onEnd=null;w.data=null;w.required=[];w.loadType=null;}else{w=new y.Loader(y.config);y.Env._loader=w;}return w;},o=function(y,x){for(var w in x){if(x.hasOwnProperty(w)){y[w]=x[w];}}},k={success:true};if(d&&a.indexOf(t)==-1){if(a){a+=" ";}a+=t;d.className=a;}if(q.indexOf("@")>-1){q="3.2.0";}p={applyConfig:function(D){D=D||l;var y,A,z=this.config,B=z.modules,x=z.groups,C=z.rls,w=this.Env._loader;for(A in D){if(D.hasOwnProperty(A)){y=D[A];if(B&&A=="modules"){o(B,y);}else{if(x&&A=="groups"){o(x,y);}else{if(C&&A=="rls"){o(C,y);}else{if(A=="win"){z[A]=y.contentWindow||y;z.doc=z[A].document;}else{if(A=="_yuid"){}else{z[A]=y;}}}}}}}if(w){w._config(D);}},_config:function(w){this.applyConfig(w);},_init:function(){var y,z=this,w=YUI.Env,x=z.Env,A;z.version=q;if(!x){z.Env={mods:{},versions:{},base:n,cdn:n+q+"/build/",_idx:0,_used:{},_attached:{},_yidx:0,_uidx:0,_guidp:"y",_loaded:{},serviced:{},getBase:w&&w.getBase||function(G,F){var B,C,E,H,D;C=(v&&v.getElementsByTagName("script"))||[];for(E=0;E<C.length;E=E+1){H=C[E].src;if(H){D=H.match(G);B=D&&D[1];if(B){y=D[2];if(y){D=y.indexOf("js");if(D>-1){y=y.substr(0,D);}}D=H.match(F);if(D&&D[3]){B=D[1]+D[3];}break;}}}return B||x.cdn;}};x=z.Env;x._loaded[q]={};if(w&&z!==YUI){x._yidx=++w._yidx;x._guidp=("yui_"+q+"_"+x._yidx+"_"+i).replace(/\./g,"_");}else{if(YUI._YUI){w=YUI._YUI.Env;x._yidx+=w._yidx;x._uidx+=w._uidx;for(A in w){if(!(A in x)){x[A]=w[A];}}delete YUI._YUI;}}z.id=z.stamp(z);c[z.id]=z;}z.constructor=YUI;z.config=z.config||{win:e,doc:v,debug:true,useBrowserConsole:true,throwFail:true,bootstrap:true,cacheUse:true,fetchCSS:true};z.config.base=YUI.config.base||z.Env.getBase(/^(.*)yui\/yui([\.\-].*)js(\?.*)?$/,/^(.*\?)(.*\&)(.*)yui\/yui[\.\-].*js(\?.*)?$/);if(!y||(!("-min.-debug.").indexOf(y))){y="-min.";}z.config.loaderPath=YUI.config.loaderPath||"loader/loader"+(y||"-min.")+"js";},_setup:function(B){var x,A=this,w=[],z=YUI.Env.mods,y=A.config.core||["get","rls","intl-base","loader","yui-log","yui-later","yui-throttle"];for(x=0;x<y.length;x++){if(z[y[x]]){w.push(y[x]);}}A._attach(["yui-base"]);A._attach(w);},applyTo:function(C,B,y){if(!(B in r)){this.log(B+": applyTo not allowed","warn","yui");return null;}var x=c[C],A,w,z;if(x){A=B.split(".");w=x;for(z=0;z<A.length;z=z+1){w=w[A[z]];if(!w){this.log("applyTo not found: "+B,"warn","yui");}}return w.apply(x,y);}return null;},add:function(x,C,B,w){w=w||{};var A=YUI.Env,D={name:x,fn:C,version:B,details:w},E,z,y=A.versions;A.mods[x]=D;y[B]=y[B]||{};y[B][x]=D;for(z in c){if(c.hasOwnProperty(z)){E=c[z].Env._loader;if(E){if(!E.moduleInfo[x]){E.addModule(w,x);}}}}return this;},_attach:function(w,C){var F,A,J,x,I,y,z,L=YUI.Env.mods,B=this,E,D=B.Env._attached,G=w.length,K;for(F=0;F<G;F++){if(!D[w[F]]){A=w[F];J=L[A];if(!J){K=B.Env._loader;if(!K||!K.moduleInfo[A]){B.message("NOT loaded: "+A,"warn","yui");}}else{D[A]=true;x=J.details;I=x.requires;y=x.use;z=x.after;if(I){for(E=0;E<I.length;E++){if(!D[I[E]]){if(!B._attach(I)){return false;}break;}}}if(z){for(E=0;E<z.length;E++){if(!D[z[E]]){if(!B._attach(z)){return false;}break;}}}if(y){for(E=0;E<y.length;E++){if(!D[y[E]]){if(!B._attach(y)){return false;}break;}}}if(J.fn){try{J.fn(B,A);}catch(H){B.error("Attach error: "+A,H,A);return false;}}}}}return true;},use:function(){var w=g.call(arguments,0),z=w[w.length-1],y=this,x;if(y.Lang.isFunction(z)){w.pop();}else{z=null;}if(y._loading){y._useQueue=y._useQueue||new y.Queue();y._useQueue.add([w,z]);}else{x=w.join();if(y.config.cacheUse&&y.Env.serviced[x]){y._notify(z,k,w);}else{y._use(w,function(B,A){if(B.config.cacheUse){B.Env.serviced[x]=true;}B._notify(z,A,w);});}}return y;},_notify:function(z,w,x){if(!w.success&&this.config.loadErrorFn){this.config.loadErrorFn.call(this,this,z,w,x);}else{if(z){try{z(this,w);}catch(y){this.error("use callback error",y,x);}}}},_use:function(y,A){if(!this.Array){this._attach(["yui-base"]);}var L,F,M,x=this,N=YUI.Env,z=N.mods,w=x.Env,C=w._used,J=N._loaderQueue,Q=y[0],E=x.Array,O=x.config,D=O.bootstrap,K=[],H=[],P=true,B=O.fetchCSS,I=function(S,R){if(!S.length){return;}E.each(S,function(V){if(!R){H.push(V);}if(C[V]){return;}var T=z[V],W,U;if(T){C[V]=true;W=T.details.requires;U=T.details.use;}else{if(!N._loaded[q][V]){K.push(V);}else{C[V]=true;}}if(W&&W.length){I(W);}if(U&&U.length){I(U,1);}});},G=function(V){var T=V||{success:true,msg:"not dynamic"},S,R,U=true,W=T.data;x._loading=false;if(W){R=K;K=[];H=[];I(W);S=K.length;if(S){if(K.sort().join()==R.sort().join()){S=false;}}}if(S&&W){x._loading=false;x._use(y,function(){if(x._attach(W)){x._notify(A,T,W);}});}else{if(W){U=x._attach(W);
}if(U){x._notify(A,T,y);}}if(x._useQueue&&x._useQueue.size()&&!x._loading){x._use.apply(x,x._useQueue.next());}};if(Q==="*"){P=x._attach(x.Object.keys(z));if(P){G();}return x;}if(D&&x.Loader&&y.length){F=j(x);F.require(y);F.ignoreRegistered=true;F.calculate(null,(B)?null:"js");y=F.sorted;}I(y);L=K.length;if(L){K=x.Object.keys(E.hash(K));L=K.length;}if(D&&L&&x.Loader){x._loading=true;F=j(x);F.onEnd=G;F.context=x;F.data=y;F.ignoreRegistered=false;F.require(y);F.insert(null,(B)?null:"js");}else{if(L&&x.config.use_rls){x.Get.script(x._rls(y),{onEnd:function(R){G(R);},data:y});}else{if(D&&L&&x.Get&&!w.bootstrapped){x._loading=true;M=function(){x._loading=false;J.running=false;w.bootstrapped=true;if(x._attach(["loader"])){x._use(y,A);}};if(N._bootstrapping){J.add(M);}else{N._bootstrapping=true;x.Get.script(O.base+O.loaderPath,{onEnd:M});}}else{P=x._attach(y);if(P){G();}}}}return x;},namespace:function(){var x=arguments,B=this,z=0,y,A,w;for(;z<x.length;z++){w=x[z];if(w.indexOf(h)){A=w.split(h);for(y=(A[0]=="YAHOO")?1:0;y<A.length;y++){B[A[y]]=B[A[y]]||{};B=B[A[y]];}}else{B[w]=B[w]||{};}}return B;},log:l,message:l,error:function(A,y,x){var z=this,w;if(z.config.errorFn){w=z.config.errorFn.apply(z,arguments);}if(z.config.throwFail&&!w){throw (y||new Error(A));}else{z.message(A,"error");}return z;},guid:function(w){var x=this.Env._guidp+(++this.Env._uidx);return(w)?(w+x):x;},stamp:function(y,z){var w;if(!y){return y;}if(y.uniqueID&&y.nodeType&&y.nodeType!==9){w=y.uniqueID;}else{w=(typeof y==="string")?y:y._yuid;}if(!w){w=this.guid();if(!z){try{y._yuid=w;}catch(x){w=null;}}}return w;},destroy:function(){var w=this;if(w.Event){w.Event._unload();}delete c[w.id];delete w.Env;delete w.config;}};YUI.prototype=p;for(b in p){if(p.hasOwnProperty(b)){YUI[b]=p[b];}}YUI._init();if(f){m(window,"load",s);}else{s();}YUI.Env.add=m;YUI.Env.remove=u;if(typeof exports=="object"){exports.YUI=YUI;}}());YUI.add("yui-base",function(c){c.Lang=c.Lang||{};var k=c.Lang,B="array",p="boolean",f="date",g="error",i="function",t="number",A="null",n="object",y="regexp",r="string",s=String.prototype,m=Object.prototype.toString,D="undefined",b={"undefined":D,"number":t,"boolean":p,"string":r,"[object Function]":i,"[object RegExp]":y,"[object Array]":B,"[object Date]":f,"[object Error]":g},x=/^\s+|\s+$/g,z="",e=/\{\s*([^\|\}]+?)\s*(?:\|([^\}]*))?\s*\}/g;k.isArray=function(E){return k.type(E)===B;};k.isBoolean=function(E){return typeof E===p;};k.isFunction=function(E){return k.type(E)===i;};k.isDate=function(E){return k.type(E)===f&&E.toString()!=="Invalid Date"&&!isNaN(E);};k.isNull=function(E){return E===null;};k.isNumber=function(E){return typeof E===t&&isFinite(E);};k.isObject=function(G,F){var E=typeof G;return(G&&(E===n||(!F&&(E===i||k.isFunction(G)))))||false;};k.isString=function(E){return typeof E===r;};k.isUndefined=function(E){return typeof E===D;};k.trim=s.trim?function(E){return(E&&E.trim)?E.trim():E;}:function(E){try{return E.replace(x,z);}catch(F){return E;}};k.trimLeft=s.trimLeft?function(E){return E.trimLeft();}:function(E){return E.replace(/^\s+/,"");};k.trimRight=s.trimRight?function(E){return E.trimRight();}:function(E){return E.replace(/\s+$/,"");};k.isValue=function(F){var E=k.type(F);switch(E){case t:return isFinite(F);case A:case D:return false;default:return !!(E);}};k.type=function(E){return b[typeof E]||b[m.call(E)]||(E?n:A);};k.sub=function(E,F){return((E.replace)?E.replace(e,function(G,H){return(!k.isUndefined(F[H]))?F[H]:G;}):E);};k.now=Date.now||function(){return new Date().getTime();};var u=Array.prototype,w="length",l=function(K,I,G){var H=(G)?2:l.test(K),F,E,L=I||0;if(H){try{return u.slice.call(K,L);}catch(J){E=[];F=K.length;for(;L<F;L++){E.push(K[L]);}return E;}}else{return[K];}};c.Array=l;l.test=function(G){var E=0;if(c.Lang.isObject(G)){if(c.Lang.isArray(G)){E=1;}else{try{if((w in G)&&!G.tagName&&!G.alert&&!G.apply){E=2;}}catch(F){}}}return E;};l.each=(u.forEach)?function(E,F,G){u.forEach.call(E||[],F,G||c);return c;}:function(F,H,I){var E=(F&&F.length)||0,G;for(G=0;G<E;G=G+1){H.call(I||c,F[G],G,F);}return c;};l.hash=function(G,F){var J={},E=G.length,I=F&&F.length,H;for(H=0;H<E;H=H+1){J[G[H]]=(I&&I>H)?F[H]:true;}return J;};l.indexOf=(u.indexOf)?function(E,F){return u.indexOf.call(E,F);}:function(E,G){for(var F=0;F<E.length;F=F+1){if(E[F]===G){return F;}}return -1;};l.numericSort=function(F,E){return(F-E);};l.some=(u.some)?function(E,F,G){return u.some.call(E,F,G);}:function(F,H,I){var E=F.length,G;for(G=0;G<E;G=G+1){if(H.call(I,F[G],G,F)){return true;}}return false;};function C(){this._init();this.add.apply(this,arguments);}C.prototype={_init:function(){this._q=[];},next:function(){return this._q.shift();},last:function(){return this._q.pop();},add:function(){this._q.push.apply(this._q,arguments);return this;},size:function(){return this._q.length;}};c.Queue=C;YUI.Env._loaderQueue=YUI.Env._loaderQueue||new C();var o="__",a=function(G,F){var E=F.toString;if(c.Lang.isFunction(E)&&E!=Object.prototype.toString){G.toString=E;}};c.merge=function(){var F=arguments,H={},G,E=F.length;for(G=0;G<E;G=G+1){c.mix(H,F[G],true);}return H;};c.mix=function(E,N,G,M,J,L){if(!N||!E){return E||c;}if(J){switch(J){case 1:return c.mix(E.prototype,N.prototype,G,M,0,L);case 2:c.mix(E.prototype,N.prototype,G,M,0,L);break;case 3:return c.mix(E,N.prototype,G,M,0,L);case 4:return c.mix(E.prototype,N,G,M,0,L);default:}}var I,H,F,K;if(M&&M.length){for(I=0,H=M.length;I<H;++I){F=M[I];K=c.Lang.type(E[F]);if(N.hasOwnProperty(F)){if(L&&K=="object"){c.mix(E[F],N[F]);}else{if(G||!(F in E)){E[F]=N[F];}}}}}else{for(I in N){if(N.hasOwnProperty(I)){if(L&&c.Lang.isObject(E[I],true)){c.mix(E[I],N[I],G,M,0,true);}else{if(G||!(I in E)){E[I]=N[I];}}}}if(c.UA.ie){a(E,N);}}return E;};c.cached=function(G,E,F){E=E||{};return function(I){var H=(arguments.length>1)?Array.prototype.join.call(arguments,o):I;if(!(H in E)||(F&&E[H]==F)){E[H]=G.apply(G,arguments);}return E[H];};};var q=function(){},h=function(E){q.prototype=E;return new q();},j=function(F,E){return F&&F.hasOwnProperty&&F.hasOwnProperty(E);
},v,d=function(I,H){var G=(H===2),E=(G)?0:[],F;for(F in I){if(j(I,F)){if(G){E++;}else{E.push((H)?I[F]:F);}}}return E;};c.Object=h;h.keys=function(E){return d(E);};h.values=function(E){return d(E,1);};h.size=Object.size||function(E){return d(E,2);};h.hasKey=j;h.hasValue=function(F,E){return(c.Array.indexOf(h.values(F),E)>-1);};h.owns=j;h.each=function(I,H,J,G){var F=J||c,E;for(E in I){if(G||j(I,E)){H.call(F,I[E],E,I);}}return c;};h.some=function(I,H,J,G){var F=J||c,E;for(E in I){if(G||j(I,E)){if(H.call(F,I[E],E,I)){return true;}}}return false;};h.getValue=function(I,H){if(!c.Lang.isObject(I)){return v;}var F,G=c.Array(H),E=G.length;for(F=0;I!==v&&F<E;F++){I=I[G[F]];}return I;};h.setValue=function(K,I,J){var E,H=c.Array(I),G=H.length-1,F=K;if(G>=0){for(E=0;F!==v&&E<G;E++){F=F[H[E]];}if(F!==v){F[H[E]]=J;}else{return v;}}return K;};h.isEmpty=function(F){for(var E in F){if(j(F,E)){return false;}}return true;};YUI.Env.parseUA=function(K){var J=function(N){var O=0;return parseFloat(N.replace(/\./g,function(){return(O++==1)?"":".";}));},M=c.config.win,E=M&&M.navigator,H={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:E&&E.cajaVersion,secure:false,os:null},F=K||E&&E.userAgent,L=M&&M.location,G=L&&L.href,I;H.secure=G&&(G.toLowerCase().indexOf("https")===0);if(F){if((/windows|win32/i).test(F)){H.os="windows";}else{if((/macintosh/i).test(F)){H.os="macintosh";}else{if((/rhino/i).test(F)){H.os="rhino";}}}if((/KHTML/).test(F)){H.webkit=1;}I=F.match(/AppleWebKit\/([^\s]*)/);if(I&&I[1]){H.webkit=J(I[1]);if(/ Mobile\//.test(F)){H.mobile="Apple";I=F.match(/OS ([^\s]*)/);if(I&&I[1]){I=J(I[1].replace("_","."));}H.ios=I;H.ipad=H.ipod=H.iphone=0;I=F.match(/iPad|iPod|iPhone/);if(I&&I[0]){H[I[0].toLowerCase()]=H.ios;}}else{I=F.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/);if(I){H.mobile=I[0];}if(/webOS/.test(F)){H.mobile="WebOS";I=F.match(/webOS\/([^\s]*);/);if(I&&I[1]){H.webos=J(I[1]);}}if(/ Android/.test(F)){H.mobile="Android";I=F.match(/Android ([^\s]*);/);if(I&&I[1]){H.android=J(I[1]);}}}I=F.match(/Chrome\/([^\s]*)/);if(I&&I[1]){H.chrome=J(I[1]);}else{I=F.match(/AdobeAIR\/([^\s]*)/);if(I){H.air=I[0];}}}if(!H.webkit){I=F.match(/Opera[\s\/]([^\s]*)/);if(I&&I[1]){H.opera=J(I[1]);I=F.match(/Opera Mini[^;]*/);if(I){H.mobile=I[0];}}else{I=F.match(/MSIE\s([^;]*)/);if(I&&I[1]){H.ie=J(I[1]);}else{I=F.match(/Gecko\/([^\s]*)/);if(I){H.gecko=1;I=F.match(/rv:([^\s\)]*)/);if(I&&I[1]){H.gecko=J(I[1]);}}}}}}YUI.Env.UA=H;return H;};c.UA=YUI.Env.UA||YUI.Env.parseUA();},"3.3.0");YUI.add("get",function(f){var b=f.UA,a=f.Lang,d="text/javascript",e="text/css",c="stylesheet";f.Get=function(){var m,n,j,l={},k=0,u,w=function(A,x,B){var y=B||f.config.win,C=y.document,D=C.createElement(A),z;for(z in x){if(x[z]&&x.hasOwnProperty(z)){D.setAttribute(z,x[z]);}}return D;},t=function(y,z,x){var A={id:f.guid(),type:e,rel:c,href:y};if(x){f.mix(A,x);}return w("link",A,z);},s=function(y,z,x){var A={id:f.guid(),type:d};if(x){f.mix(A,x);}A.src=y;return w("script",A,z);},p=function(y,z,x){return{tId:y.tId,win:y.win,data:y.data,nodes:y.nodes,msg:z,statusText:x,purge:function(){n(this.tId);}};},o=function(B,A,x){var y=l[B],z;if(y&&y.onEnd){z=y.context||y;y.onEnd.call(z,p(y,A,x));}},v=function(A,z){var x=l[A],y;if(x.timer){clearTimeout(x.timer);}if(x.onFailure){y=x.context||x;x.onFailure.call(y,p(x,z));}o(A,z,"failure");},i=function(A){var x=l[A],z,y;if(x.timer){clearTimeout(x.timer);}x.finished=true;if(x.aborted){z="transaction "+A+" was aborted";v(A,z);return;}if(x.onSuccess){y=x.context||x;x.onSuccess.call(y,p(x));}o(A,z,"OK");},q=function(z){var x=l[z],y;if(x.onTimeout){y=x.context||x;x.onTimeout.call(y,p(x));}o(z,"timeout","timeout");},h=function(z,C){var y=l[z],B,G,F,D,A,x,H,E;if(y.timer){clearTimeout(y.timer);}if(y.aborted){B="transaction "+z+" was aborted";v(z,B);return;}if(C){y.url.shift();if(y.varName){y.varName.shift();}}else{y.url=(a.isString(y.url))?[y.url]:y.url;if(y.varName){y.varName=(a.isString(y.varName))?[y.varName]:y.varName;}}G=y.win;F=G.document;D=F.getElementsByTagName("head")[0];if(y.url.length===0){i(z);return;}x=y.url[0];if(!x){y.url.shift();return h(z);}if(y.timeout){y.timer=setTimeout(function(){q(z);},y.timeout);}if(y.type==="script"){A=s(x,G,y.attributes);}else{A=t(x,G,y.attributes);}j(y.type,A,z,x,G,y.url.length);y.nodes.push(A);E=y.insertBefore||F.getElementsByTagName("base")[0];if(E){H=m(E,z);if(H){H.parentNode.insertBefore(A,H);}}else{D.appendChild(A);}if((b.webkit||b.gecko)&&y.type==="css"){h(z,x);}},g=function(){if(u){return;}u=true;var x,y;for(x in l){if(l.hasOwnProperty(x)){y=l[x];if(y.autopurge&&y.finished){n(y.tId);delete l[x];}}}u=false;},r=function(y,x,z){z=z||{};var C="q"+(k++),A,B=z.purgethreshold||f.Get.PURGE_THRESH;if(k%B===0){g();}l[C]=f.merge(z,{tId:C,type:y,url:x,finished:false,nodes:[]});A=l[C];A.win=A.win||f.config.win;A.context=A.context||A;A.autopurge=("autopurge" in A)?A.autopurge:(y==="script")?true:false;A.attributes=A.attributes||{};A.attributes.charset=z.charset||A.attributes.charset||"utf-8";h(C);return{tId:C};};j=function(z,E,D,y,C,B,x){var A=x||h;if(b.ie){E.onreadystatechange=function(){var F=this.readyState;if("loaded"===F||"complete"===F){E.onreadystatechange=null;A(D,y);}};}else{if(b.webkit){if(z==="script"){E.addEventListener("load",function(){A(D,y);});}}else{E.onload=function(){A(D,y);};E.onerror=function(F){v(D,F+": "+y);};}}};m=function(x,A){var y=l[A],z=(a.isString(x))?y.win.document.getElementById(x):x;if(!z){v(A,"target node not found: "+x);}return z;};n=function(C){var y,A,G,D,H,B,z,F,E,x=l[C];if(x){y=x.nodes;A=y.length;G=x.win.document;D=G.getElementsByTagName("head")[0];E=x.insertBefore||G.getElementsByTagName("base")[0];if(E){H=m(E,C);if(H){D=H.parentNode;}}for(B=0;B<A;B=B+1){z=y[B];if(z.clearAttributes){z.clearAttributes();}else{for(F in z){if(z.hasOwnProperty(F)){delete z[F];}}}D.removeChild(z);}}x.nodes=[];};return{PURGE_THRESH:20,_finalize:function(x){setTimeout(function(){i(x);},0);},abort:function(y){var z=(a.isString(y))?y:y.tId,x=l[z];
if(x){x.aborted=true;}},script:function(x,y){return r("script",x,y);},css:function(x,y){return r("css",x,y);}};}();},"3.3.0",{requires:["yui-base"]});YUI.add("features",function(b){var c={};b.mix(b.namespace("Features"),{tests:c,add:function(d,e,f){c[d]=c[d]||{};c[d][e]=f;},all:function(e,f){var g=c[e],d="";if(g){b.Object.each(g,function(i,h){d+=h+":"+(b.Features.test(e,h,f)?1:0)+";";});}return d;},test:function(e,g,f){f=f||[];var d,i,k,j=c[e],h=j&&j[g];if(!h){}else{d=h.result;if(b.Lang.isUndefined(d)){i=h.ua;if(i){d=(b.UA[i]);}k=h.test;if(k&&((!i)||d)){d=k.apply(b,f);}h.result=d;}}return d;}});var a=b.Features.add;a("load","0",{"test":function(d){return !(d.UA.ios||d.UA.android);},"trigger":"autocomplete-list"});a("load","1",{"test":function(j){var h=j.Features.test,i=j.Features.add,f=j.config.win,g=j.config.doc,d="documentElement",e=false;i("style","computedStyle",{test:function(){return f&&"getComputedStyle" in f;}});i("style","opacity",{test:function(){return g&&"opacity" in g[d].style;}});e=(!h("style","opacity")&&!h("style","computedStyle"));return e;},"trigger":"dom-style"});a("load","2",{"trigger":"widget-base","ua":"ie"});a("load","3",{"test":function(e){var d=e.config.doc&&e.config.doc.implementation;return(d&&(!d.hasFeature("Events","2.0")));},"trigger":"node-base"});a("load","4",{"test":function(d){return(d.config.win&&("ontouchstart" in d.config.win&&!d.UA.chrome));},"trigger":"dd-drag"});a("load","5",{"test":function(e){var d=e.config.doc.documentMode;return e.UA.ie&&(!("onhashchange" in e.config.win)||!d||d<8);},"trigger":"history-hash"});},"3.3.0",{requires:["yui-base"]});YUI.add("rls",function(a){a._rls=function(g){var d=a.config,f=d.rls||{m:1,v:a.version,gv:d.gallery,env:1,lang:d.lang,"2in3v":d["2in3"],"2v":d.yui2,filt:d.filter,filts:d.filters,tests:1},b=d.rls_base||"load?",e=d.rls_tmpl||function(){var h="",i;for(i in f){if(i in f&&f[i]){h+=i+"={"+i+"}&";}}return h;}(),c;f.m=g;f.env=a.Object.keys(YUI.Env.mods);f.tests=a.Features.all("load",[a]);c=a.Lang.sub(b+e,f);d.rls=f;d.rls_tmpl=e;return c;};},"3.3.0",{requires:["get","features"]});YUI.add("intl-base",function(b){var a=/[, ]/;b.mix(b.namespace("Intl"),{lookupBestLang:function(g,h){var f,j,c,e;function d(l){var k;for(k=0;k<h.length;k+=1){if(l.toLowerCase()===h[k].toLowerCase()){return h[k];}}}if(b.Lang.isString(g)){g=g.split(a);}for(f=0;f<g.length;f+=1){j=g[f];if(!j||j==="*"){continue;}while(j.length>0){c=d(j);if(c){return c;}else{e=j.lastIndexOf("-");if(e>=0){j=j.substring(0,e);if(e>=2&&j.charAt(e-2)==="-"){j=j.substring(0,e-2);}}else{break;}}}}return"";}});},"3.3.0",{requires:["yui-base"]});YUI.add("yui-log",function(d){var c=d,e="yui:log",a="undefined",b={debug:1,info:1,warn:1,error:1};c.log=function(j,s,g,q){var l,p,n,k,o,i=c,r=i.config,h=(i.fire)?i:YUI.Env.globalEvents;if(r.debug){if(g){p=r.logExclude;n=r.logInclude;if(n&&!(g in n)){l=1;}else{if(p&&(g in p)){l=1;}}}if(!l){if(r.useBrowserConsole){k=(g)?g+": "+j:j;if(i.Lang.isFunction(r.logFn)){r.logFn.call(i,j,s,g);}else{if(typeof console!=a&&console.log){o=(s&&console[s]&&(s in b))?s:"log";console[o](k);}else{if(typeof opera!=a){opera.postError(k);}}}}if(h&&!q){if(h==i&&(!h.getEvent(e))){h.publish(e,{broadcast:2});}h.fire(e,{msg:j,cat:s,src:g});}}}return i;};c.message=function(){return c.log.apply(c,arguments);};},"3.3.0",{requires:["yui-base"]});YUI.add("yui-later",function(a){a.later=function(c,i,d,h,g){c=c||0;var b=d,e,j;if(i&&a.Lang.isString(d)){b=i[d];}e=!a.Lang.isUndefined(h)?function(){b.apply(i,a.Array(h));}:function(){b.call(i);};j=(g)?setInterval(e,c):setTimeout(e,c);return{id:j,interval:g,cancel:function(){if(this.interval){clearInterval(j);}else{clearTimeout(j);}}};};a.Lang.later=a.later;},"3.3.0",{requires:["yui-base"]});YUI.add("yui-throttle",function(a){
/* Based on work by Simon Willison: http://gist.github.com/292562 */
a.throttle=function(c,b){b=(b)?b:(a.config.throttleTime||150);if(b===-1){return(function(){c.apply(null,arguments);});}var d=a.Lang.now();return(function(){var e=a.Lang.now();if(e-d>b){d=e;c.apply(null,arguments);}});};},"3.3.0",{requires:["yui-base"]});YUI.add("yui",function(a){},"3.3.0",{use:["yui-base","get","features","rls","intl-base","yui-log","yui-later","yui-throttle"]});YUI.add("oop",function(h){var d=h.Lang,c=h.Array,b=Object.prototype,a="_~yuim~_",e="each",g="some",f=function(l,k,m,i,j){if(l&&l[j]&&l!==h){return l[j].call(l,k,m);}else{switch(c.test(l)){case 1:return c[j](l,k,m);case 2:return c[j](h.Array(l,0,true),k,m);default:return h.Object[j](l,k,m,i);}}};h.augment=function(i,x,l,v,p){var n=x.prototype,t=null,w=x,q=(p)?h.Array(p):[],k=i.prototype,o=k||i,u=false,j,m;if(k&&w){j={};m={};t={};h.Object.each(n,function(s,r){m[r]=function(){for(var y in j){if(j.hasOwnProperty(y)&&(this[y]===m[y])){this[y]=j[y];}}w.apply(this,q);return j[r].apply(this,arguments);};if((!v||(r in v))&&(l||!(r in this))){if(d.isFunction(s)){j[r]=s;this[r]=m[r];}else{this[r]=s;}}},t,true);}else{u=true;}h.mix(o,t||n,l,v);if(u){x.apply(o,q);}return i;};h.aggregate=function(k,j,i,l){return h.mix(k,j,i,l,0,true);};h.extend=function(l,k,i,n){if(!k||!l){h.error("extend failed, verify dependencies");}var m=k.prototype,j=h.Object(m);l.prototype=j;j.constructor=l;l.superclass=m;if(k!=Object&&m.constructor==b.constructor){m.constructor=k;}if(i){h.mix(j,i,true);}if(n){h.mix(l,n,true);}return l;};h.each=function(k,j,l,i){return f(k,j,l,i,e);};h.some=function(k,j,l,i){return f(k,j,l,i,g);};h.clone=function(l,m,r,s,k,q){if(!d.isObject(l)){return l;}if(h.instanceOf(l,YUI)){return l;}var n,j=q||{},i,p=h.each;switch(d.type(l)){case"date":return new Date(l);case"regexp":return l;case"function":return l;case"array":n=[];break;default:if(l[a]){return j[l[a]];}i=h.guid();n=(m)?{}:h.Object(l);l[a]=i;j[i]=l;}if(!l.addEventListener&&!l.attachEvent){p(l,function(t,o){if((o||o===0)&&(!r||(r.call(s||this,t,o,this,l)!==false))){if(o!==a){if(o=="prototype"){}else{this[o]=h.clone(t,m,r,s,k||l,j);}}}},n);}if(!q){h.Object.each(j,function(t,o){if(t[a]){try{delete t[a];}catch(u){t[a]=null;
}}},this);j=null;}return n;};h.bind=function(i,k){var j=arguments.length>2?h.Array(arguments,2,true):null;return function(){var m=d.isString(i)?k[i]:i,l=(j)?j.concat(h.Array(arguments,0,true)):arguments;return m.apply(k||m,l);};};h.rbind=function(i,k){var j=arguments.length>2?h.Array(arguments,2,true):null;return function(){var m=d.isString(i)?k[i]:i,l=(j)?h.Array(arguments,0,true).concat(j):arguments;return m.apply(k||m,l);};};},"3.3.0");YUI.add("dom-base",function(d){(function(h){var o="nodeType",u="ownerDocument",v="documentElement",g="defaultView",m="parentWindow",s="tagName",k="parentNode",e="firstChild",t="previousSibling",w="nextSibling",l="contains",r="compareDocumentPosition",f="",i=[],y=h.config.doc.documentElement,n=/<([a-z]+)/i,j=function(B,z){var C=h.config.doc.createElement("div"),A=true;C.innerHTML=B;if(!C.firstChild||C.firstChild.tagName!==z.toUpperCase()){A=false;}return A;},p=h.Features.add,q=h.Features.test,x={byId:function(A,z){return x.allById(A,z)[0]||null;},getText:(y.textContent!==undefined)?function(A){var z="";if(A){z=A.textContent;}return z||"";}:function(A){var z="";if(A){z=A.innerText||A.nodeValue;}return z||"";},setText:(y.textContent!==undefined)?function(z,A){if(z){z.textContent=A;}}:function(z,A){if("innerText" in z){z.innerText=A;}else{if("nodeValue" in z){z.nodeValue=A;}}},ancestor:function(A,B,C){var z=null;if(C){z=(!B||B(A))?A:null;}return z||x.elementByAxis(A,k,B,null);},ancestors:function(B,C,D){var A=x.ancestor.apply(x,arguments),z=(A)?[A]:[];while((A=x.ancestor(A,C))){if(A){z.unshift(A);}}return z;},elementByAxis:function(z,C,B,A){while(z&&(z=z[C])){if((A||z[s])&&(!B||B(z))){return z;}}return null;},contains:function(A,B){var z=false;if(!B||!A||!B[o]||!A[o]){z=false;}else{if(A[l]){if(h.UA.opera||B[o]===1){z=A[l](B);}else{z=x._bruteContains(A,B);}}else{if(A[r]){if(A===B||!!(A[r](B)&16)){z=true;}}}}return z;},inDoc:function(B,C){var A=false,z;if(B&&B.nodeType){(C)||(C=B[u]);z=C[v];if(z&&z.contains&&B.tagName){A=z.contains(B);}else{A=x.contains(z,B);}}return A;},allById:function(E,z){z=z||h.config.doc;var A=[],B=[],C,D;if(z.querySelectorAll){B=z.querySelectorAll('[id="'+E+'"]');}else{if(z.all){A=z.all(E);if(A){if(A.nodeName){if(A.id===E){B.push(A);A=i;}else{A=[A];}}if(A.length){for(C=0;D=A[C++];){if(D.id===E||(D.attributes&&D.attributes.id&&D.attributes.id.value===E)){B.push(D);}}}}}else{B=[x._getDoc(z).getElementById(E)];}}return B;},create:function(D,G){if(typeof D==="string"){D=h.Lang.trim(D);}G=G||h.config.doc;var C=n.exec(D),E=x._create,A=x.creators,F=null,B,H,z;if(D!=undefined){if(C&&C[1]){B=A[C[1].toLowerCase()];if(typeof B==="function"){E=B;}else{H=B;}}z=E(D,G,H).childNodes;if(z.length===1){F=z[0].parentNode.removeChild(z[0]);}else{if(z[0]&&z[0].className==="yui3-big-dummy"){if(z.length===2){F=z[0].nextSibling;}else{z[0].parentNode.removeChild(z[0]);F=x._nl2frag(z,G);}}else{F=x._nl2frag(z,G);}}}return F;},_nl2frag:function(A,D){var B=null,C,z;if(A&&(A.push||A.item)&&A[0]){D=D||A[0].ownerDocument;B=D.createDocumentFragment();if(A.item){A=h.Array(A,0,true);}for(C=0,z=A.length;C<z;C++){B.appendChild(A[C]);}}return B;},CUSTOM_ATTRIBUTES:(!y.hasAttribute)?{"for":"htmlFor","class":"className"}:{"htmlFor":"for","className":"class"},setAttribute:function(B,z,C,A){if(B&&z&&B.setAttribute){z=x.CUSTOM_ATTRIBUTES[z]||z;B.setAttribute(z,C,A);}},getAttribute:function(C,z,B){B=(B!==undefined)?B:2;var A="";if(C&&z&&C.getAttribute){z=x.CUSTOM_ATTRIBUTES[z]||z;A=C.getAttribute(z,B);if(A===null){A="";}}return A;},isWindow:function(z){return !!(z&&z.alert&&z.document);},_fragClones:{},_create:function(A,B,z){z=z||"div";var C=x._fragClones[z];if(C){C=C.cloneNode(false);}else{C=x._fragClones[z]=B.createElement(z);}C.innerHTML=A;return C;},_removeChildNodes:function(z){while(z.firstChild){z.removeChild(z.firstChild);}},addHTML:function(G,F,B){var z=G.parentNode,D=0,E,A=F,C;if(F!=undefined){if(F.nodeType){C=F;}else{if(typeof F=="string"||typeof F=="number"){A=C=x.create(F);}else{if(F[0]&&F[0].nodeType){C=h.config.doc.createDocumentFragment();while((E=F[D++])){C.appendChild(E);}}}}}if(B){if(B.nodeType){B.parentNode.insertBefore(C,B);}else{switch(B){case"replace":while(G.firstChild){G.removeChild(G.firstChild);}if(C){G.appendChild(C);}break;case"before":z.insertBefore(C,G);break;case"after":if(G.nextSibling){z.insertBefore(C,G.nextSibling);}else{z.appendChild(C);}break;default:G.appendChild(C);}}}else{if(C){G.appendChild(C);}}return A;},VALUE_SETTERS:{},VALUE_GETTERS:{},getValue:function(B){var A="",z;if(B&&B[s]){z=x.VALUE_GETTERS[B[s].toLowerCase()];if(z){A=z(B);}else{A=B.value;}}if(A===f){A=f;}return(typeof A==="string")?A:"";},setValue:function(z,A){var B;if(z&&z[s]){B=x.VALUE_SETTERS[z[s].toLowerCase()];if(B){B(z,A);}else{z.value=A;}}},siblings:function(C,B){var z=[],A=C;while((A=A[t])){if(A[s]&&(!B||B(A))){z.unshift(A);}}A=C;while((A=A[w])){if(A[s]&&(!B||B(A))){z.push(A);}}return z;},_bruteContains:function(z,A){while(A){if(z===A){return true;}A=A.parentNode;}return false;},_getRegExp:function(A,z){z=z||"";x._regexCache=x._regexCache||{};if(!x._regexCache[A+z]){x._regexCache[A+z]=new RegExp(A,z);}return x._regexCache[A+z];},_getDoc:function(z){var A=h.config.doc;if(z){A=(z[o]===9)?z:z[u]||z.document||h.config.doc;}return A;},_getWin:function(z){var A=x._getDoc(z);return A[g]||A[m]||h.config.win;},_batch:function(z,I,F,E,D,B){I=(typeof I==="string")?x[I]:I;var J,H=Array.prototype.slice.call(arguments,2),C=0,A,G;if(I&&z){while((A=z[C++])){J=J=I.call(x,A,F,E,D,B);if(typeof J!=="undefined"){(G)||(G=[]);G.push(J);}}}return(typeof G!=="undefined")?G:z;},wrap:function(C,A){var B=h.DOM.create(A),z=B.getElementsByTagName("*");if(z.length){B=z[z.length-1];}if(C.parentNode){C.parentNode.replaceChild(B,C);}B.appendChild(C);},unwrap:function(C){var A=C.parentNode,B=A.lastChild,C=A.firstChild,z=C,D;if(A){D=A.parentNode;if(D){while(C!==B){z=C.nextSibling;D.insertBefore(C,A);C=z;}D.replaceChild(B,A);}else{A.removeChild(C);}}},generateID:function(z){var A=z.id;if(!A){A=h.stamp(z);
z.id=A;}return A;},creators:{}};p("innerhtml","table",{test:function(){var z=h.config.doc.createElement("table");try{z.innerHTML="<tbody></tbody>";}catch(A){return false;}return(z.firstChild&&z.firstChild.nodeName==="TBODY");}});p("innerhtml-div","tr",{test:function(){return j("<tr></tr>","tr");}});p("innerhtml-div","script",{test:function(){return j("<script><\/script>","script");}});p("value-set","select",{test:function(){var z=h.config.doc.createElement("select");z.innerHTML="<option>1</option><option>2</option>";z.value="2";return(z.value&&z.value==="2");}});(function(D){var E=x.creators,z=x.create,C=/(?:\/(?:thead|tfoot|tbody|caption|col|colgroup)>)+\s*<tbody/,B="<table>",A="</table>";if(!q("innerhtml","table")){E.tbody=function(G,H){var I=z(B+G+A,H),F=I.children.tags("tbody")[0];if(I.children.length>1&&F&&!C.test(G)){F[k].removeChild(F);}return I;};}if(!q("innerhtml-div","script")){E.script=function(F,G){var H=G.createElement("div");H.innerHTML="-"+F;H.removeChild(H[e]);return H;};x.creators.link=x.creators.style=x.creators.script;}if(!q("value-set","select")){x.VALUE_SETTERS.select=function(I,J){for(var G=0,F=I.getElementsByTagName("option"),H;H=F[G++];){if(x.getValue(H)===J){H.selected=true;break;}}};}D.mix(x.VALUE_GETTERS,{button:function(F){return(F.attributes&&F.attributes.value)?F.attributes.value.value:"";}});D.mix(x.VALUE_SETTERS,{button:function(G,H){var F=G.attributes.value;if(!F){F=G[u].createAttribute("value");G.setAttributeNode(F);}F.value=H;}});if(!q("innerhtml-div","tr")){D.mix(E,{option:function(F,G){return z('<select><option class="yui3-big-dummy" selected></option>'+F+"</select>",G);},tr:function(F,G){return z("<tbody>"+F+"</tbody>",G);},td:function(F,G){return z("<tr>"+F+"</tr>",G);},col:function(F,G){return z("<colgroup>"+F+"</colgroup>",G);},tbody:"table"});D.mix(E,{legend:"fieldset",th:E.td,thead:E.tbody,tfoot:E.tbody,caption:E.tbody,colgroup:E.tbody,optgroup:E.option});}D.mix(x.VALUE_GETTERS,{option:function(G){var F=G.attributes;return(F.value&&F.value.specified)?G.value:G.text;},select:function(G){var H=G.value,F=G.options;if(F&&F.length){if(G.multiple){}else{H=x.getValue(F[G.selectedIndex]);}}return H;}});})(h);h.DOM=x;})(d);var b,a,c;d.mix(d.DOM,{hasClass:function(g,f){var e=d.DOM._getRegExp("(?:^|\\s+)"+f+"(?:\\s+|$)");return e.test(g.className);},addClass:function(f,e){if(!d.DOM.hasClass(f,e)){f.className=d.Lang.trim([f.className,e].join(" "));}},removeClass:function(f,e){if(e&&a(f,e)){f.className=d.Lang.trim(f.className.replace(d.DOM._getRegExp("(?:^|\\s+)"+e+"(?:\\s+|$)")," "));if(a(f,e)){c(f,e);}}},replaceClass:function(f,e,g){c(f,e);b(f,g);},toggleClass:function(f,e,g){var h=(g!==undefined)?g:!(a(f,e));if(h){b(f,e);}else{c(f,e);}}});a=d.DOM.hasClass;c=d.DOM.removeClass;b=d.DOM.addClass;d.mix(d.DOM,{setWidth:function(f,e){d.DOM._setSize(f,"width",e);},setHeight:function(f,e){d.DOM._setSize(f,"height",e);},_setSize:function(f,h,g){g=(g>0)?g:0;var e=0;f.style[h]=g+"px";e=(h==="height")?f.offsetHeight:f.offsetWidth;if(e>g){g=g-(e-g);if(g<0){g=0;}f.style[h]=g+"px";}}});},"3.3.0",{requires:["oop"]});YUI.add("dom-style",function(a){(function(e){var p="documentElement",b="defaultView",n="ownerDocument",h="style",i="float",r="cssFloat",s="styleFloat",k="transparent",d="getComputedStyle",c="getBoundingClientRect",o=e.config.win,g=e.config.doc,t=undefined,q=e.DOM,f="transform",l=["WebkitTransform","MozTransform","OTransform"],m=/color$/i,j=/width|height|top|left|right|bottom|margin|padding/i;e.Array.each(l,function(u){if(u in g[p].style){f=u;}});e.mix(q,{DEFAULT_UNIT:"px",CUSTOM_STYLES:{},setStyle:function(x,u,y,w){w=w||x.style;var v=q.CUSTOM_STYLES;if(w){if(y===null||y===""){y="";}else{if(!isNaN(new Number(y))&&j.test(u)){y+=q.DEFAULT_UNIT;}}if(u in v){if(v[u].set){v[u].set(x,y,w);return;}else{if(typeof v[u]==="string"){u=v[u];}}}else{if(u===""){u="cssText";y="";}}w[u]=y;}},getStyle:function(x,u,w){w=w||x.style;var v=q.CUSTOM_STYLES,y="";if(w){if(u in v){if(v[u].get){return v[u].get(x,u,w);}else{if(typeof v[u]==="string"){u=v[u];}}}y=w[u];if(y===""){y=q[d](x,u);}}return y;},setStyles:function(v,w){var u=v.style;e.each(w,function(x,y){q.setStyle(v,y,x,u);},q);},getComputedStyle:function(v,u){var x="",w=v[n];if(v[h]&&w[b]&&w[b][d]){x=w[b][d](v,null)[u];}return x;}});if(g[p][h][r]!==t){q.CUSTOM_STYLES[i]=r;}else{if(g[p][h][s]!==t){q.CUSTOM_STYLES[i]=s;}}if(e.UA.opera){q[d]=function(w,v){var u=w[n][b],x=u[d](w,"")[v];if(m.test(v)){x=e.Color.toRGB(x);}return x;};}if(e.UA.webkit){q[d]=function(w,v){var u=w[n][b],x=u[d](w,"")[v];if(x==="rgba(0, 0, 0, 0)"){x=k;}return x;};}e.DOM._getAttrOffset=function(y,v){var A=e.DOM[d](y,v),x=y.offsetParent,u,w,z;if(A==="auto"){u=e.DOM.getStyle(y,"position");if(u==="static"||u==="relative"){A=0;}else{if(x&&x[c]){w=x[c]()[v];z=y[c]()[v];if(v==="left"||v==="top"){A=z-w;}else{A=w-y[c]()[v];}}}}return A;};e.DOM._getOffset=function(u){var w,v=null;if(u){w=q.getStyle(u,"position");v=[parseInt(q[d](u,"left"),10),parseInt(q[d](u,"top"),10)];if(isNaN(v[0])){v[0]=parseInt(q.getStyle(u,"left"),10);if(isNaN(v[0])){v[0]=(w==="relative")?0:u.offsetLeft||0;}}if(isNaN(v[1])){v[1]=parseInt(q.getStyle(u,"top"),10);if(isNaN(v[1])){v[1]=(w==="relative")?0:u.offsetTop||0;}}}return v;};q.CUSTOM_STYLES.transform={set:function(v,w,u){u[f]=w;},get:function(v,u){return q[d](v,f);}};})(a);(function(d){var b=parseInt,c=RegExp;d.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},re_RGB:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,re_hex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,re_hex3:/([0-9A-F])/gi,toRGB:function(e){if(!d.Color.re_RGB.test(e)){e=d.Color.toHex(e);}if(d.Color.re_hex.exec(e)){e="rgb("+[b(c.$1,16),b(c.$2,16),b(c.$3,16)].join(", ")+")";}return e;},toHex:function(f){f=d.Color.KEYWORDS[f]||f;if(d.Color.re_RGB.exec(f)){f=[Number(c.$1).toString(16),Number(c.$2).toString(16),Number(c.$3).toString(16)];
for(var e=0;e<f.length;e++){if(f[e].length<2){f[e]="0"+f[e];}}f=f.join("");}if(f.length<6){f=f.replace(d.Color.re_hex3,"$1$1");}if(f!=="transparent"&&f.indexOf("#")<0){f="#"+f;}return f.toUpperCase();}};})(a);},"3.3.0",{requires:["dom-base"]});YUI.add("dom-screen",function(a){(function(f){var d="documentElement",q="compatMode",o="position",c="fixed",m="relative",g="left",h="top",i="BackCompat",p="medium",e="borderLeftWidth",b="borderTopWidth",r="getBoundingClientRect",k="getComputedStyle",l=f.DOM,n=/^t(?:able|d|h)$/i,j;if(f.UA.ie){if(f.config.doc[q]!=="quirks"){j=d;}else{j="body";}}f.mix(l,{winHeight:function(t){var s=l._getWinSize(t).height;return s;},winWidth:function(t){var s=l._getWinSize(t).width;return s;},docHeight:function(t){var s=l._getDocSize(t).height;return Math.max(s,l._getWinSize(t).height);},docWidth:function(t){var s=l._getDocSize(t).width;return Math.max(s,l._getWinSize(t).width);},docScrollX:function(u,v){v=v||(u)?l._getDoc(u):f.config.doc;var t=v.defaultView,s=(t)?t.pageXOffset:0;return Math.max(v[d].scrollLeft,v.body.scrollLeft,s);},docScrollY:function(u,v){v=v||(u)?l._getDoc(u):f.config.doc;var t=v.defaultView,s=(t)?t.pageYOffset:0;return Math.max(v[d].scrollTop,v.body.scrollTop,s);},getXY:function(){if(f.config.doc[d][r]){return function(x){var E=null,y,u,z,C,B,t,w,A,D,s,v;if(x&&x.tagName){D=x.ownerDocument;v=D[d];if(v.contains){s=v.contains(x);}else{s=f.DOM.contains(v,x);}if(s){y=(j)?D[j].scrollLeft:l.docScrollX(x,D);u=(j)?D[j].scrollTop:l.docScrollY(x,D);z=x[r]();E=[z.left,z.top];if(f.UA.ie){C=2;B=2;A=D[q];t=l[k](D[d],e);w=l[k](D[d],b);if(f.UA.ie===6){if(A!==i){C=0;B=0;}}if((A==i)){if(t!==p){C=parseInt(t,10);}if(w!==p){B=parseInt(w,10);}}E[0]-=C;E[1]-=B;}if((u||y)){if(!f.UA.ios||(f.UA.ios>=4.2)){E[0]+=y;E[1]+=u;}}}else{E=l._getOffset(x);}}return E;};}else{return function(t){var w=null,v,s,y,u,x;if(t){if(l.inDoc(t)){w=[t.offsetLeft,t.offsetTop];v=t.ownerDocument;s=t;y=((f.UA.gecko||f.UA.webkit>519)?true:false);while((s=s.offsetParent)){w[0]+=s.offsetLeft;w[1]+=s.offsetTop;if(y){w=l._calcBorders(s,w);}}if(l.getStyle(t,o)!=c){s=t;while((s=s.parentNode)){u=s.scrollTop;x=s.scrollLeft;if(f.UA.gecko&&(l.getStyle(s,"overflow")!=="visible")){w=l._calcBorders(s,w);}if(u||x){w[0]-=x;w[1]-=u;}}w[0]+=l.docScrollX(t,v);w[1]+=l.docScrollY(t,v);}else{w[0]+=l.docScrollX(t,v);w[1]+=l.docScrollY(t,v);}}else{w=l._getOffset(t);}}return w;};}}(),getX:function(s){return l.getXY(s)[0];},getY:function(s){return l.getXY(s)[1];},setXY:function(t,w,z){var u=l.setStyle,y,x,s,v;if(t&&w){y=l.getStyle(t,o);x=l._getOffset(t);if(y=="static"){y=m;u(t,o,y);}v=l.getXY(t);if(w[0]!==null){u(t,g,w[0]-v[0]+x[0]+"px");}if(w[1]!==null){u(t,h,w[1]-v[1]+x[1]+"px");}if(!z){s=l.getXY(t);if(s[0]!==w[0]||s[1]!==w[1]){l.setXY(t,w,true);}}}else{}},setX:function(t,s){return l.setXY(t,[s,null]);},setY:function(s,t){return l.setXY(s,[null,t]);},swapXY:function(t,s){var u=l.getXY(t);l.setXY(t,l.getXY(s));l.setXY(s,u);},_calcBorders:function(v,w){var u=parseInt(l[k](v,b),10)||0,s=parseInt(l[k](v,e),10)||0;if(f.UA.gecko){if(n.test(v.tagName)){u=0;s=0;}}w[0]+=s;w[1]+=u;return w;},_getWinSize:function(v,y){y=y||(v)?l._getDoc(v):f.config.doc;var x=y.defaultView||y.parentWindow,z=y[q],u=x.innerHeight,t=x.innerWidth,s=y[d];if(z&&!f.UA.opera){if(z!="CSS1Compat"){s=y.body;}u=s.clientHeight;t=s.clientWidth;}return{height:u,width:t};},_getDocSize:function(t){var u=(t)?l._getDoc(t):f.config.doc,s=u[d];if(u[q]!="CSS1Compat"){s=u.body;}return{height:s.scrollHeight,width:s.scrollWidth};}});})(a);(function(g){var d="top",c="right",h="bottom",b="left",f=function(m,k){var o=Math.max(m[d],k[d]),p=Math.min(m[c],k[c]),i=Math.min(m[h],k[h]),j=Math.max(m[b],k[b]),n={};n[d]=o;n[c]=p;n[h]=i;n[b]=j;return n;},e=g.DOM;g.mix(e,{region:function(j){var k=e.getXY(j),i=false;if(j&&k){i=e._getRegion(k[1],k[0]+j.offsetWidth,k[1]+j.offsetHeight,k[0]);}return i;},intersect:function(k,i,m){var j=m||e.region(k),l={},p=i,o;if(p.tagName){l=e.region(p);}else{if(g.Lang.isObject(i)){l=i;}else{return false;}}o=f(l,j);return{top:o[d],right:o[c],bottom:o[h],left:o[b],area:((o[h]-o[d])*(o[c]-o[b])),yoff:((o[h]-o[d])),xoff:(o[c]-o[b]),inRegion:e.inRegion(k,i,false,m)};},inRegion:function(l,i,j,o){var m={},k=o||e.region(l),q=i,p;if(q.tagName){m=e.region(q);}else{if(g.Lang.isObject(i)){m=i;}else{return false;}}if(j){return(k[b]>=m[b]&&k[c]<=m[c]&&k[d]>=m[d]&&k[h]<=m[h]);}else{p=f(m,k);if(p[h]>=p[d]&&p[c]>=p[b]){return true;}else{return false;}}},inViewportRegion:function(j,i,k){return e.inRegion(j,e.viewportRegion(j),i,k);},_getRegion:function(k,m,i,j){var n={};n[d]=n[1]=k;n[b]=n[0]=j;n[h]=i;n[c]=m;n.width=n[c]-n[b];n.height=n[h]-n[d];return n;},viewportRegion:function(j){j=j||g.config.doc.documentElement;var i=false,l,k;if(j){l=e.docScrollX(j);k=e.docScrollY(j);i=e._getRegion(k,e.winWidth(j)+l,k+e.winHeight(j),l);}return i;}});})(a);},"3.3.0",{requires:["dom-base","dom-style","event-base"]});YUI.add("selector-native",function(a){(function(e){e.namespace("Selector");var c="compareDocumentPosition",d="ownerDocument";var b={_foundCache:[],useNative:true,_compare:("sourceIndex" in e.config.doc.documentElement)?function(i,h){var g=i.sourceIndex,f=h.sourceIndex;if(g===f){return 0;}else{if(g>f){return 1;}}return -1;}:(e.config.doc.documentElement[c]?function(g,f){if(g[c](f)&4){return -1;}else{return 1;}}:function(j,i){var h,f,g;if(j&&i){h=j[d].createRange();h.setStart(j,0);f=i[d].createRange();f.setStart(i,0);g=h.compareBoundaryPoints(1,f);}return g;}),_sort:function(f){if(f){f=e.Array(f,0,true);if(f.sort){f.sort(b._compare);}}return f;},_deDupe:function(f){var g=[],h,j;for(h=0;(j=f[h++]);){if(!j._found){g[g.length]=j;j._found=true;}}for(h=0;(j=g[h++]);){j._found=null;j.removeAttribute("_found");}return g;},query:function(g,o,p,f){o=o||e.config.doc;var l=[],h=(e.Selector.useNative&&e.config.doc.querySelector&&!f),k=[[g,o]],m,q,j,n=(h)?e.Selector._nativeQuery:e.Selector._bruteQuery;if(g&&n){if(!f&&(!h||o.tagName)){k=b._splitQueries(g,o);}for(j=0;(m=k[j++]);){q=n(m[0],m[1],p);
if(!p){q=e.Array(q,0,true);}if(q){l=l.concat(q);}}if(k.length>1){l=b._sort(b._deDupe(l));}}return(p)?(l[0]||null):l;},_splitQueries:function(h,l){var g=h.split(","),j=[],m="",k,f;if(l){if(l.tagName){l.id=l.id||e.guid();m='[id="'+l.id+'"] ';}for(k=0,f=g.length;k<f;++k){h=m+g[k];j.push([h,l]);}}return j;},_nativeQuery:function(f,g,h){if(e.UA.webkit&&f.indexOf(":checked")>-1&&(e.Selector.pseudos&&e.Selector.pseudos.checked)){return e.Selector.query(f,g,h,true);}try{return g["querySelector"+(h?"":"All")](f);}catch(i){return e.Selector.query(f,g,h,true);}},filter:function(g,f){var h=[],j,k;if(g&&f){for(j=0;(k=g[j++]);){if(e.Selector.test(k,f)){h[h.length]=k;}}}else{}return h;},test:function(h,k,p){var n=false,g=k.split(","),f=false,q,t,o,s,m,l,r;if(h&&h.tagName){if(!p&&!e.DOM.inDoc(h)){q=h.parentNode;if(q){p=q;}else{s=h[d].createDocumentFragment();s.appendChild(h);p=s;f=true;}}p=p||h[d];if(!h.id){h.id=e.guid();}for(m=0;(r=g[m++]);){r+='[id="'+h.id+'"]';o=e.Selector.query(r,p);for(l=0;t=o[l++];){if(t===h){n=true;break;}}if(n){break;}}if(f){s.removeChild(h);}}return n;},ancestor:function(g,f,h){return e.DOM.ancestor(g,function(i){return e.Selector.test(i,f);},h);}};e.mix(e.Selector,b,true);})(a);},"3.3.0",{requires:["dom-base"]});YUI.add("selector-css2",function(g){var h="parentNode",d="tagName",e="attributes",a="combinator",f="pseudos",c=g.Selector,b={_reRegExpTokens:/([\^\$\?\[\]\*\+\-\.\(\)\|\\])/,SORT_RESULTS:true,_children:function(n,j){var k=n.children,m,l=[],o,p;if(n.children&&j&&n.children.tags){l=n.children.tags(j);}else{if((!k&&n[d])||(k&&j)){o=k||n.childNodes;k=[];for(m=0;(p=o[m++]);){if(p.tagName){if(!j||j===p.tagName){k.push(p);}}}}}return k||[];},_re:{attr:/(\[[^\]]*\])/g,pseudos:/:([\-\w]+(?:\(?:['"]?(.+)['"]?\)))*/i},shorthand:{"\\#(-?[_a-z]+[-\\w]*)":"[id=$1]","\\.(-?[_a-z]+[-\\w]*)":"[className~=$1]"},operators:{"":function(j,i){return g.DOM.getAttribute(j,i)!=="";},"~=":"(?:^|\\s+){val}(?:\\s+|$)","|=":"^{val}-?"},pseudos:{"first-child":function(i){return g.Selector._children(i[h])[0]===i;}},_bruteQuery:function(n,r,t){var o=[],i=[],q=c._tokenize(n),m=q[q.length-1],s=g.DOM._getDoc(r),k,j,p,l;if(m){j=m.id;p=m.className;l=m.tagName||"*";if(r.getElementsByTagName){if(j&&(r.all||(r.nodeType===9||g.DOM.inDoc(r)))){i=g.DOM.allById(j,r);}else{if(p){i=r.getElementsByClassName(p);}else{i=r.getElementsByTagName(l);}}}else{k=r.firstChild;while(k){if(k.tagName){i.push(k);}k=k.nextSilbing||k.firstChild;}}if(i.length){o=c._filterNodes(i,q,t);}}return o;},_filterNodes:function(u,q,s){var z=0,y,A=q.length,t=A-1,p=[],w=u[0],D=w,B=g.Selector.getters,o,x,m,r,k,v,l,C;for(z=0;(D=w=u[z++]);){t=A-1;r=null;testLoop:while(D&&D.tagName){m=q[t];l=m.tests;y=l.length;if(y&&!k){while((C=l[--y])){o=C[1];if(B[C[0]]){v=B[C[0]](D,C[0]);}else{v=D[C[0]];if(v===undefined&&D.getAttribute){v=D.getAttribute(C[0]);}}if((o==="="&&v!==C[2])||(typeof o!=="string"&&o.test&&!o.test(v))||(!o.test&&typeof o==="function"&&!o(D,C[0]))){if((D=D[r])){while(D&&(!D.tagName||(m.tagName&&m.tagName!==D.tagName))){D=D[r];}}continue testLoop;}}}t--;if(!k&&(x=m.combinator)){r=x.axis;D=D[r];while(D&&!D.tagName){D=D[r];}if(x.direct){r=null;}}else{p.push(w);if(s){return p;}break;}}}w=D=null;return p;},combinators:{" ":{axis:"parentNode"},">":{axis:"parentNode",direct:true},"+":{axis:"previousSibling",direct:true}},_parsers:[{name:e,re:/^\[(-?[a-z]+[\w\-]*)+([~\|\^\$\*!=]=?)?['"]?([^\]]*?)['"]?\]/i,fn:function(k,l){var j=k[2]||"",i=g.Selector.operators,m;if((k[1]==="id"&&j==="=")||(k[1]==="className"&&g.config.doc.documentElement.getElementsByClassName&&(j==="~="||j==="="))){l.prefilter=k[1];l[k[1]]=k[3];}if(j in i){m=i[j];if(typeof m==="string"){k[3]=k[3].replace(g.Selector._reRegExpTokens,"\\$1");m=g.DOM._getRegExp(m.replace("{val}",k[3]));}k[2]=m;}if(!l.last||l.prefilter!==k[1]){return k.slice(1);}}},{name:d,re:/^((?:-?[_a-z]+[\w-]*)|\*)/i,fn:function(j,k){var i=j[1].toUpperCase();k.tagName=i;if(i!=="*"&&(!k.last||k.prefilter)){return[d,"=",i];}if(!k.prefilter){k.prefilter="tagName";}}},{name:a,re:/^\s*([>+~]|\s)\s*/,fn:function(i,j){}},{name:f,re:/^:([\-\w]+)(?:\(['"]?(.+)['"]?\))*/i,fn:function(i,j){var k=c[f][i[1]];if(k){return[i[2],k];}else{return false;}}}],_getToken:function(i){return{tagName:null,id:null,className:null,attributes:{},combinator:null,tests:[]};},_tokenize:function(l){l=l||"";l=c._replaceShorthand(g.Lang.trim(l));var k=c._getToken(),q=l,p=[],r=false,n,o,m,j;outer:do{r=false;for(m=0;(j=c._parsers[m++]);){if((n=j.re.exec(l))){if(j.name!==a){k.selector=l;}l=l.replace(n[0],"");if(!l.length){k.last=true;}if(c._attrFilters[n[1]]){n[1]=c._attrFilters[n[1]];}o=j.fn(n,k);if(o===false){r=false;break outer;}else{if(o){k.tests.push(o);}}if(!l.length||j.name===a){p.push(k);k=c._getToken(k);if(j.name===a){k.combinator=g.Selector.combinators[n[1]];}}r=true;}}}while(r&&l.length);if(!r||l.length){p=[];}return p;},_replaceShorthand:function(k){var l=c.shorthand,m=k.match(c._re.attr),p=k.match(c._re.pseudos),o,n,j;if(p){k=k.replace(c._re.pseudos,"!!REPLACED_PSEUDO!!");}if(m){k=k.replace(c._re.attr,"!!REPLACED_ATTRIBUTE!!");}for(o in l){if(l.hasOwnProperty(o)){k=k.replace(g.DOM._getRegExp(o,"gi"),l[o]);}}if(m){for(n=0,j=m.length;n<j;++n){k=k.replace("!!REPLACED_ATTRIBUTE!!",m[n]);}}if(p){for(n=0,j=p.length;n<j;++n){k=k.replace("!!REPLACED_PSEUDO!!",p[n]);}}return k;},_attrFilters:{"class":"className","for":"htmlFor"},getters:{href:function(j,i){return g.DOM.getAttribute(j,i);}}};g.mix(g.Selector,b,true);g.Selector.getters.src=g.Selector.getters.rel=g.Selector.getters.href;if(g.Selector.useNative&&g.config.doc.querySelector){g.Selector.shorthand["\\.(-?[_a-z]+[-\\w]*)"]="[class~=$1]";}},"3.3.0",{requires:["selector-native"]});YUI.add("selector",function(a){},"3.3.0",{use:["selector-native","selector-css2"]});YUI.add("dom",function(a){},"3.3.0",{use:["dom-base","dom-style","dom-screen","selector"]});YUI.add("dom-style-ie",function(a){(function(d){var A="hasLayout",l="px",m="filter",b="filters",x="opacity",q="auto",h="borderWidth",k="borderTopWidth",u="borderRightWidth",z="borderBottomWidth",i="borderLeftWidth",j="width",s="height",v="transparent",w="visible",c="getComputedStyle",C=undefined,B=d.config.doc.documentElement,p=d.Features.test,n=d.Features.add,t=/^(\d[.\d]*)+(em|ex|px|gd|rem|vw|vh|vm|ch|mm|cm|in|pt|pc|deg|rad|ms|s|hz|khz|%){1}?/i,o=(d.UA.ie>=8),f=function(e){return e.currentStyle||e.style;
},r={CUSTOM_STYLES:{},get:function(e,E){var D="",F;if(e){F=f(e)[E];if(E===x&&d.DOM.CUSTOM_STYLES[x]){D=d.DOM.CUSTOM_STYLES[x].get(e);}else{if(!F||(F.indexOf&&F.indexOf(l)>-1)){D=F;}else{if(d.DOM.IE.COMPUTED[E]){D=d.DOM.IE.COMPUTED[E](e,E);}else{if(t.test(F)){D=r.getPixel(e,E)+l;}else{D=F;}}}}}return D;},sizeOffsets:{width:["Left","Right"],height:["Top","Bottom"],top:["Top"],bottom:["Bottom"]},getOffset:function(E,e){var I=f(E)[e],J=e.charAt(0).toUpperCase()+e.substr(1),F="offset"+J,D="pixel"+J,H=r.sizeOffsets[e],G=E.ownerDocument.compatMode,K="";if(I===q||I.indexOf("%")>-1){K=E["offset"+J];if(G!=="BackCompat"){if(H[0]){K-=r.getPixel(E,"padding"+H[0]);K-=r.getBorderWidth(E,"border"+H[0]+"Width",1);}if(H[1]){K-=r.getPixel(E,"padding"+H[1]);K-=r.getBorderWidth(E,"border"+H[1]+"Width",1);}}}else{if(!E.style[D]&&!E.style[e]){E.style[e]=I;}K=E.style[D];}return K+l;},borderMap:{thin:(o)?"1px":"2px",medium:(o)?"3px":"4px",thick:(o)?"5px":"6px"},getBorderWidth:function(D,F,e){var E=e?"":l,G=D.currentStyle[F];if(G.indexOf(l)<0){if(r.borderMap[G]&&D.currentStyle.borderStyle!=="none"){G=r.borderMap[G];}else{G=0;}}return(e)?parseFloat(G):G;},getPixel:function(E,e){var G=null,D=f(E),H=D.right,F=D[e];E.style.right=F;G=E.style.pixelRight;E.style.right=H;return G;},getMargin:function(E,e){var F,D=f(E);if(D[e]==q){F=0;}else{F=r.getPixel(E,e);}return F+l;},getVisibility:function(D,e){var E;while((E=D.currentStyle)&&E[e]=="inherit"){D=D.parentNode;}return(E)?E[e]:w;},getColor:function(D,e){var E=f(D)[e];if(!E||E===v){d.DOM.elementByAxis(D,"parentNode",null,function(F){E=f(F)[e];if(E&&E!==v){D=F;return true;}});}return d.Color.toRGB(E);},getBorderColor:function(D,e){var E=f(D),F=E[e]||E.color;return d.Color.toRGB(d.Color.toHex(F));}},g={};n("style","computedStyle",{test:function(){return"getComputedStyle" in d.config.win;}});n("style","opacity",{test:function(){return"opacity" in B.style;}});n("style","filter",{test:function(){return"filters" in B;}});if(!p("style","opacity")&&p("style","filter")){d.DOM.CUSTOM_STYLES[x]={get:function(E){var G=100;try{G=E[b]["DXImageTransform.Microsoft.Alpha"][x];}catch(F){try{G=E[b]("alpha")[x];}catch(D){}}return G/100;},set:function(E,H,D){var G,F=f(E),e=F[m];D=D||E.style;if(H===""){G=(x in F)?F[x]:1;H=G;}if(typeof e=="string"){D[m]=e.replace(/alpha([^)]*\))/gi,"")+((H<1)?"alpha("+x+"="+H*100+")":"");if(!D[m]){D.removeAttribute(m);}if(!F[A]){D.zoom=1;}}}};}try{d.config.doc.createElement("div").style.height="-1px";}catch(y){d.DOM.CUSTOM_STYLES.height={set:function(E,F,D){var e=parseFloat(F);if(e>=0||F==="auto"||F===""){D.height=F;}else{}}};d.DOM.CUSTOM_STYLES.width={set:function(E,F,D){var e=parseFloat(F);if(e>=0||F==="auto"||F===""){D.width=F;}else{}}};}if(!p("style","computedStyle")){g[j]=g[s]=r.getOffset;g.color=g.backgroundColor=r.getColor;g[h]=g[k]=g[u]=g[z]=g[i]=r.getBorderWidth;g.marginTop=g.marginRight=g.marginBottom=g.marginLeft=r.getMargin;g.visibility=r.getVisibility;g.borderColor=g.borderTopColor=g.borderRightColor=g.borderBottomColor=g.borderLeftColor=r.getBorderColor;d.DOM[c]=r.get;d.namespace("DOM.IE");d.DOM.IE.COMPUTED=g;d.DOM.IE.ComputedStyle=r;}})(a);},"3.3.0",{requires:["dom-style"]});YUI.add("event-custom-base",function(b){b.Env.evt={handles:{},plugins:{}};var g=0,i=1,p={objs:{},before:function(s,u,v,w){var t=s,r;if(w){r=[s,w].concat(b.Array(arguments,4,true));t=b.rbind.apply(b,r);}return this._inject(g,t,u,v);},after:function(s,u,v,w){var t=s,r;if(w){r=[s,w].concat(b.Array(arguments,4,true));t=b.rbind.apply(b,r);}return this._inject(i,t,u,v);},_inject:function(r,t,u,w){var x=b.stamp(u),v,s;if(!this.objs[x]){this.objs[x]={};}v=this.objs[x];if(!v[w]){v[w]=new b.Do.Method(u,w);u[w]=function(){return v[w].exec.apply(v[w],arguments);};}s=x+b.stamp(t)+w;v[w].register(s,t,r);return new b.EventHandle(v[w],s);},detach:function(r){if(r.detach){r.detach();}},_unload:function(s,r){}};b.Do=p;p.Method=function(r,s){this.obj=r;this.methodName=s;this.method=r[s];this.before={};this.after={};};p.Method.prototype.register=function(s,t,r){if(r){this.after[s]=t;}else{this.before[s]=t;}};p.Method.prototype._delete=function(r){delete this.before[r];delete this.after[r];};p.Method.prototype.exec=function(){var t=b.Array(arguments,0,true),u,s,x,v=this.before,r=this.after,w=false;for(u in v){if(v.hasOwnProperty(u)){s=v[u].apply(this.obj,t);if(s){switch(s.constructor){case p.Halt:return s.retVal;case p.AlterArgs:t=s.newArgs;break;case p.Prevent:w=true;break;default:}}}}if(!w){s=this.method.apply(this.obj,t);}p.originalRetVal=s;p.currentRetVal=s;for(u in r){if(r.hasOwnProperty(u)){x=r[u].apply(this.obj,t);if(x&&x.constructor==p.Halt){return x.retVal;}else{if(x&&x.constructor==p.AlterReturn){s=x.newRetVal;p.currentRetVal=s;}}}}return s;};p.AlterArgs=function(s,r){this.msg=s;this.newArgs=r;};p.AlterReturn=function(s,r){this.msg=s;this.newRetVal=r;};p.Halt=function(s,r){this.msg=s;this.retVal=r;};p.Prevent=function(r){this.msg=r;};p.Error=p.Halt;var m="after",q=["broadcast","monitored","bubbles","context","contextFn","currentTarget","defaultFn","defaultTargetOnly","details","emitFacade","fireOnce","async","host","preventable","preventedFn","queuable","silent","stoppedFn","target","type"],n=9,a="yui:log";b.EventHandle=function(r,s){this.evt=r;this.sub=s;};b.EventHandle.prototype={batch:function(r,s){r.call(s||this,this);if(b.Lang.isArray(this.evt)){b.Array.each(this.evt,function(t){t.batch.call(s||t,r);});}},detach:function(){var r=this.evt,t=0,s;if(r){if(b.Lang.isArray(r)){for(s=0;s<r.length;s++){t+=r[s].detach();}}else{r._delete(this.sub);t=1;}}return t;},monitor:function(r){return this.evt.monitor.apply(this.evt,arguments);}};b.CustomEvent=function(r,s){s=s||{};this.id=b.stamp(this);this.type=r;this.context=b;this.logSystem=(r==a);this.silent=this.logSystem;this.subscribers={};this.afters={};this.preventable=true;this.bubbles=true;this.signature=n;this.subCount=0;this.afterCount=0;this.applyConfig(s,true);};b.CustomEvent.prototype={hasSubs:function(r){var v=this.subCount,t=this.afterCount,u=this.sibling;
if(u){v+=u.subCount;t+=u.afterCount;}if(r){return(r=="after")?t:v;}return(v+t);},monitor:function(t){this.monitored=true;var s=this.id+"|"+this.type+"_"+t,r=b.Array(arguments,0,true);r[0]=s;return this.host.on.apply(this.host,r);},getSubs:function(){var u=b.merge(this.subscribers),r=b.merge(this.afters),t=this.sibling;if(t){b.mix(u,t.subscribers);b.mix(r,t.afters);}return[u,r];},applyConfig:function(s,r){if(s){b.mix(this,s,r,q);}},_on:function(w,u,t,r){if(!w){this.log("Invalid callback for CE: "+this.type);}var v=new b.Subscriber(w,u,t,r);if(this.fireOnce&&this.fired){if(this.async){setTimeout(b.bind(this._notify,this,v,this.firedWith),0);}else{this._notify(v,this.firedWith);}}if(r==m){this.afters[v.id]=v;this.afterCount++;}else{this.subscribers[v.id]=v;this.subCount++;}return new b.EventHandle(this,v);},subscribe:function(t,s){var r=(arguments.length>2)?b.Array(arguments,2,true):null;return this._on(t,s,r,true);},on:function(t,s){var r=(arguments.length>2)?b.Array(arguments,2,true):null;if(this.host){this.host._monitor("attach",this.type,{args:arguments});}return this._on(t,s,r,true);},after:function(t,s){var r=(arguments.length>2)?b.Array(arguments,2,true):null;return this._on(t,s,r,m);},detach:function(w,u){if(w&&w.detach){return w.detach();}var t,v,x=0,r=b.merge(this.subscribers,this.afters);for(t in r){if(r.hasOwnProperty(t)){v=r[t];if(v&&(!w||w===v.fn)){this._delete(v);x++;}}}return x;},unsubscribe:function(){return this.detach.apply(this,arguments);},_notify:function(v,u,r){this.log(this.type+"->"+"sub: "+v.id);var t;t=v.notify(u,this);if(false===t||this.stopped>1){this.log(this.type+" cancelled by subscriber");return false;}return true;},log:function(s,r){if(!this.silent){}},fire:function(){if(this.fireOnce&&this.fired){this.log("fireOnce event: "+this.type+" already fired");return true;}else{var r=b.Array(arguments,0,true);this.fired=true;this.firedWith=r;if(this.emitFacade){return this.fireComplex(r);}else{return this.fireSimple(r);}}},fireSimple:function(r){this.stopped=0;this.prevented=0;if(this.hasSubs()){var s=this.getSubs();this._procSubs(s[0],r);this._procSubs(s[1],r);}this._broadcast(r);return this.stopped?false:true;},fireComplex:function(r){r[0]=r[0]||{};return this.fireSimple(r);},_procSubs:function(v,t,r){var w,u;for(u in v){if(v.hasOwnProperty(u)){w=v[u];if(w&&w.fn){if(false===this._notify(w,t,r)){this.stopped=2;}if(this.stopped==2){return false;}}}}return true;},_broadcast:function(s){if(!this.stopped&&this.broadcast){var r=b.Array(s);r.unshift(this.type);if(this.host!==b){b.fire.apply(b,r);}if(this.broadcast==2){b.Global.fire.apply(b.Global,r);}}},unsubscribeAll:function(){return this.detachAll.apply(this,arguments);},detachAll:function(){return this.detach();},_delete:function(r){if(r){if(this.subscribers[r.id]){delete this.subscribers[r.id];this.subCount--;}if(this.afters[r.id]){delete this.afters[r.id];this.afterCount--;}}if(this.host){this.host._monitor("detach",this.type,{ce:this,sub:r});}if(r){r.deleted=true;}}};b.Subscriber=function(t,s,r){this.fn=t;this.context=s;this.id=b.stamp(this);this.args=r;};b.Subscriber.prototype={_notify:function(v,t,u){if(this.deleted&&!this.postponed){if(this.postponed){delete this.fn;delete this.context;}else{delete this.postponed;return null;}}var r=this.args,s;switch(u.signature){case 0:s=this.fn.call(v,u.type,t,v);break;case 1:s=this.fn.call(v,t[0]||null,v);break;default:if(r||t){t=t||[];r=(r)?t.concat(r):t;s=this.fn.apply(v,r);}else{s=this.fn.call(v);}}if(this.once){u._delete(this);}return s;},notify:function(s,u){var v=this.context,r=true;if(!v){v=(u.contextFn)?u.contextFn():u.context;}if(b.config.throwFail){r=this._notify(v,s,u);}else{try{r=this._notify(v,s,u);}catch(t){b.error(this+" failed: "+t.message,t);}}return r;},contains:function(s,r){if(r){return((this.fn==s)&&this.context==r);}else{return(this.fn==s);}}};var j=b.Lang,h=":",e="|",l="~AFTER~",k=b.Array,c=b.cached(function(r){return r.replace(/(.*)(:)(.*)/,"*$2$3");}),o=b.cached(function(r,s){if(!s||!j.isString(r)||r.indexOf(h)>-1){return r;}return s+h+r;}),f=b.cached(function(u,w){var s=u,v,x,r;if(!j.isString(s)){return s;}r=s.indexOf(l);if(r>-1){x=true;s=s.substr(l.length);}r=s.indexOf(e);if(r>-1){v=s.substr(0,(r));s=s.substr(r+1);if(s=="*"){s=null;}}return[v,(w)?o(s,w):s,x,s];}),d=function(r){var s=(j.isObject(r))?r:{};this._yuievt=this._yuievt||{id:b.guid(),events:{},targets:{},config:s,chain:("chain" in s)?s.chain:b.config.chain,bubbling:false,defaults:{context:s.context||this,host:this,emitFacade:s.emitFacade,fireOnce:s.fireOnce,queuable:s.queuable,monitored:s.monitored,broadcast:s.broadcast,defaultTargetOnly:s.defaultTargetOnly,bubbles:("bubbles" in s)?s.bubbles:true}};};d.prototype={once:function(){var r=this.on.apply(this,arguments);r.batch(function(s){if(s.sub){s.sub.once=true;}});return r;},parseType:function(r,s){return f(r,s||this._yuievt.config.prefix);},on:function(v,A,t){var D=f(v,this._yuievt.config.prefix),F,G,s,J,C,B,H,x=b.Env.evt.handles,u,r,y,I=b.Node,E,z,w;this._monitor("attach",D[1],{args:arguments,category:D[0],after:D[2]});if(j.isObject(v)){if(j.isFunction(v)){return b.Do.before.apply(b.Do,arguments);}F=A;G=t;s=k(arguments,0,true);J=[];if(j.isArray(v)){w=true;}u=v._after;delete v._after;b.each(v,function(M,L){if(j.isObject(M)){F=M.fn||((j.isFunction(M))?M:F);G=M.context||G;}var K=(u)?l:"";s[0]=K+((w)?M:L);s[1]=F;s[2]=G;J.push(this.on.apply(this,s));},this);return(this._yuievt.chain)?this:new b.EventHandle(J);}B=D[0];u=D[2];y=D[3];if(I&&b.instanceOf(this,I)&&(y in I.DOM_EVENTS)){s=k(arguments,0,true);s.splice(2,0,I.getDOMNode(this));return b.on.apply(b,s);}v=D[1];if(b.instanceOf(this,YUI)){r=b.Env.evt.plugins[v];s=k(arguments,0,true);s[0]=y;if(I){E=s[2];if(b.instanceOf(E,b.NodeList)){E=b.NodeList.getDOMNodes(E);}else{if(b.instanceOf(E,I)){E=I.getDOMNode(E);}}z=(y in I.DOM_EVENTS);if(z){s[2]=E;}}if(r){H=r.on.apply(b,s);}else{if((!v)||z){H=b.Event._attach(s);}}}if(!H){C=this._yuievt.events[v]||this.publish(v);H=C._on(A,t,(arguments.length>3)?k(arguments,3,true):null,(u)?"after":true);
}if(B){x[B]=x[B]||{};x[B][v]=x[B][v]||[];x[B][v].push(H);}return(this._yuievt.chain)?this:H;},subscribe:function(){return this.on.apply(this,arguments);},detach:function(A,C,r){var G=this._yuievt.events,v,x=b.Node,E=x&&(b.instanceOf(this,x));if(!A&&(this!==b)){for(v in G){if(G.hasOwnProperty(v)){G[v].detach(C,r);}}if(E){b.Event.purgeElement(x.getDOMNode(this));}return this;}var u=f(A,this._yuievt.config.prefix),z=j.isArray(u)?u[0]:null,H=(u)?u[3]:null,w,D=b.Env.evt.handles,F,B,y,t,s=function(M,K,L){var J=M[K],N,I;if(J){for(I=J.length-1;I>=0;--I){N=J[I].evt;if(N.host===L||N.el===L){J[I].detach();}}}};if(z){B=D[z];A=u[1];F=(E)?b.Node.getDOMNode(this):this;if(B){if(A){s(B,A,F);}else{for(v in B){if(B.hasOwnProperty(v)){s(B,v,F);}}}return this;}}else{if(j.isObject(A)&&A.detach){A.detach();return this;}else{if(E&&((!H)||(H in x.DOM_EVENTS))){y=k(arguments,0,true);y[2]=x.getDOMNode(this);b.detach.apply(b,y);return this;}}}w=b.Env.evt.plugins[H];if(b.instanceOf(this,YUI)){y=k(arguments,0,true);if(w&&w.detach){w.detach.apply(b,y);return this;}else{if(!A||(!w&&x&&(A in x.DOM_EVENTS))){y[0]=A;b.Event.detach.apply(b.Event,y);return this;}}}t=G[u[1]];if(t){t.detach(C,r);}return this;},unsubscribe:function(){return this.detach.apply(this,arguments);},detachAll:function(r){return this.detach(r);},unsubscribeAll:function(){return this.detachAll.apply(this,arguments);},publish:function(t,u){var s,y,r,x,w=this._yuievt,v=w.config.prefix;t=(v)?o(t,v):t;this._monitor("publish",t,{args:arguments});if(j.isObject(t)){r={};b.each(t,function(A,z){r[z]=this.publish(z,A||u);},this);return r;}s=w.events;y=s[t];if(y){if(u){y.applyConfig(u,true);}}else{x=w.defaults;y=new b.CustomEvent(t,(u)?b.merge(x,u):x);s[t]=y;}return s[t];},_monitor:function(u,r,v){var s,t=this.getEvent(r);if((this._yuievt.config.monitored&&(!t||t.monitored))||(t&&t.monitored)){s=r+"_"+u;v.monitored=u;this.fire.call(this,s,v);}},fire:function(v){var z=j.isString(v),u=(z)?v:(v&&v.type),y,s,x=this._yuievt.config.prefix,w,r=(z)?k(arguments,1,true):arguments;u=(x)?o(u,x):u;this._monitor("fire",u,{args:r});y=this.getEvent(u,true);w=this.getSibling(u,y);if(w&&!y){y=this.publish(u);}if(!y){if(this._yuievt.hasTargets){return this.bubble({type:u},r,this);}s=true;}else{y.sibling=w;s=y.fire.apply(y,r);}return(this._yuievt.chain)?this:s;},getSibling:function(r,t){var s;if(r.indexOf(h)>-1){r=c(r);s=this.getEvent(r,true);if(s){s.applyConfig(t);s.bubbles=false;s.broadcast=0;}}return s;},getEvent:function(s,r){var u,t;if(!r){u=this._yuievt.config.prefix;s=(u)?o(s,u):s;}t=this._yuievt.events;return t[s]||null;},after:function(t,s){var r=k(arguments,0,true);switch(j.type(t)){case"function":return b.Do.after.apply(b.Do,arguments);case"array":case"object":r[0]._after=true;break;default:r[0]=l+t;}return this.on.apply(this,r);},before:function(){return this.on.apply(this,arguments);}};b.EventTarget=d;b.mix(b,d.prototype,false,false,{bubbles:false});d.call(b);YUI.Env.globalEvents=YUI.Env.globalEvents||new d();b.Global=YUI.Env.globalEvents;},"3.3.0",{requires:["oop"]});YUI.add("event-custom-complex",function(f){var b,e,d={},a=f.CustomEvent.prototype,c=f.EventTarget.prototype;f.EventFacade=function(h,g){h=h||d;this._event=h;this.details=h.details;this.type=h.type;this._type=h.type;this.target=h.target;this.currentTarget=g;this.relatedTarget=h.relatedTarget;};f.extend(f.EventFacade,Object,{stopPropagation:function(){this._event.stopPropagation();this.stopped=1;},stopImmediatePropagation:function(){this._event.stopImmediatePropagation();this.stopped=2;},preventDefault:function(){this._event.preventDefault();this.prevented=1;},halt:function(g){this._event.halt(g);this.prevented=1;this.stopped=(g)?2:1;}});a.fireComplex=function(p){var r,l,g,n,i,o,u,j,h,t=this,s=t.host||t,m,k;if(t.stack){if(t.queuable&&t.type!=t.stack.next.type){t.log("queue "+t.type);t.stack.queue.push([t,p]);return true;}}r=t.stack||{id:t.id,next:t,silent:t.silent,stopped:0,prevented:0,bubbling:null,type:t.type,afterQueue:new f.Queue(),defaultTargetOnly:t.defaultTargetOnly,queue:[]};j=t.getSubs();t.stopped=(t.type!==r.type)?0:r.stopped;t.prevented=(t.type!==r.type)?0:r.prevented;t.target=t.target||s;u=new f.EventTarget({fireOnce:true,context:s});t.events=u;if(t.preventedFn){u.on("prevented",t.preventedFn);}if(t.stoppedFn){u.on("stopped",t.stoppedFn);}t.currentTarget=s;t.details=p.slice();t.log("Firing "+t.type);t._facade=null;l=t._getFacade(p);if(f.Lang.isObject(p[0])){p[0]=l;}else{p.unshift(l);}if(j[0]){t._procSubs(j[0],p,l);}if(t.bubbles&&s.bubble&&!t.stopped){k=r.bubbling;r.bubbling=t.type;if(r.type!=t.type){r.stopped=0;r.prevented=0;}o=s.bubble(t,p,null,r);t.stopped=Math.max(t.stopped,r.stopped);t.prevented=Math.max(t.prevented,r.prevented);r.bubbling=k;}if(t.defaultFn&&!t.prevented&&((!t.defaultTargetOnly&&!r.defaultTargetOnly)||s===l.target)){t.defaultFn.apply(s,p);}t._broadcast(p);if(j[1]&&!t.prevented&&t.stopped<2){if(r.id===t.id||t.type!=s._yuievt.bubbling){t._procSubs(j[1],p,l);while((m=r.afterQueue.last())){m();}}else{h=j[1];if(r.execDefaultCnt){h=f.merge(h);f.each(h,function(q){q.postponed=true;});}r.afterQueue.add(function(){t._procSubs(h,p,l);});}}t.target=null;if(r.id===t.id){n=r.queue;while(n.length){g=n.pop();i=g[0];r.next=i;i.fire.apply(i,g[1]);}t.stack=null;}o=!(t.stopped);if(t.type!=s._yuievt.bubbling){r.stopped=0;r.prevented=0;t.stopped=0;t.prevented=0;}return o;};a._getFacade=function(){var g=this._facade,j,i,h=this.details;if(!g){g=new f.EventFacade(this,this.currentTarget);}j=h&&h[0];if(f.Lang.isObject(j,true)){i={};f.mix(i,g,true,e);f.mix(g,j,true);f.mix(g,i,true,e);g.type=j.type||g.type;}g.details=this.details;g.target=this.originalTarget||this.target;g.currentTarget=this.currentTarget;g.stopped=0;g.prevented=0;this._facade=g;return this._facade;};a.stopPropagation=function(){this.stopped=1;if(this.stack){this.stack.stopped=1;}this.events.fire("stopped",this);};a.stopImmediatePropagation=function(){this.stopped=2;if(this.stack){this.stack.stopped=2;}this.events.fire("stopped",this);};
a.preventDefault=function(){if(this.preventable){this.prevented=1;if(this.stack){this.stack.prevented=1;}this.events.fire("prevented",this);}};a.halt=function(g){if(g){this.stopImmediatePropagation();}else{this.stopPropagation();}this.preventDefault();};c.addTarget=function(g){this._yuievt.targets[f.stamp(g)]=g;this._yuievt.hasTargets=true;};c.getTargets=function(){return f.Object.values(this._yuievt.targets);};c.removeTarget=function(g){delete this._yuievt.targets[f.stamp(g)];};c.bubble=function(u,q,o,s){var m=this._yuievt.targets,p=true,v,r=u&&u.type,h,l,n,j,g=o||(u&&u.target)||this,k;if(!u||((!u.stopped)&&m)){for(l in m){if(m.hasOwnProperty(l)){v=m[l];h=v.getEvent(r,true);j=v.getSibling(r,h);if(j&&!h){h=v.publish(r);}k=v._yuievt.bubbling;v._yuievt.bubbling=r;if(!h){if(v._yuievt.hasTargets){v.bubble(u,q,g,s);}}else{h.sibling=j;h.target=g;h.originalTarget=g;h.currentTarget=v;n=h.broadcast;h.broadcast=false;h.emitFacade=true;h.stack=s;p=p&&h.fire.apply(h,q||u.details||[]);h.broadcast=n;h.originalTarget=null;if(h.stopped){break;}}v._yuievt.bubbling=k;}}}return p;};b=new f.EventFacade();e=f.Object.keys(b);},"3.3.0",{requires:["event-custom-base"]});YUI.add("event-custom",function(a){},"3.3.0",{use:["event-custom-base","event-custom-complex"]});var GLOBAL_ENV=YUI.Env;if(!GLOBAL_ENV._ready){GLOBAL_ENV._ready=function(){GLOBAL_ENV.DOMReady=true;GLOBAL_ENV.remove(YUI.config.doc,"DOMContentLoaded",GLOBAL_ENV._ready);};GLOBAL_ENV.add(YUI.config.doc,"DOMContentLoaded",GLOBAL_ENV._ready);}YUI.add("event-base",function(e){e.publish("domready",{fireOnce:true,async:true});if(GLOBAL_ENV.DOMReady){e.fire("domready");}else{e.Do.before(function(){e.fire("domready");},YUI.Env,"_ready");}var b=e.UA,d={},a={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9,63272:46,63273:36,63275:35},c=function(h){if(!h){return h;}try{if(h&&3==h.nodeType){h=h.parentNode;}}catch(g){return null;}return e.one(h);},f=function(g,h,i){this._event=g;this._currentTarget=h;this._wrapper=i||d;this.init();};e.extend(f,Object,{init:function(){var i=this._event,j=this._wrapper.overrides,g=i.pageX,l=i.pageY,k,h=this._currentTarget;this.altKey=i.altKey;this.ctrlKey=i.ctrlKey;this.metaKey=i.metaKey;this.shiftKey=i.shiftKey;this.type=(j&&j.type)||i.type;this.clientX=i.clientX;this.clientY=i.clientY;this.pageX=g;this.pageY=l;k=i.keyCode||i.charCode;if(b.webkit&&(k in a)){k=a[k];}this.keyCode=k;this.charCode=k;this.which=i.which||i.charCode||k;this.button=this.which;this.target=c(i.target);this.currentTarget=c(h);this.relatedTarget=c(i.relatedTarget);if(i.type=="mousewheel"||i.type=="DOMMouseScroll"){this.wheelDelta=(i.detail)?(i.detail*-1):Math.round(i.wheelDelta/80)||((i.wheelDelta<0)?-1:1);}if(this._touch){this._touch(i,h,this._wrapper);}},stopPropagation:function(){this._event.stopPropagation();this._wrapper.stopped=1;this.stopped=1;},stopImmediatePropagation:function(){var g=this._event;if(g.stopImmediatePropagation){g.stopImmediatePropagation();}else{this.stopPropagation();}this._wrapper.stopped=2;this.stopped=2;},preventDefault:function(g){var h=this._event;h.preventDefault();h.returnValue=g||false;this._wrapper.prevented=1;this.prevented=1;},halt:function(g){if(g){this.stopImmediatePropagation();}else{this.stopPropagation();}this.preventDefault();}});f.resolve=c;e.DOM2EventFacade=f;e.DOMEventFacade=f;(function(){e.Env.evt.dom_wrappers={};e.Env.evt.dom_map={};var o=e.Env.evt,h=e.config,l=h.win,q=YUI.Env.add,j=YUI.Env.remove,n=function(){YUI.Env.windowLoaded=true;e.Event._load();j(l,"load",n);},g=function(){e.Event._unload();},i="domready",k="~yui|2|compat~",m=function(s){try{return(s&&typeof s!=="string"&&e.Lang.isNumber(s.length)&&!s.tagName&&!s.alert);}catch(r){return false;}},p=function(){var t=false,u=0,s=[],v=o.dom_wrappers,r=null,w=o.dom_map;return{POLL_RETRYS:1000,POLL_INTERVAL:40,lastError:null,_interval:null,_dri:null,DOMReady:false,startInterval:function(){if(!p._interval){p._interval=setInterval(p._poll,p.POLL_INTERVAL);}},onAvailable:function(x,B,F,y,C,E){var D=e.Array(x),z,A;for(z=0;z<D.length;z=z+1){s.push({id:D[z],fn:B,obj:F,override:y,checkReady:C,compat:E});}u=this.POLL_RETRYS;setTimeout(p._poll,0);A=new e.EventHandle({_delete:function(){if(A.handle){A.handle.detach();return;}var H,G;for(H=0;H<D.length;H++){for(G=0;G<s.length;G++){if(D[H]===s[G].id){s.splice(G,1);}}}}});return A;},onContentReady:function(B,z,A,y,x){return p.onAvailable(B,z,A,y,true,x);},attach:function(A,z,y,x){return p._attach(e.Array(arguments,0,true));},_createWrapper:function(D,C,x,y,B){var A,E=e.stamp(D),z="event:"+E+C;if(false===B){z+="native";}if(x){z+="capture";}A=v[z];if(!A){A=e.publish(z,{silent:true,bubbles:false,contextFn:function(){if(y){return A.el;}else{A.nodeRef=A.nodeRef||e.one(A.el);return A.nodeRef;}}});A.overrides={};A.el=D;A.key=z;A.domkey=E;A.type=C;A.fn=function(F){A.fire(p.getEvent(F,D,(y||(false===B))));};A.capture=x;if(D==l&&C=="load"){A.fireOnce=true;r=z;}v[z]=A;w[E]=w[E]||{};w[E][z]=A;q(D,C,A.fn,x);}return A;},_attach:function(D,C){var I,K,A,H,x,z=false,B,E=D[0],F=D[1],y=D[2]||l,L=C&&C.facade,J=C&&C.capture,G=C&&C.overrides;if(D[D.length-1]===k){I=true;}if(!F||!F.call){return false;}if(m(y)){K=[];e.each(y,function(N,M){D[2]=N;K.push(p._attach(D,C));});return new e.EventHandle(K);}else{if(e.Lang.isString(y)){if(I){A=e.DOM.byId(y);}else{A=e.Selector.query(y);switch(A.length){case 0:A=null;break;case 1:A=A[0];break;default:D[2]=A;return p._attach(D,C);}}if(A){y=A;}else{B=p.onAvailable(y,function(){B.handle=p._attach(D,C);},p,true,false,I);return B;}}}if(!y){return false;}if(e.Node&&e.instanceOf(y,e.Node)){y=e.Node.getDOMNode(y);}H=p._createWrapper(y,E,J,I,L);if(G){e.mix(H.overrides,G);}if(y==l&&E=="load"){if(YUI.Env.windowLoaded){z=true;}}if(I){D.pop();}x=D[3];B=H._on(F,x,(D.length>4)?D.slice(4):null);if(z){H.fire();}return B;},detach:function(E,F,z,C){var D=e.Array(arguments,0,true),H,A,G,B,x,y;if(D[D.length-1]===k){H=true;}if(E&&E.detach){return E.detach();}if(typeof z=="string"){if(H){z=e.DOM.byId(z);}else{z=e.Selector.query(z);
A=z.length;if(A<1){z=null;}else{if(A==1){z=z[0];}}}}if(!z){return false;}if(z.detach){D.splice(2,1);return z.detach.apply(z,D);}else{if(m(z)){G=true;for(B=0,A=z.length;B<A;++B){D[2]=z[B];G=(e.Event.detach.apply(e.Event,D)&&G);}return G;}}if(!E||!F||!F.call){return p.purgeElement(z,false,E);}x="event:"+e.stamp(z)+E;y=v[x];if(y){return y.detach(F);}else{return false;}},getEvent:function(A,y,x){var z=A||l.event;return(x)?z:new e.DOMEventFacade(z,y,v["event:"+e.stamp(y)+A.type]);},generateId:function(x){return e.DOM.generateID(x);},_isValidCollection:m,_load:function(x){if(!t){t=true;if(e.fire){e.fire(i);}p._poll();}},_poll:function(){if(p.locked){return;}if(e.UA.ie&&!YUI.Env.DOMReady){p.startInterval();return;}p.locked=true;var y,x,C,z,B,D,A=!t;if(!A){A=(u>0);}B=[];D=function(G,H){var F,E=H.override;if(H.compat){if(H.override){if(E===true){F=H.obj;}else{F=E;}}else{F=G;}H.fn.call(F,H.obj);}else{F=H.obj||e.one(G);H.fn.apply(F,(e.Lang.isArray(E))?E:[]);}};for(y=0,x=s.length;y<x;++y){C=s[y];if(C&&!C.checkReady){z=(C.compat)?e.DOM.byId(C.id):e.Selector.query(C.id,null,true);if(z){D(z,C);s[y]=null;}else{B.push(C);}}}for(y=0,x=s.length;y<x;++y){C=s[y];if(C&&C.checkReady){z=(C.compat)?e.DOM.byId(C.id):e.Selector.query(C.id,null,true);if(z){if(t||(z.get&&z.get("nextSibling"))||z.nextSibling){D(z,C);s[y]=null;}}else{B.push(C);}}}u=(B.length===0)?0:u-1;if(A){p.startInterval();}else{clearInterval(p._interval);p._interval=null;}p.locked=false;return;},purgeElement:function(A,x,E){var C=(e.Lang.isString(A))?e.Selector.query(A,null,true):A,G=p.getListeners(C,E),B,D,F,z,y;if(x&&C){G=G||[];z=e.Selector.query("*",C);B=0;D=z.length;for(;B<D;++B){y=p.getListeners(z[B],E);if(y){G=G.concat(y);}}}if(G){B=0;D=G.length;for(;B<D;++B){F=G[B];F.detachAll();j(F.el,F.type,F.fn,F.capture);delete v[F.key];delete w[F.domkey][F.key];}}},getListeners:function(B,A){var C=e.stamp(B,true),x=w[C],z=[],y=(A)?"event:"+C+A:null,D=o.plugins;if(!x){return null;}if(y){if(D[A]&&D[A].eventDef){y+="_synth";}if(x[y]){z.push(x[y]);}y+="native";if(x[y]){z.push(x[y]);}}else{e.each(x,function(F,E){z.push(F);});}return(z.length)?z:null;},_unload:function(x){e.each(v,function(z,y){z.detachAll();j(z.el,z.type,z.fn,z.capture);delete v[y];delete w[z.domkey][y];});j(l,"unload",g);},nativeAdd:q,nativeRemove:j};}();e.Event=p;if(h.injected||YUI.Env.windowLoaded){n();}else{q(l,"load",n);}if(e.UA.ie){e.on(i,p._poll);}q(l,"unload",g);p.Custom=e.CustomEvent;p.Subscriber=e.Subscriber;p.Target=e.EventTarget;p.Handle=e.EventHandle;p.Facade=e.EventFacade;p._poll();})();e.Env.evt.plugins.available={on:function(i,h,k,j){var g=arguments.length>4?e.Array(arguments,4,true):null;return e.Event.onAvailable.call(e.Event,k,h,j,g);}};e.Env.evt.plugins.contentready={on:function(i,h,k,j){var g=arguments.length>4?e.Array(arguments,4,true):null;return e.Event.onContentReady.call(e.Event,k,h,j,g);}};},"3.3.0",{requires:["event-custom-base"]});YUI.add("event-delegate",function(a){var c=a.Array,h=a.Lang,b=h.isString,i=h.isObject,e=h.isArray,g=a.Selector.test,d=a.Env.evt.handles;function f(u,w,l,k){var s=c(arguments,0,true),t=b(l)?l:null,r,o,j,n,v,m,q,x,p;if(i(u)){x=[];if(e(u)){for(m=0,q=u.length;m<q;++m){s[0]=u[m];x.push(a.delegate.apply(a,s));}}else{s.unshift(null);for(m in u){if(u.hasOwnProperty(m)){s[0]=m;s[1]=u[m];x.push(a.delegate.apply(a,s));}}}return new a.EventHandle(x);}r=u.split(/\|/);if(r.length>1){v=r.shift();u=r.shift();}o=a.Node.DOM_EVENTS[u];if(i(o)&&o.delegate){p=o.delegate.apply(o,arguments);}if(!p){if(!u||!w||!l||!k){return;}j=(t)?a.Selector.query(t,null,true):l;if(!j&&b(l)){p=a.on("available",function(){a.mix(p,a.delegate.apply(a,s),true);},l);}if(!p&&j){s.splice(2,2,j);p=a.Event._attach(s,{facade:false});p.sub.filter=k;p.sub._notify=f.notifySub;}}if(p&&v){n=d[v]||(d[v]={});n=n[u]||(n[u]=[]);n.push(p);}return p;}f.notifySub=function(q,l,p){l=l.slice();if(this.args){l.push.apply(l,this.args);}var o=f._applyFilter(this.filter,l,p),n,m,j,k;if(o){o=c(o);n=l[0]=new a.DOMEventFacade(l[0],p.el,p);n.container=a.one(p.el);for(m=0,j=o.length;m<j&&!n.stopped;++m){n.currentTarget=a.one(o[m]);k=this.fn.apply(this.context||n.currentTarget,l);if(k===false){break;}}return k;}};f.compileFilter=a.cached(function(j){return function(l,k){return g(l._node,j,k.currentTarget._node);};});f._applyFilter=function(n,l,q){var p=l[0],j=q.el,o=p.target||p.srcElement,k=[],m=false;if(o.nodeType===3){o=o.parentNode;}l.unshift(o);if(b(n)){while(o){m=(o===j);if(g(o,n,(m?null:j))){k.push(o);}if(m){break;}o=o.parentNode;}}else{l[0]=a.one(o);l[1]=new a.DOMEventFacade(p,j,q);while(o){if(n.apply(l[0],l)){k.push(o);}if(o===j){break;}o=o.parentNode;l[0]=a.one(o);}l[1]=p;}if(k.length<=1){k=k[0];}l.shift();return k;};a.delegate=a.Event.delegate=f;},"3.3.0",{requires:["node-base"]});YUI.add("event-synthetic",function(b){var h=b.Env.evt.dom_map,d=b.Array,g=b.Lang,j=g.isObject,c=g.isString,e=b.Selector.query,i=function(){};function f(l,k){this.handle=l;this.emitFacade=k;}f.prototype.fire=function(q){var k=d(arguments,0,true),o=this.handle,p=o.evt,m=o.sub,r=m.context,l=m.filter,n=q||{};if(this.emitFacade){if(!q||!q.preventDefault){n=p._getFacade();if(j(q)&&!q.preventDefault){b.mix(n,q,true);k[0]=n;}else{k.unshift(n);}}n.type=p.type;n.details=k.slice();if(l){n.container=p.host;}}else{if(l&&j(q)&&q.currentTarget){k.shift();}}m.context=r||n.currentTarget||p.host;p.fire.apply(p,k);m.context=r;};function a(){this._init.apply(this,arguments);}b.mix(a,{Notifier:f,getRegistry:function(q,p,n){var o=q._node,m=b.stamp(o),l="event:"+m+p+"_synth",k=h[m]||(h[m]={});if(!k[l]&&n){k[l]={type:"_synth",fn:i,capture:false,el:o,key:l,domkey:m,notifiers:[],detachAll:function(){var r=this.notifiers,s=r.length;while(--s>=0){r[s].detach();}}};}return(k[l])?k[l].notifiers:null;},_deleteSub:function(l){if(l&&l.fn){var k=this.eventDef,m=(l.filter)?"detachDelegate":"detach";this.subscribers={};this.subCount=0;k[m](l.node,l,this.notifier,l.filter);k._unregisterSub(l);delete l.fn;delete l.node;delete l.context;}},prototype:{constructor:a,_init:function(){var k=this.publishConfig||(this.publishConfig={});
this.emitFacade=("emitFacade" in k)?k.emitFacade:true;k.emitFacade=false;},processArgs:i,on:i,detach:i,delegate:i,detachDelegate:i,_on:function(n,p){var o=[],l=this.processArgs(n,p),k=n[2],r=p?"delegate":"on",m,q;m=(c(k))?e(k):d(k);if(!m.length&&c(k)){q=b.on("available",function(){b.mix(q,b[r].apply(b,n),true);},k);return q;}b.Array.each(m,function(t){var u=n.slice(),s;t=b.one(t);if(t){if(p){s=u.splice(3,1)[0];}u.splice(0,4,u[1],u[3]);if(!this.preventDups||!this.getSubs(t,n,null,true)){q=this._getNotifier(t,u,l,s);this[r](t,q.sub,q.notifier,s);o.push(q);}}},this);return(o.length===1)?o[0]:new b.EventHandle(o);},_getNotifier:function(n,q,o,m){var s=new b.CustomEvent(this.type,this.publishConfig),p=s.on.apply(s,q),r=new f(p,this.emitFacade),l=a.getRegistry(n,this.type,true),k=p.sub;p.notifier=r;k.node=n;k.filter=m;if(o){this.applyArgExtras(o,k);}b.mix(s,{eventDef:this,notifier:r,host:n,currentTarget:n,target:n,el:n._node,_delete:a._deleteSub},true);l.push(p);return p;},applyArgExtras:function(k,l){l._extra=k;},_unregisterSub:function(m){var k=a.getRegistry(m.node,this.type),l;if(k){for(l=k.length-1;l>=0;--l){if(k[l].sub===m){k.splice(l,1);break;}}}},_detach:function(m){var r=m[2],p=(c(r))?e(r):d(r),q,o,k,n,l;m.splice(2,1);for(o=0,k=p.length;o<k;++o){q=b.one(p[o]);if(q){n=this.getSubs(q,m);if(n){for(l=n.length-1;l>=0;--l){n[l].detach();}}}}},getSubs:function(l,q,k,n){var r=a.getRegistry(l,this.type),s=[],m,p,o;if(r){if(!k){k=this.subMatch;}for(m=0,p=r.length;m<p;++m){o=r[m];if(k.call(this,o.sub,q)){if(n){return o;}else{s.push(r[m]);}}}}return s.length&&s;},subMatch:function(l,k){return !k[1]||l.fn===k[1];}}},true);b.SyntheticEvent=a;b.Event.define=function(m,l,o){if(!l){l={};}var n=(j(m))?m:b.merge({type:m},l),p,k;if(o||!b.Node.DOM_EVENTS[n.type]){p=function(){a.apply(this,arguments);};b.extend(p,a,n);k=new p();m=k.type;b.Node.DOM_EVENTS[m]=b.Env.evt.plugins[m]={eventDef:k,on:function(){return k._on(d(arguments));},delegate:function(){return k._on(d(arguments),true);},detach:function(){return k._detach(d(arguments));}};}return k;};},"3.3.0",{requires:["node-base","event-custom"]});YUI.add("event-mousewheel",function(c){var b="DOMMouseScroll",a=function(e){var d=c.Array(e,0,true),f;if(c.UA.gecko){d[0]=b;f=c.config.win;}else{f=c.config.doc;}if(d.length<3){d[2]=f;}else{d.splice(2,0,f);}return d;};c.Env.evt.plugins.mousewheel={on:function(){return c.Event._attach(a(arguments));},detach:function(){return c.Event.detach.apply(c.Event,a(arguments));}};},"3.3.0",{requires:["node-base"]});YUI.add("event-mouseenter",function(c){function b(h,d){var g=h.currentTarget,f=h.relatedTarget;if(g!==f&&!g.contains(f)){d.fire(h);}}var a={proxyType:"mouseover",on:function(f,d,e){d.onHandle=f.on(this.proxyType,b,null,e);},detach:function(e,d){d.onHandle.detach();},delegate:function(g,e,f,d){e.delegateHandle=c.delegate(this.proxyType,b,g,d,null,f);},detachDelegate:function(e,d){d.delegateHandle.detach();}};c.Event.define("mouseenter",a,true);c.Event.define("mouseleave",c.merge(a,{proxyType:"mouseout"}),true);},"3.3.0",{requires:["event-synthetic"]});YUI.add("event-key",function(a){a.Env.evt.plugins.key={on:function(e,g,b,k,c){var i=a.Array(arguments,0,true),f,j,h,d;f=k&&k.split(":");if(!k||k.indexOf(":")==-1||!f[1]){i[0]="key"+((f&&f[0])||"press");return a.on.apply(a,i);}j=f[0];h=(f[1])?f[1].split(/,|\+/):null;d=(a.Lang.isString(b)?b:a.stamp(b))+k;d=d.replace(/,/g,"_");if(!a.getEvent(d)){a.on(e+j,function(p){var q=false,m=false,n,l,o;for(n=0;n<h.length;n=n+1){l=h[n];o=parseInt(l,10);if(a.Lang.isNumber(o)){if(p.charCode===o){q=true;}else{m=true;}}else{if(q||!m){q=(p[l+"Key"]);m=!q;}}}if(q){a.fire(d,p);}},b);}i.splice(2,2);i[0]=d;return a.on.apply(a,i);}};},"3.3.0",{requires:["node-base"]});YUI.add("event-focus",function(e){var d=e.Event,c=e.Lang,a=c.isString,b=c.isFunction(e.DOM.create('<p onbeforeactivate=";"/>').onbeforeactivate);function f(h,g,j){var i="_"+h+"Notifiers";e.Event.define(h,{_attach:function(l,m,k){if(e.DOM.isWindow(l)){return d._attach([h,function(n){m.fire(n);},l]);}else{return d._attach([g,this._proxy,l,this,m,k],{capture:true});}},_proxy:function(o,s,p){var m=o.target,q=m.getData(i),t=e.stamp(o.currentTarget._node),k=(b||o.target!==o.currentTarget),l=s.handle.sub,r=[m,o].concat(l.args||[]),n;s.currentTarget=(p)?m:o.currentTarget;s.container=(p)?o.currentTarget:null;if(!l.filter||l.filter.apply(m,r)){if(!q){q={};m.setData(i,q);if(k){n=d._attach([j,this._notify,m._node]).sub;n.once=true;}}if(!q[t]){q[t]=[];}q[t].push(s);if(!k){this._notify(o);}}},_notify:function(p,l){var m=p.currentTarget,r=m.getData(i),s=m.get("ownerDocument")||m,q=m,k=[],t,n,o;if(r){while(q&&q!==s){k.push.apply(k,r[e.stamp(q)]||[]);q=q.get("parentNode");}k.push.apply(k,r[e.stamp(s)]||[]);for(n=0,o=k.length;n<o;++n){t=k[n];p.currentTarget=k[n].currentTarget;if(t.container){p.container=t.container;}else{delete p.container;}t.fire(p);}m.clearData(i);}},on:function(m,k,l){k.onHandle=this._attach(m._node,l);},detach:function(l,k){k.onHandle.detach();},delegate:function(n,l,m,k){if(a(k)){l.filter=e.delegate.compileFilter(k);}l.delegateHandle=this._attach(n._node,m,true);},detachDelegate:function(l,k){k.delegateHandle.detach();}},true);}if(b){f("focus","beforeactivate","focusin");f("blur","beforedeactivate","focusout");}else{f("focus","focus","focus");f("blur","blur","blur");}},"3.3.0",{requires:["event-synthetic"]});YUI.add("event-resize",function(a){(function(){var c,b,e="window:resize",d=function(f){if(a.UA.gecko){a.fire(e,f);}else{if(b){b.cancel();}b=a.later(a.config.windowResizeDelay||40,a,function(){a.fire(e,f);});}};a.Env.evt.plugins.windowresize={on:function(h,g){if(!c){c=a.Event._attach(["resize",d]);}var f=a.Array(arguments,0,true);f[0]=e;return a.on.apply(a,f);}};})();},"3.3.0",{requires:["node-base"]});YUI.add("event-hover",function(d){var c=d.Lang.isFunction,b=function(){},a={processArgs:function(e){var f=c(e[2])?2:3;return(c(e[f]))?e.splice(f,1)[0]:b;},on:function(h,f,g,e){f._detach=h[(e)?"delegate":"on"]({mouseenter:d.bind(g.fire,g),mouseleave:f._extra},e);
},detach:function(g,e,f){e._detacher.detach();}};a.delegate=a.on;a.detachDelegate=a.detach;d.Event.define("hover",a);},"3.3.0",{requires:["event-mouseenter"]});YUI.add("event",function(a){},"3.3.0",{use:["event-base","event-delegate","event-synthetic","event-mousewheel","event-mouseenter","event-key","event-focus","event-resize","event-hover"]});YUI.add("pluginhost-base",function(C){var A=C.Lang;function B(){this._plugins={};}B.prototype={plug:function(G,D){var E,H,F;if(A.isArray(G)){for(E=0,H=G.length;E<H;E++){this.plug(G[E]);}}else{if(G&&!A.isFunction(G)){D=G.cfg;G=G.fn;}if(G&&G.NS){F=G.NS;D=D||{};D.host=this;if(this.hasPlugin(F)){this[F].setAttrs(D);}else{this[F]=new G(D);this._plugins[F]=G;}}}return this;},unplug:function(F){var E=F,D=this._plugins;if(F){if(A.isFunction(F)){E=F.NS;if(E&&(!D[E]||D[E]!==F)){E=null;}}if(E){if(this[E]){this[E].destroy();delete this[E];}if(D[E]){delete D[E];}}}else{for(E in this._plugins){if(this._plugins.hasOwnProperty(E)){this.unplug(E);}}}return this;},hasPlugin:function(D){return(this._plugins[D]&&this[D]);},_initPlugins:function(D){this._plugins=this._plugins||{};if(this._initConfigPlugins){this._initConfigPlugins(D);}},_destroyPlugins:function(){this.unplug();}};C.namespace("Plugin").Host=B;},"3.3.0",{requires:["yui-base"]});YUI.add("pluginhost-config",function(C){var B=C.Plugin.Host,A=C.Lang;B.prototype._initConfigPlugins=function(E){var G=(this._getClasses)?this._getClasses():[this.constructor],D=[],H={},F,I,K,L,J;for(I=G.length-1;I>=0;I--){F=G[I];L=F._UNPLUG;if(L){C.mix(H,L,true);}K=F._PLUG;if(K){C.mix(D,K,true);}}for(J in D){if(D.hasOwnProperty(J)){if(!H[J]){this.plug(D[J]);}}}if(E&&E.plugins){this.plug(E.plugins);}};B.plug=function(E,I,G){var J,H,D,F;if(E!==C.Base){E._PLUG=E._PLUG||{};if(!A.isArray(I)){if(G){I={fn:I,cfg:G};}I=[I];}for(H=0,D=I.length;H<D;H++){J=I[H];F=J.NAME||J.fn.NAME;E._PLUG[F]=J;}}};B.unplug=function(E,H){var I,G,D,F;if(E!==C.Base){E._UNPLUG=E._UNPLUG||{};if(!A.isArray(H)){H=[H];}for(G=0,D=H.length;G<D;G++){I=H[G];F=I.NAME;if(!E._PLUG[F]){E._UNPLUG[F]=I;}else{delete E._PLUG[F];}}}};},"3.3.0",{requires:["pluginhost-base"]});YUI.add("pluginhost",function(A){},"3.3.0",{use:["pluginhost-base","pluginhost-config"]});YUI.add("node-base",function(c){var i=".",e="nodeName",m="nodeType",b="ownerDocument",l="tagName",d="_yuid",o=Array.prototype.slice,f=c.DOM,j=function(q){var p=(q.nodeType!==9)?q.uniqueID:q[d];if(p&&j._instances[p]&&j._instances[p]._node!==q){q[d]=null;}p=p||c.stamp(q);if(!p){p=c.guid();}this[d]=p;this._node=q;j._instances[p]=this;this._stateProxy=q;c.EventTarget.call(this,{emitFacade:true});if(this._initPlugins){this._initPlugins();}this.SHOW_TRANSITION=j.SHOW_TRANSITION;this.HIDE_TRANSITION=j.HIDE_TRANSITION;},n=function(q){var p=null;if(q){p=(typeof q=="string")?function(r){return c.Selector.test(r,q);}:function(r){return q(c.one(r));};}return p;};j.NAME="node";j.re_aria=/^(?:role$|aria-)/;j.SHOW_TRANSITION="fadeIn";j.HIDE_TRANSITION="fadeOut";j.DOM_EVENTS={abort:1,beforeunload:1,blur:1,change:1,click:1,close:1,command:1,contextmenu:1,dblclick:1,DOMMouseScroll:1,drag:1,dragstart:1,dragenter:1,dragover:1,dragleave:1,dragend:1,drop:1,error:1,focus:1,key:1,keydown:1,keypress:1,keyup:1,load:1,message:1,mousedown:1,mouseenter:1,mouseleave:1,mousemove:1,mousemultiwheel:1,mouseout:1,mouseover:1,mouseup:1,mousewheel:1,orientationchange:1,reset:1,resize:1,select:1,selectstart:1,submit:1,scroll:1,textInput:1,unload:1};c.mix(j.DOM_EVENTS,c.Env.evt.plugins);j._instances={};j.getDOMNode=function(p){if(p){return(p.nodeType)?p:p._node||null;}return null;};j.scrubVal=function(q,p){if(q){if(typeof q=="object"||typeof q=="function"){if(m in q||f.isWindow(q)){q=c.one(q);}else{if((q.item&&!q._nodes)||(q[0]&&q[0][m])){q=c.all(q);}}}}else{if(typeof q==="undefined"){q=p;}else{if(q===null){q=null;}}}return q;};j.addMethod=function(p,r,q){if(p&&r&&typeof r=="function"){j.prototype[p]=function(){var t=o.call(arguments),u=this,s;if(t[0]&&c.instanceOf(t[0],j)){t[0]=t[0]._node;}if(t[1]&&c.instanceOf(t[1],j)){t[1]=t[1]._node;}t.unshift(u._node);s=r.apply(u,t);if(s){s=j.scrubVal(s,u);}(typeof s!="undefined")||(s=u);return s;};}else{}};j.importMethod=function(r,p,q){if(typeof p=="string"){q=q||p;j.addMethod(q,r[p],r);}else{c.Array.each(p,function(s){j.importMethod(r,s);});}};j.one=function(s){var p=null,r,q;if(s){if(typeof s=="string"){if(s.indexOf("doc")===0){s=c.config.doc;}else{if(s.indexOf("win")===0){s=c.config.win;}else{s=c.Selector.query(s,null,true);}}if(!s){return null;}}else{if(c.instanceOf(s,j)){return s;}}if(s.nodeType||c.DOM.isWindow(s)){q=(s.uniqueID&&s.nodeType!==9)?s.uniqueID:s._yuid;p=j._instances[q];r=p?p._node:null;if(!p||(r&&s!==r)){p=new j(s);}}}return p;};j.create=function(p,q){if(q&&q._node){q=q._node;}return c.one(f.create(p,q));};j.ATTRS={text:{getter:function(){return f.getText(this._node);},setter:function(p){f.setText(this._node,p);return p;}},"options":{getter:function(){return this._node.getElementsByTagName("option");}},"children":{getter:function(){var s=this._node,r=s.children,t,q,p;if(!r){t=s.childNodes;r=[];for(q=0,p=t.length;q<p;++q){if(t[q][l]){r[r.length]=t[q];}}}return c.all(r);}},value:{getter:function(){return f.getValue(this._node);},setter:function(p){f.setValue(this._node,p);return p;}}};j.DEFAULT_SETTER=function(p,r){var q=this._stateProxy,s;if(p.indexOf(i)>-1){s=p;p=p.split(i);c.Object.setValue(q,p,r);}else{if(typeof q[p]!="undefined"){q[p]=r;}}return r;};j.DEFAULT_GETTER=function(p){var q=this._stateProxy,r;if(p.indexOf&&p.indexOf(i)>-1){r=c.Object.getValue(q,p.split(i));}else{if(typeof q[p]!="undefined"){r=q[p];}}return r;};c.mix(j,c.EventTarget,false,null,1);c.mix(j.prototype,{toString:function(){var s=this[d]+": not bound to a node",r=this._node,p,t,q;if(r){p=r.attributes;t=(p&&p.id)?r.getAttribute("id"):null;q=(p&&p.className)?r.getAttribute("className"):null;s=r[e];if(t){s+="#"+t;}if(q){s+="."+q.replace(" ",".");}s+=" "+this[d];}return s;},get:function(p){var q;if(this._getAttr){q=this._getAttr(p);
}else{q=this._get(p);}if(q){q=j.scrubVal(q,this);}else{if(q===null){q=null;}}return q;},_get:function(p){var q=j.ATTRS[p],r;if(q&&q.getter){r=q.getter.call(this);}else{if(j.re_aria.test(p)){r=this._node.getAttribute(p,2);}else{r=j.DEFAULT_GETTER.apply(this,arguments);}}return r;},set:function(p,r){var q=j.ATTRS[p];if(this._setAttr){this._setAttr.apply(this,arguments);}else{if(q&&q.setter){q.setter.call(this,r,p);}else{if(j.re_aria.test(p)){this._node.setAttribute(p,r);}else{j.DEFAULT_SETTER.apply(this,arguments);}}}return this;},setAttrs:function(p){if(this._setAttrs){this._setAttrs(p);}else{c.Object.each(p,function(q,r){this.set(r,q);},this);}return this;},getAttrs:function(q){var p={};if(this._getAttrs){this._getAttrs(q);}else{c.Array.each(q,function(r,s){p[r]=this.get(r);},this);}return p;},create:j.create,compareTo:function(p){var q=this._node;if(c.instanceOf(p,j)){p=p._node;}return q===p;},inDoc:function(q){var p=this._node;q=(q)?q._node||q:p[b];if(q.documentElement){return f.contains(q.documentElement,p);}},getById:function(r){var q=this._node,p=f.byId(r,q[b]);if(p&&f.contains(q,p)){p=c.one(p);}else{p=null;}return p;},ancestor:function(p,q){return c.one(f.ancestor(this._node,n(p),q));},ancestors:function(p,q){return c.all(f.ancestors(this._node,n(p),q));},previous:function(q,p){return c.one(f.elementByAxis(this._node,"previousSibling",n(q),p));},next:function(q,p){return c.one(f.elementByAxis(this._node,"nextSibling",n(q),p));},siblings:function(p){return c.all(f.siblings(this._node,n(p)));},one:function(p){return c.one(c.Selector.query(p,this._node,true));},all:function(p){var q=c.all(c.Selector.query(p,this._node));q._query=p;q._queryRoot=this._node;return q;},test:function(p){return c.Selector.test(this._node,p);},remove:function(q){var r=this._node,p=r.parentNode;if(p){p.removeChild(r);}if(q){this.destroy();}return this;},replace:function(p){var q=this._node;if(typeof p=="string"){p=j.create(p);}q.parentNode.replaceChild(j.getDOMNode(p),q);return this;},replaceChild:function(q,p){if(typeof q=="string"){q=f.create(q);}return c.one(this._node.replaceChild(j.getDOMNode(q),j.getDOMNode(p)));},appendChild:function(p){return j.scrubVal(this._insert(p));},insertBefore:function(q,p){return c.Node.scrubVal(this._insert(q,p));},purge:function(q,p){c.Event.purgeElement(this._node,q,p);return this;},destroy:function(p){this.purge();if(this.unplug){this.unplug();}this.clearData();if(p){this.all("*").destroy();}this._node=null;this._stateProxy=null;delete j._instances[this[d]];},invoke:function(w,q,p,v,u,t){var s=this._node,r;if(q&&c.instanceOf(q,j)){q=q._node;}if(p&&c.instanceOf(p,j)){p=p._node;}r=s[w](q,p,v,u,t);return j.scrubVal(r,this);},insert:function(q,p){this._insert(q,p);return this;},_insert:function(s,q){var r=this._node,p=null;if(typeof q=="number"){q=this._node.childNodes[q];}else{if(q&&q._node){q=q._node;}}if(s&&typeof s!="string"){s=s._node||s._nodes||s;}p=f.addHTML(r,s,q);return p;},prepend:function(p){return this.insert(p,0);},append:function(p){return this.insert(p,null);},appendTo:function(p){c.one(p).append(this);return this;},setContent:function(p){this._insert(p,"replace");return this;},getContent:function(p){return this.get("innerHTML");},swap:c.config.doc.documentElement.swapNode?function(p){this._node.swapNode(j.getDOMNode(p));}:function(p){p=j.getDOMNode(p);var r=this._node,q=p.parentNode,s=p.nextSibling;if(s===r){q.insertBefore(r,p);}else{if(p===r.nextSibling){q.insertBefore(p,r);}else{r.parentNode.replaceChild(p,r);f.addHTML(q,r,s);}}return this;},getData:function(q){var p;this._data=this._data||{};if(arguments.length){p=this._data[q];}else{p=this._data;}return p;},setData:function(p,q){this._data=this._data||{};if(arguments.length>1){this._data[p]=q;}else{this._data=p;}return this;},clearData:function(p){if("_data" in this){if(p){delete this._data[p];}else{delete this._data;}}return this;},hasMethod:function(q){var p=this._node;return !!(p&&q in p&&typeof p[q]!="unknown"&&(typeof p[q]=="function"||String(p[q]).indexOf("function")===1));},SHOW_TRANSITION:null,HIDE_TRANSITION:null,show:function(p){p=arguments[arguments.length-1];this.toggleView(true,p);return this;},_show:function(){this.setStyle("display","");},_isHidden:function(){return c.DOM.getStyle(this._node,"display")==="none";},toggleView:function(p,q){this._toggleView.apply(this,arguments);},_toggleView:function(p,q){q=arguments[arguments.length-1];if(typeof p!="boolean"){p=(this._isHidden())?1:0;}if(p){this._show();}else{this._hide();}if(typeof q=="function"){q.call(this);}return this;},hide:function(p){p=arguments[arguments.length-1];this.toggleView(false,p);return this;},_hide:function(){this.setStyle("display","none");},isFragment:function(){return(this.get("nodeType")===11);},empty:function(p){this.get("childNodes").remove(p);return this;}},true);c.Node=j;c.one=c.Node.one;var a=function(p){var q=[];if(typeof p==="string"){this._query=p;p=c.Selector.query(p);}else{if(p.nodeType||f.isWindow(p)){p=[p];}else{if(c.instanceOf(p,c.Node)){p=[p._node];}else{if(c.instanceOf(p[0],c.Node)){c.Array.each(p,function(r){if(r._node){q.push(r._node);}});p=q;}else{p=c.Array(p,0,true);}}}}this._nodes=p;};a.NAME="NodeList";a.getDOMNodes=function(p){return(p&&p._nodes)?p._nodes:p;};a.each=function(p,s,r){var q=p._nodes;if(q&&q.length){c.Array.each(q,s,r||p);}else{}};a.addMethod=function(p,r,q){if(p&&r){a.prototype[p]=function(){var t=[],s=arguments;c.Array.each(this._nodes,function(y){var x=(y.uniqueID&&y.nodeType!==9)?"uniqueID":"_yuid",v=c.Node._instances[y[x]],w,u;if(!v){v=a._getTempNode(y);}w=q||v;u=r.apply(w,s);if(u!==undefined&&u!==v){t[t.length]=u;}});return t.length?t:this;};}else{}};a.importMethod=function(r,p,q){if(typeof p==="string"){q=q||p;a.addMethod(p,r[p]);}else{c.Array.each(p,function(s){a.importMethod(r,s);});}};a._getTempNode=function(q){var p=a._tempNode;if(!p){p=c.Node.create("<div></div>");a._tempNode=p;}p._node=q;p._stateProxy=q;return p;};c.mix(a.prototype,{item:function(p){return c.one((this._nodes||[])[p]);
},each:function(r,q){var p=this;c.Array.each(this._nodes,function(t,s){t=c.one(t);return r.call(q||t,t,s,p);});return p;},batch:function(q,p){var r=this;c.Array.each(this._nodes,function(u,t){var s=c.Node._instances[u[d]];if(!s){s=a._getTempNode(u);}return q.call(p||s,s,t,r);});return r;},some:function(r,q){var p=this;return c.Array.some(this._nodes,function(t,s){t=c.one(t);q=q||t;return r.call(q,t,s,p);});},toFrag:function(){return c.one(c.DOM._nl2frag(this._nodes));},indexOf:function(p){return c.Array.indexOf(this._nodes,c.Node.getDOMNode(p));},filter:function(p){return c.all(c.Selector.filter(this._nodes,p));},modulus:function(s,q){q=q||0;var p=[];a.each(this,function(t,r){if(r%s===q){p.push(t);}});return c.all(p);},odd:function(){return this.modulus(2,1);},even:function(){return this.modulus(2);},destructor:function(){},refresh:function(){var s,q=this._nodes,r=this._query,p=this._queryRoot;if(r){if(!p){if(q&&q[0]&&q[0].ownerDocument){p=q[0].ownerDocument;}}this._nodes=c.Selector.query(r,p);}return this;},_prepEvtArgs:function(s,r,q){var p=c.Array(arguments,0,true);if(p.length<2){p[2]=this._nodes;}else{p.splice(2,0,this._nodes);}p[3]=q||this;return p;},on:function(r,q,p){return c.on.apply(c,this._prepEvtArgs.apply(this,arguments));},once:function(r,q,p){return c.once.apply(c,this._prepEvtArgs.apply(this,arguments));},after:function(r,q,p){return c.after.apply(c,this._prepEvtArgs.apply(this,arguments));},size:function(){return this._nodes.length;},isEmpty:function(){return this._nodes.length<1;},toString:function(){var s="",r=this[d]+": not bound to any nodes",p=this._nodes,q;if(p&&p[0]){q=p[0];s+=q[e];if(q.id){s+="#"+q.id;}if(q.className){s+="."+q.className.replace(" ",".");}if(p.length>1){s+="...["+p.length+" items]";}}return s||r;}},true);a.importMethod(c.Node.prototype,["append","destroy","detach","detachAll","empty","insert","prepend","remove","set","setContent","show","hide","toggleView"]);a.prototype.get=function(q){var t=[],s=this._nodes,r=false,u=a._getTempNode,p,v;if(s[0]){p=c.Node._instances[s[0]._yuid]||u(s[0]);v=p._get(q);if(v&&v.nodeType){r=true;}}c.Array.each(s,function(w){p=c.Node._instances[w._yuid];if(!p){p=u(w);}v=p._get(q);if(!r){v=c.Node.scrubVal(v,p);}t.push(v);});return(r)?c.all(t):t;};c.NodeList=a;c.all=function(p){return new a(p);};c.Node.all=c.all;c.Array.each(["removeChild","hasChildNodes","cloneNode","hasAttribute","removeAttribute","scrollIntoView","getElementsByTagName","focus","blur","submit","reset","select","createCaption"],function(p){c.Node.prototype[p]=function(t,r,q){var s=this.invoke(p,t,r,q);return s;};});c.Node.importMethod(c.DOM,["contains","setAttribute","getAttribute","wrap","unwrap","generateID"]);c.NodeList.importMethod(c.Node.prototype,["getAttribute","setAttribute","removeAttribute","unwrap","wrap","generateID"]);(function(q){var p=["hasClass","addClass","removeClass","replaceClass","toggleClass"];q.Node.importMethod(q.DOM,p);q.NodeList.importMethod(q.Node.prototype,p);})(c);if(!c.config.doc.documentElement.hasAttribute){c.Node.prototype.hasAttribute=function(p){if(p==="value"){if(this.get("value")!==""){return true;}}return !!(this._node.attributes[p]&&this._node.attributes[p].specified);};}c.Node.prototype.focus=function(){try{this._node.focus();}catch(p){}};c.Node.ATTRS.type={setter:function(q){if(q==="hidden"){try{this._node.type="hidden";}catch(p){this.setStyle("display","none");this._inputType="hidden";}}else{try{this._node.type=q;}catch(p){}}return q;},getter:function(){return this._inputType||this._node.type;},_bypassProxy:true};if(c.config.doc.createElement("form").elements.nodeType){c.Node.ATTRS.elements={getter:function(){return this.all("input, textarea, button, select");}};}c.mix(c.Node.ATTRS,{offsetHeight:{setter:function(p){c.DOM.setHeight(this._node,p);return p;},getter:function(){return this._node.offsetHeight;}},offsetWidth:{setter:function(p){c.DOM.setWidth(this._node,p);return p;},getter:function(){return this._node.offsetWidth;}}});c.mix(c.Node.prototype,{sizeTo:function(p,q){var r;if(arguments.length<2){r=c.one(p);p=r.get("offsetWidth");q=r.get("offsetHeight");}this.setAttrs({offsetWidth:p,offsetHeight:q});}});var k=c.NodeList,h=Array.prototype,g=["concat","pop","push","shift","slice","splice","unshift"];c.Array.each(g,function(p){k.prototype[p]=function(){var r=[],s=0,q;while((q=arguments[s++])){r.push(q._node||q._nodes||q);}return c.Node.scrubVal(h[p].apply(this._nodes,r));};});},"3.3.0",{requires:["dom-base","selector-css2","event-base"]});YUI.add("node-style",function(a){(function(c){var b=["getStyle","getComputedStyle","setStyle","setStyles"];c.Node.importMethod(c.DOM,b);c.NodeList.importMethod(c.Node.prototype,b);})(a);},"3.3.0",{requires:["dom-style","node-base"]});YUI.add("node-screen",function(a){a.each(["winWidth","winHeight","docWidth","docHeight","docScrollX","docScrollY"],function(b){a.Node.ATTRS[b]={getter:function(){var c=Array.prototype.slice.call(arguments);c.unshift(a.Node.getDOMNode(this));return a.DOM[b].apply(this,c);}};});a.Node.ATTRS.scrollLeft={getter:function(){var b=a.Node.getDOMNode(this);return("scrollLeft" in b)?b.scrollLeft:a.DOM.docScrollX(b);},setter:function(c){var b=a.Node.getDOMNode(this);if(b){if("scrollLeft" in b){b.scrollLeft=c;}else{if(b.document||b.nodeType===9){a.DOM._getWin(b).scrollTo(c,a.DOM.docScrollY(b));}}}else{}}};a.Node.ATTRS.scrollTop={getter:function(){var b=a.Node.getDOMNode(this);return("scrollTop" in b)?b.scrollTop:a.DOM.docScrollY(b);},setter:function(c){var b=a.Node.getDOMNode(this);if(b){if("scrollTop" in b){b.scrollTop=c;}else{if(b.document||b.nodeType===9){a.DOM._getWin(b).scrollTo(a.DOM.docScrollX(b),c);}}}else{}}};a.Node.importMethod(a.DOM,["getXY","setXY","getX","setX","getY","setY","swapXY"]);a.Node.ATTRS.region={getter:function(){var b=a.Node.getDOMNode(this),c;if(b&&!b.tagName){if(b.nodeType===9){b=b.documentElement;}}if(b.alert){c=a.DOM.viewportRegion(b);}else{c=a.DOM.region(b);}return c;}};a.Node.ATTRS.viewportRegion={getter:function(){return a.DOM.viewportRegion(a.Node.getDOMNode(this));
}};a.Node.importMethod(a.DOM,"inViewportRegion");a.Node.prototype.intersect=function(b,d){var c=a.Node.getDOMNode(this);if(a.instanceOf(b,a.Node)){b=a.Node.getDOMNode(b);}return a.DOM.intersect(c,b,d);};a.Node.prototype.inRegion=function(b,d,e){var c=a.Node.getDOMNode(this);if(a.instanceOf(b,a.Node)){b=a.Node.getDOMNode(b);}return a.DOM.inRegion(c,b,d,e);};},"3.3.0",{requires:["dom-screen"]});YUI.add("node-pluginhost",function(a){a.Node.plug=function(){var b=a.Array(arguments);b.unshift(a.Node);a.Plugin.Host.plug.apply(a.Base,b);return a.Node;};a.Node.unplug=function(){var b=a.Array(arguments);b.unshift(a.Node);a.Plugin.Host.unplug.apply(a.Base,b);return a.Node;};a.mix(a.Node,a.Plugin.Host,false,null,1);a.NodeList.prototype.plug=function(){var b=arguments;a.NodeList.each(this,function(c){a.Node.prototype.plug.apply(a.one(c),b);});};a.NodeList.prototype.unplug=function(){var b=arguments;a.NodeList.each(this,function(c){a.Node.prototype.unplug.apply(a.one(c),b);});};},"3.3.0",{requires:["node-base","pluginhost"]});YUI.add("node-event-delegate",function(a){a.Node.prototype.delegate=function(d){var c=a.Array(arguments,0,true),b=(a.Lang.isObject(d)&&!a.Lang.isArray(d))?1:2;c.splice(b,0,this._node);return a.delegate.apply(a,c);};},"3.3.0",{requires:["node-base","event-delegate"]});YUI.add("node",function(a){},"3.3.0",{requires:["dom","event-base","event-delegate","pluginhost"],use:["node-base","node-style","node-screen","node-pluginhost","node-event-delegate"],skinnable:false});(function(){var b,f=YUI.Env,d=YUI.config,g=d.doc,c=g&&g.documentElement,e="onreadystatechange",a=d.pollInterval||40;if(c.doScroll&&!f._ieready){f._ieready=function(){f._ready();};
/* DOMReady: based on work by: Dean Edwards/John Resig/Matthias Miller/Diego Perini */
if(self!==self.top){b=function(){if(g.readyState=="complete"){f.remove(g,e,b);f.ieready();}};f.add(g,e,b);}else{f._dri=setInterval(function(){try{c.doScroll("left");clearInterval(f._dri);f._dri=null;f._ieready();}catch(h){}},a);}}})();YUI.add("event-base-ie",function(c){var a=function(){c.DOM2EventFacade.apply(this,arguments);};c.extend(a,c.DOM2EventFacade,{init:function(){a.superclass.init.apply(this,arguments);var j=this._event,i=c.DOM2EventFacade.resolve,g,m,k,f,l,h;this.target=i(j.srcElement);if(("clientX" in j)&&(!g)&&(0!==g)){g=j.clientX;m=j.clientY;k=c.config.doc;f=k.body;l=k.documentElement;g+=(l.scrollLeft||(f&&f.scrollLeft)||0);m+=(l.scrollTop||(f&&f.scrollTop)||0);this.pageX=g;this.pageY=m;}if(j.type=="mouseout"){h=j.toElement;}else{if(j.type=="mouseover"){h=j.fromElement;}}this.relatedTarget=i(h);if(j.button){switch(j.button){case 2:this.which=3;break;case 4:this.which=2;break;default:this.which=j.button;}this.button=this.which;}},stopPropagation:function(){var d=this._event;d.cancelBubble=true;this._wrapper.stopped=1;this.stopped=1;},stopImmediatePropagation:function(){this.stopPropagation();this._wrapper.stopped=2;this.stopped=2;},preventDefault:function(d){this._event.returnValue=d||false;this._wrapper.prevented=1;this.prevented=1;}});var b=c.config.doc&&c.config.doc.implementation;if(b&&(!b.hasFeature("Events","2.0"))){c.DOMEventFacade=a;}},"3.3.0");YUI.add("attribute-base",function(c){c.State=function(){this.data={};};c.State.prototype={add:function(B,C,E){var D=this.data;D[C]=D[C]||{};D[C][B]=E;},addAll:function(B,D){var C;for(C in D){if(D.hasOwnProperty(C)){this.add(B,C,D[C]);}}},remove:function(B,C){var D=this.data;if(D[C]&&(B in D[C])){delete D[C][B];}},removeAll:function(B,D){var C=this.data;c.each(D||C,function(F,E){if(c.Lang.isString(E)){this.remove(B,E);}else{this.remove(B,F);}},this);},get:function(B,C){var D=this.data;return(D[C]&&B in D[C])?D[C][B]:undefined;},getAll:function(B){var D=this.data,C;c.each(D,function(F,E){if(B in D[E]){C=C||{};C[E]=F[B];}},this);return C;}};var k=c.Object,f=c.Lang,l=c.EventTarget,w=".",t="Change",n="getter",m="setter",o="readOnly",x="writeOnce",u="initOnly",A="validator",h="value",p="valueFn",e="broadcast",r="lazyAdd",j="_bypassProxy",z="added",b="initializing",i="initValue",v="published",s="defaultValue",a="lazy",q="isLazyAdd",g,y={};y[o]=1;y[x]=1;y[n]=1;y[e]=1;function d(){var D=this,B=this.constructor.ATTRS,C=c.Base;D._ATTR_E_FACADE={};l.call(D,{emitFacade:true});D._conf=D._state=new c.State();D._stateProxy=D._stateProxy||null;D._requireAddAttr=D._requireAddAttr||false;if(B&&!(C&&c.instanceOf(D,C))){D.addAttrs(this._protectAttrs(B));}}d.INVALID_VALUE={};g=d.INVALID_VALUE;d._ATTR_CFG=[m,n,A,h,p,x,o,r,e,j];d.prototype={addAttr:function(C,B,E){var F=this,H=F._state,G,D;E=(r in B)?B[r]:E;if(E&&!F.attrAdded(C)){H.add(C,a,B||{});H.add(C,z,true);}else{if(!F.attrAdded(C)||H.get(C,q)){B=B||{};D=(h in B);if(D){G=B.value;delete B.value;}B.added=true;B.initializing=true;H.addAll(C,B);if(D){F.set(C,G);}H.remove(C,b);}}return F;},attrAdded:function(B){return !!this._state.get(B,z);},modifyAttr:function(C,B){var D=this,F,E;if(D.attrAdded(C)){if(D._isLazyAttr(C)){D._addLazyAttr(C);}E=D._state;for(F in B){if(y[F]&&B.hasOwnProperty(F)){E.add(C,F,B[F]);if(F===e){E.remove(C,v);}}}}},removeAttr:function(B){this._state.removeAll(B);},get:function(B){return this._getAttr(B);},_isLazyAttr:function(B){return this._state.get(B,a);},_addLazyAttr:function(C){var D=this._state,B=D.get(C,a);D.add(C,q,true);D.remove(C,a);this.addAttr(C,B);},set:function(B,D,C){return this._setAttr(B,D,C);},reset:function(B){var D=this,C;if(B){if(D._isLazyAttr(B)){D._addLazyAttr(B);}D.set(B,D._state.get(B,i));}else{C=D._state.data.added;c.each(C,function(E,F){D.reset(F);},D);}return D;},_set:function(B,D,C){return this._setAttr(B,D,C,true);},_getAttr:function(D){var E=this,I=D,F=E._state,G,B,H,C;if(D.indexOf(w)!==-1){G=D.split(w);D=G.shift();}if(E._tCfgs&&E._tCfgs[D]){C={};C[D]=E._tCfgs[D];delete E._tCfgs[D];E._addAttrs(C,E._tVals);}if(E._isLazyAttr(D)){E._addLazyAttr(D);}H=E._getStateVal(D);B=F.get(D,n);if(B&&!B.call){B=this[B];}H=(B)?B.call(E,H,I):H;H=(G)?k.getValue(H,G):H;return H;},_setAttr:function(D,G,B,E){var K=true,C=this._state,H=this._stateProxy,M=C.data,J,N,O,F,I,L;
if(D.indexOf(w)!==-1){N=D;O=D.split(w);D=O.shift();}if(this._isLazyAttr(D)){this._addLazyAttr(D);}J=(!M.value||!(D in M.value));if(H&&D in H&&!this._state.get(D,j)){J=false;}if(this._requireAddAttr&&!this.attrAdded(D)){}else{I=C.get(D,x);L=C.get(D,b);if(!J&&!E){if(I){K=false;}if(C.get(D,o)){K=false;}}if(!L&&!E&&I===u){K=false;}if(K){if(!J){F=this.get(D);}if(O){G=k.setValue(c.clone(F),O,G);if(G===undefined){K=false;}}if(K){if(L){this._setAttrVal(D,N,F,G);}else{this._fireAttrChange(D,N,F,G,B);}}}}return this;},_fireAttrChange:function(H,G,E,D,B){var J=this,F=H+t,C=J._state,I;if(!C.get(H,v)){J.publish(F,{queuable:false,defaultTargetOnly:true,defaultFn:J._defAttrChangeFn,silent:true,broadcast:C.get(H,e)});C.add(H,v,true);}I=(B)?c.merge(B):J._ATTR_E_FACADE;I.attrName=H;I.subAttrName=G;I.prevVal=E;I.newVal=D;J.fire(F,I);},_defAttrChangeFn:function(B){if(!this._setAttrVal(B.attrName,B.subAttrName,B.prevVal,B.newVal)){B.stopImmediatePropagation();}else{B.newVal=this.get(B.attrName);}},_getStateVal:function(B){var C=this._stateProxy;return C&&(B in C)&&!this._state.get(B,j)?C[B]:this._state.get(B,h);},_setStateVal:function(B,D){var C=this._stateProxy;if(C&&(B in C)&&!this._state.get(B,j)){C[B]=D;}else{this._state.add(B,h,D);}},_setAttrVal:function(M,L,I,G){var O=this,J=true,D=O._state,E=D.get(M,A),H=D.get(M,m),K=D.get(M,b),N=this._getStateVal(M),C=L||M,F,B;if(E){if(!E.call){E=this[E];}if(E){B=E.call(O,G,C);if(!B&&K){G=D.get(M,s);B=true;}}}if(!E||B){if(H){if(!H.call){H=this[H];}if(H){F=H.call(O,G,C);if(F===g){J=false;}else{if(F!==undefined){G=F;}}}}if(J){if(!L&&(G===N)&&!f.isObject(G)){J=false;}else{if(D.get(M,i)===undefined){D.add(M,i,G);}O._setStateVal(M,G);}}}else{J=false;}return J;},setAttrs:function(B,C){return this._setAttrs(B,C);},_setAttrs:function(C,D){for(var B in C){if(C.hasOwnProperty(B)){this.set(B,C[B]);}}return this;},getAttrs:function(B){return this._getAttrs(B);},_getAttrs:function(E){var G=this,I={},F,C,B,H,D=(E===true);E=(E&&!D)?E:k.keys(G._state.data.added);for(F=0,C=E.length;F<C;F++){B=E[F];H=G.get(B);if(!D||G._getStateVal(B)!=G._state.get(B,i)){I[B]=G.get(B);}}return I;},addAttrs:function(B,C,D){var E=this;if(B){E._tCfgs=B;E._tVals=E._normAttrVals(C);E._addAttrs(B,E._tVals,D);E._tCfgs=E._tVals=null;}return E;},_addAttrs:function(C,D,E){var G=this,B,F,H;for(B in C){if(C.hasOwnProperty(B)){F=C[B];F.defaultValue=F.value;H=G._getAttrInitVal(B,F,G._tVals);if(H!==undefined){F.value=H;}if(G._tCfgs[B]){delete G._tCfgs[B];}G.addAttr(B,F,E);}}},_protectAttrs:function(C){if(C){C=c.merge(C);for(var B in C){if(C.hasOwnProperty(B)){C[B]=c.merge(C[B]);}}}return C;},_normAttrVals:function(B){return(B)?c.merge(B):null;},_getAttrInitVal:function(B,C,E){var F,D;if(!C[o]&&E&&E.hasOwnProperty(B)){F=E[B];}else{F=C[h];D=C[p];if(D){if(!D.call){D=this[D];}if(D){F=D.call(this);}}}return F;},_getAttrCfg:function(B){var D,C=this._state.data;if(C){D={};c.each(C,function(E,F){if(B){if(B in E){D[F]=E[B];}}else{c.each(E,function(H,G){D[G]=D[G]||{};D[G][F]=H;});}});}return D;}};c.mix(d,l,false,null,1);c.Attribute=d;},"3.3.0",{requires:["event-custom"]});YUI.add("attribute-complex",function(b){var a=b.Object,c=".";b.Attribute.Complex=function(){};b.Attribute.Complex.prototype={_normAttrVals:function(g){var i={},h={},j,d,f,e;if(g){for(e in g){if(g.hasOwnProperty(e)){if(e.indexOf(c)!==-1){j=e.split(c);d=j.shift();f=h[d]=h[d]||[];f[f.length]={path:j,value:g[e]};}else{i[e]=g[e];}}}return{simple:i,complex:h};}else{return null;}},_getAttrInitVal:function(m,j,p){var e=j.value,o=j.valueFn,d,f,h,g,q,n,k;if(o){if(!o.call){o=this[o];}if(o){e=o.call(this);}}if(!j.readOnly&&p){d=p.simple;if(d&&d.hasOwnProperty(m)){e=d[m];}f=p.complex;if(f&&f.hasOwnProperty(m)){k=f[m];for(h=0,g=k.length;h<g;++h){q=k[h].path;n=k[h].value;a.setValue(e,q,n);}}}return e;}};b.mix(b.Attribute,b.Attribute.Complex,true,null,1);},"3.3.0",{requires:["attribute-base"]});YUI.add("attribute",function(a){},"3.3.0",{use:["attribute-base","attribute-complex"]});YUI.add("base-base",function(b){var i=b.Object,k=b.Lang,j=".",g="destroy",p="init",o="initialized",h="destroyed",d="initializer",m="bubbleTargets",e="_bubbleTargets",c=Object.prototype.constructor,l="deep",q="shallow",n="destructor",a=b.Attribute;function f(){b.stamp(this);a.call(this);var r=b.Plugin&&b.Plugin.Host;if(this._initPlugins&&r){r.call(this);}if(this._lazyAddAttrs!==false){this._lazyAddAttrs=true;}this.name=this.constructor.NAME;this._eventPrefix=this.constructor.EVENT_PREFIX||this.constructor.NAME;this.init.apply(this,arguments);}f._ATTR_CFG=a._ATTR_CFG.concat("cloneDefaultValue");f.NAME="base";f.ATTRS={initialized:{readOnly:true,value:false},destroyed:{readOnly:true,value:false}};f.prototype={init:function(r){this._yuievt.config.prefix=this._eventPrefix;this.publish(p,{queuable:false,fireOnce:true,defaultTargetOnly:true,defaultFn:this._defInitFn});this._preInitEventCfg(r);this.fire(p,{cfg:r});return this;},_preInitEventCfg:function(s){if(s){if(s.on){this.on(s.on);}if(s.after){this.after(s.after);}}var t,r,v,u=(s&&m in s);if(u||e in this){v=u?(s&&s.bubbleTargets):this._bubbleTargets;if(k.isArray(v)){for(t=0,r=v.length;t<r;t++){this.addTarget(v[t]);}}else{if(v){this.addTarget(v);}}}},destroy:function(){this.publish(g,{queuable:false,fireOnce:true,defaultTargetOnly:true,defaultFn:this._defDestroyFn});this.fire(g);this.detachAll();return this;},_defInitFn:function(r){this._initHierarchy(r.cfg);if(this._initPlugins){this._initPlugins(r.cfg);}this._set(o,true);},_defDestroyFn:function(r){this._destroyHierarchy();if(this._destroyPlugins){this._destroyPlugins();}this._set(h,true);},_getClasses:function(){if(!this._classes){this._initHierarchyData();}return this._classes;},_getAttrCfgs:function(){if(!this._attrs){this._initHierarchyData();}return this._attrs;},_filterAttrCfgs:function(v,s){var t=null,r,u=v.ATTRS;if(u){for(r in u){if(u.hasOwnProperty(r)&&s[r]){t=t||{};t[r]=s[r];delete s[r];}}}return t;},_initHierarchyData:function(){var t=this.constructor,s=[],r=[];while(t){s[s.length]=t;if(t.ATTRS){r[r.length]=t.ATTRS;
}t=t.superclass?t.superclass.constructor:null;}this._classes=s;this._attrs=this._aggregateAttrs(r);},_aggregateAttrs:function(y){var v,z,u,r,A,s,x,t=f._ATTR_CFG,w={};if(y){for(s=y.length-1;s>=0;--s){z=y[s];for(v in z){if(z.hasOwnProperty(v)){u=b.mix({},z[v],true,t);r=u.value;x=u.cloneDefaultValue;if(r){if((x===undefined&&(c===r.constructor||k.isArray(r)))||x===l||x===true){u.value=b.clone(r);}else{if(x===q){u.value=b.merge(r);}}}A=null;if(v.indexOf(j)!==-1){A=v.split(j);v=A.shift();}if(A&&w[v]&&w[v].value){i.setValue(w[v].value,A,r);}else{if(!A){if(!w[v]){w[v]=u;}else{b.mix(w[v],u,true,t);}}}}}}}return w;},_initHierarchy:function(w){var t=this._lazyAddAttrs,x,y,z,u,s,v=this._getClasses(),r=this._getAttrCfgs();for(z=v.length-1;z>=0;z--){x=v[z];y=x.prototype;if(x._yuibuild&&x._yuibuild.exts){for(u=0,s=x._yuibuild.exts.length;u<s;u++){x._yuibuild.exts[u].apply(this,arguments);}}this.addAttrs(this._filterAttrCfgs(x,r),w,t);if(y.hasOwnProperty(d)){y.initializer.apply(this,arguments);}}},_destroyHierarchy:function(){var v,s,u,r,t=this._getClasses();for(u=0,r=t.length;u<r;u++){v=t[u];s=v.prototype;if(s.hasOwnProperty(n)){s.destructor.apply(this,arguments);}}},toString:function(){return this.name+"["+b.stamp(this,true)+"]";}};b.mix(f,a,false,null,1);f.prototype.constructor=f;b.Base=f;},"3.3.0",{requires:["attribute-base"]});YUI.add("base-pluginhost",function(c){var a=c.Base,b=c.Plugin.Host;c.mix(a,b,false,null,1);a.plug=b.plug;a.unplug=b.unplug;},"3.3.0",{requires:["base-base","pluginhost"]});YUI.add("base-build",function(d){var b=d.Base,a=d.Lang,c;b._build=function(f,n,r,v,u,q){var w=b._build,g=w._ctor(n,q),k=w._cfg(n,q),t=w._mixCust,p=k.aggregates,e=k.custom,j=g._yuibuild.dynamic,o,m,h,s;if(j&&p){for(o=0,m=p.length;o<m;++o){h=p[o];if(n.hasOwnProperty(h)){g[h]=a.isArray(n[h])?[]:{};}}}for(o=0,m=r.length;o<m;o++){s=r[o];d.mix(g,s,true,null,1);t(g,s,p,e);g._yuibuild.exts.push(s);}if(v){d.mix(g.prototype,v,true);}if(u){d.mix(g,w._clean(u,p,e),true);t(g,u,p,e);}g.prototype.hasImpl=w._impl;if(j){g.NAME=f;g.prototype.constructor=g;}return g;};c=b._build;d.mix(c,{_mixCust:function(g,f,i,h){if(i){d.aggregate(g,f,true,i);}if(h){for(var e in h){if(h.hasOwnProperty(e)){h[e](e,g,f);}}}},_tmpl:function(e){function f(){f.superclass.constructor.apply(this,arguments);}d.extend(f,e);return f;},_impl:function(h){var n=this._getClasses(),m,f,e,k,o,g;for(m=0,f=n.length;m<f;m++){e=n[m];if(e._yuibuild){k=e._yuibuild.exts;o=k.length;for(g=0;g<o;g++){if(k[g]===h){return true;}}}}return false;},_ctor:function(e,f){var h=(f&&false===f.dynamic)?false:true,i=(h)?c._tmpl(e):e,g=i._yuibuild;if(!g){g=i._yuibuild={};}g.id=g.id||null;g.exts=g.exts||[];g.dynamic=h;return i;},_cfg:function(e,f){var g=[],j={},i,h=(f&&f.aggregates),l=(f&&f.custom),k=e;while(k&&k.prototype){i=k._buildCfg;if(i){if(i.aggregates){g=g.concat(i.aggregates);}if(i.custom){d.mix(j,i.custom,true);}}k=k.superclass?k.superclass.constructor:null;}if(h){g=g.concat(h);}if(l){d.mix(j,f.cfgBuild,true);}return{aggregates:g,custom:j};},_clean:function(m,k,g){var j,f,e,h=d.merge(m);for(j in g){if(h.hasOwnProperty(j)){delete h[j];}}for(f=0,e=k.length;f<e;f++){j=k[f];if(h.hasOwnProperty(j)){delete h[j];}}return h;}});b.build=function(g,e,h,f){return c(g,e,h,null,null,f);};b.create=function(e,h,g,f,i){return c(e,h,g,f,i);};b.mix=function(e,f){return c(null,e,f,null,null,{dynamic:false});};b._buildCfg={custom:{ATTRS:function(j,h,f){h.ATTRS=h.ATTRS||{};if(f.ATTRS){var g=f.ATTRS,i=h.ATTRS,e;for(e in g){if(g.hasOwnProperty(e)){i[e]=i[e]||{};d.mix(i[e],g[e],true);}}}}},aggregates:["_PLUG","_UNPLUG"]};},"3.3.0",{requires:["base-base"]});YUI.add("base",function(a){},"3.3.0",{after:["attribute-complex"],use:["base-base","base-pluginhost","base-build"]});YUI.add("anim-base",function(B){var C="running",N="startTime",L="elapsedTime",J="start",I="tween",M="end",D="node",K="paused",O="reverse",H="iterationCount",A=Number;var F={},E;B.Anim=function(){B.Anim.superclass.constructor.apply(this,arguments);B.Anim._instances[B.stamp(this)]=this;};B.Anim.NAME="anim";B.Anim._instances={};B.Anim.RE_DEFAULT_UNIT=/^width|height|top|right|bottom|left|margin.*|padding.*|border.*$/i;B.Anim.DEFAULT_UNIT="px";B.Anim.DEFAULT_EASING=function(Q,P,S,R){return S*Q/R+P;};B.Anim._intervalTime=20;B.Anim.behaviors={left:{get:function(Q,P){return Q._getOffset(P);}}};B.Anim.behaviors.top=B.Anim.behaviors.left;B.Anim.DEFAULT_SETTER=function(S,T,V,W,Y,R,U,X){var Q=S._node,P=U(Y,A(V),A(W)-A(V),R);if(T in Q._node.style||T in B.DOM.CUSTOM_STYLES){X=X||"";Q.setStyle(T,P+X);}else{if(Q._node.attributes[T]){Q.setAttribute(T,P);}else{Q.set(T,P);}}};B.Anim.DEFAULT_GETTER=function(R,P){var Q=R._node,S="";if(P in Q._node.style||P in B.DOM.CUSTOM_STYLES){S=Q.getComputedStyle(P);}else{if(Q._node.attributes[P]){S=Q.getAttribute(P);}else{S=Q.get(P);}}return S;};B.Anim.ATTRS={node:{setter:function(P){P=B.one(P);this._node=P;if(!P){}return P;}},duration:{value:1},easing:{value:B.Anim.DEFAULT_EASING,setter:function(P){if(typeof P==="string"&&B.Easing){return B.Easing[P];}}},from:{},to:{},startTime:{value:0,readOnly:true},elapsedTime:{value:0,readOnly:true},running:{getter:function(){return !!F[B.stamp(this)];},value:false,readOnly:true},iterations:{value:1},iterationCount:{value:0,readOnly:true},direction:{value:"normal"},paused:{readOnly:true,value:false},reverse:{value:false}};B.Anim.run=function(){var Q=B.Anim._instances;for(var P in Q){if(Q[P].run){Q[P].run();}}};B.Anim.pause=function(){for(var P in F){if(F[P].pause){F[P].pause();}}B.Anim._stopTimer();};B.Anim.stop=function(){for(var P in F){if(F[P].stop){F[P].stop();}}B.Anim._stopTimer();};B.Anim._startTimer=function(){if(!E){E=setInterval(B.Anim._runFrame,B.Anim._intervalTime);}};B.Anim._stopTimer=function(){clearInterval(E);E=0;};B.Anim._runFrame=function(){var P=true;for(var Q in F){if(F[Q]._runFrame){P=false;F[Q]._runFrame();}}if(P){B.Anim._stopTimer();}};B.Anim.RE_UNITS=/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/;var G={run:function(){if(this.get(K)){this._resume();
}else{if(!this.get(C)){this._start();}}return this;},pause:function(){if(this.get(C)){this._pause();}return this;},stop:function(P){if(this.get(C)||this.get(K)){this._end(P);}return this;},_added:false,_start:function(){this._set(N,new Date()-this.get(L));this._actualFrames=0;if(!this.get(K)){this._initAnimAttr();}F[B.stamp(this)]=this;B.Anim._startTimer();this.fire(J);},_pause:function(){this._set(N,null);this._set(K,true);delete F[B.stamp(this)];this.fire("pause");},_resume:function(){this._set(K,false);F[B.stamp(this)]=this;this._set(N,new Date()-this.get(L));B.Anim._startTimer();this.fire("resume");},_end:function(P){var Q=this.get("duration")*1000;if(P){this._runAttrs(Q,Q,this.get(O));}this._set(N,null);this._set(L,0);this._set(K,false);delete F[B.stamp(this)];this.fire(M,{elapsed:this.get(L)});},_runFrame:function(){var T=this._runtimeAttr.duration,R=new Date()-this.get(N),Q=this.get(O),P=(R>=T),S,U;this._runAttrs(R,T,Q);this._actualFrames+=1;this._set(L,R);this.fire(I);if(P){this._lastFrame();}},_runAttrs:function(Z,Y,V){var W=this._runtimeAttr,R=B.Anim.behaviors,X=W.easing,P=Y,T=false,Q,S,U;if(Z>=Y){T=true;}if(V){Z=Y-Z;P=0;}for(U in W){if(W[U].to){Q=W[U];S=(U in R&&"set" in R[U])?R[U].set:B.Anim.DEFAULT_SETTER;if(!T){S(this,U,Q.from,Q.to,Z,Y,X,Q.unit);}else{S(this,U,Q.from,Q.to,P,Y,X,Q.unit);}}}},_lastFrame:function(){var P=this.get("iterations"),Q=this.get(H);Q+=1;if(P==="infinite"||Q<P){if(this.get("direction")==="alternate"){this.set(O,!this.get(O));}this.fire("iteration");}else{Q=0;this._end();}this._set(N,new Date());this._set(H,Q);},_initAnimAttr:function(){var W=this.get("from")||{},V=this.get("to")||{},P={duration:this.get("duration")*1000,easing:this.get("easing")},R=B.Anim.behaviors,U=this.get(D),T,S,Q;B.each(V,function(a,Y){if(typeof a==="function"){a=a.call(this,U);}S=W[Y];if(S===undefined){S=(Y in R&&"get" in R[Y])?R[Y].get(this,Y):B.Anim.DEFAULT_GETTER(this,Y);}else{if(typeof S==="function"){S=S.call(this,U);}}var X=B.Anim.RE_UNITS.exec(S);var Z=B.Anim.RE_UNITS.exec(a);S=X?X[1]:S;Q=Z?Z[1]:a;T=Z?Z[2]:X?X[2]:"";if(!T&&B.Anim.RE_DEFAULT_UNIT.test(Y)){T=B.Anim.DEFAULT_UNIT;}if(!S||!Q){B.error('invalid "from" or "to" for "'+Y+'"',"Anim");return;}P[Y]={from:S,to:Q,unit:T};},this);this._runtimeAttr=P;},_getOffset:function(Q){var S=this._node,T=S.getComputedStyle(Q),R=(Q==="left")?"getX":"getY",U=(Q==="left")?"setX":"setY";if(T==="auto"){var P=S.getStyle("position");if(P==="absolute"||P==="fixed"){T=S[R]();S[U](T);}else{T=0;}}return T;},destructor:function(){delete B.Anim._instances[B.stamp(this)];}};B.extend(B.Anim,B.Base,G);},"3.3.0",{requires:["base-base","node-style"]});YUI.add("anim-color",function(B){var A=Number;B.Anim.behaviors.color={set:function(F,D,I,H,C,G,E){I=B.Color.re_RGB.exec(B.Color.toRGB(I));H=B.Color.re_RGB.exec(B.Color.toRGB(H));if(!I||I.length<3||!H||H.length<3){B.error("invalid from or to passed to color behavior");}F._node.setStyle(D,"rgb("+[Math.floor(E(C,A(I[1]),A(H[1])-A(I[1]),G)),Math.floor(E(C,A(I[2]),A(H[2])-A(I[2]),G)),Math.floor(E(C,A(I[3]),A(H[3])-A(I[3]),G))].join(", ")+")");},get:function(D,C){var E=D._node.getComputedStyle(C);E=(E==="transparent")?"rgb(255, 255, 255)":E;return E;}};B.each(["backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],function(C,D){B.Anim.behaviors[C]=B.Anim.behaviors.color;});},"3.3.0",{requires:["anim-base"]});YUI.add("anim-curve",function(A){A.Anim.behaviors.curve={set:function(F,C,I,H,B,G,E){I=I.slice.call(I);H=H.slice.call(H);var D=E(B,0,100,G)/100;H.unshift(I);F._node.setXY(A.Anim.getBezier(H,D));},get:function(C,B){return C._node.getXY();}};A.Anim.getBezier=function(F,E){var G=F.length;var D=[];for(var C=0;C<G;++C){D[C]=[F[C][0],F[C][1]];}for(var B=1;B<G;++B){for(C=0;C<G-B;++C){D[C][0]=(1-E)*D[C][0]+E*D[parseInt(C+1,10)][0];D[C][1]=(1-E)*D[C][1]+E*D[parseInt(C+1,10)][1];}}return[D[0][0],D[0][1]];};},"3.3.0",{requires:["anim-xy"]});YUI.add("anim-easing",function(B){var A={easeNone:function(D,C,F,E){return F*D/E+C;},easeIn:function(D,C,F,E){return F*(D/=E)*D+C;},easeOut:function(D,C,F,E){return -F*(D/=E)*(D-2)+C;},easeBoth:function(D,C,F,E){if((D/=E/2)<1){return F/2*D*D+C;}return -F/2*((--D)*(D-2)-1)+C;},easeInStrong:function(D,C,F,E){return F*(D/=E)*D*D*D+C;},easeOutStrong:function(D,C,F,E){return -F*((D=D/E-1)*D*D*D-1)+C;},easeBothStrong:function(D,C,F,E){if((D/=E/2)<1){return F/2*D*D*D*D+C;}return -F/2*((D-=2)*D*D*D-2)+C;},elasticIn:function(E,C,I,H,D,G){var F;if(E===0){return C;}if((E/=H)===1){return C+I;}if(!G){G=H*0.3;}if(!D||D<Math.abs(I)){D=I;F=G/4;}else{F=G/(2*Math.PI)*Math.asin(I/D);}return -(D*Math.pow(2,10*(E-=1))*Math.sin((E*H-F)*(2*Math.PI)/G))+C;},elasticOut:function(E,C,I,H,D,G){var F;if(E===0){return C;}if((E/=H)===1){return C+I;}if(!G){G=H*0.3;}if(!D||D<Math.abs(I)){D=I;F=G/4;}else{F=G/(2*Math.PI)*Math.asin(I/D);}return D*Math.pow(2,-10*E)*Math.sin((E*H-F)*(2*Math.PI)/G)+I+C;},elasticBoth:function(E,C,I,H,D,G){var F;if(E===0){return C;}if((E/=H/2)===2){return C+I;}if(!G){G=H*(0.3*1.5);}if(!D||D<Math.abs(I)){D=I;F=G/4;}else{F=G/(2*Math.PI)*Math.asin(I/D);}if(E<1){return -0.5*(D*Math.pow(2,10*(E-=1))*Math.sin((E*H-F)*(2*Math.PI)/G))+C;}return D*Math.pow(2,-10*(E-=1))*Math.sin((E*H-F)*(2*Math.PI)/G)*0.5+I+C;},backIn:function(D,C,G,F,E){if(E===undefined){E=1.70158;}if(D===F){D-=0.001;}return G*(D/=F)*D*((E+1)*D-E)+C;},backOut:function(D,C,G,F,E){if(typeof E==="undefined"){E=1.70158;}return G*((D=D/F-1)*D*((E+1)*D+E)+1)+C;},backBoth:function(D,C,G,F,E){if(typeof E==="undefined"){E=1.70158;}if((D/=F/2)<1){return G/2*(D*D*(((E*=(1.525))+1)*D-E))+C;}return G/2*((D-=2)*D*(((E*=(1.525))+1)*D+E)+2)+C;},bounceIn:function(D,C,F,E){return F-B.Easing.bounceOut(E-D,0,F,E)+C;},bounceOut:function(D,C,F,E){if((D/=E)<(1/2.75)){return F*(7.5625*D*D)+C;}else{if(D<(2/2.75)){return F*(7.5625*(D-=(1.5/2.75))*D+0.75)+C;}else{if(D<(2.5/2.75)){return F*(7.5625*(D-=(2.25/2.75))*D+0.9375)+C;}}}return F*(7.5625*(D-=(2.625/2.75))*D+0.984375)+C;},bounceBoth:function(D,C,F,E){if(D<E/2){return B.Easing.bounceIn(D*2,0,F,E)*0.5+C;
}return B.Easing.bounceOut(D*2-E,0,F,E)*0.5+F*0.5+C;}};B.Easing=A;},"3.3.0",{requires:["anim-base"]});YUI.add("anim-node-plugin",function(B){var A=function(C){C=(C)?B.merge(C):{};C.node=C.host;A.superclass.constructor.apply(this,arguments);};A.NAME="nodefx";A.NS="fx";B.extend(A,B.Anim);B.namespace("Plugin");B.Plugin.NodeFX=A;},"3.3.0",{requires:["node-pluginhost","anim-base"]});YUI.add("anim-scroll",function(B){var A=Number;B.Anim.behaviors.scroll={set:function(F,G,I,J,K,E,H){var D=F._node,C=([H(K,A(I[0]),A(J[0])-A(I[0]),E),H(K,A(I[1]),A(J[1])-A(I[1]),E)]);if(C[0]){D.set("scrollLeft",C[0]);}if(C[1]){D.set("scrollTop",C[1]);}},get:function(D){var C=D._node;return[C.get("scrollLeft"),C.get("scrollTop")];}};},"3.3.0",{requires:["anim-base"]});YUI.add("anim-xy",function(B){var A=Number;B.Anim.behaviors.xy={set:function(F,D,I,H,C,G,E){F._node.setXY([E(C,A(I[0]),A(H[0])-A(I[0]),G),E(C,A(I[1]),A(H[1])-A(I[1]),G)]);},get:function(C){return C._node.getXY();}};},"3.3.0",{requires:["anim-base","node-screen"]});YUI.add("anim",function(A){},"3.3.0",{use:["anim-base","anim-color","anim-curve","anim-easing","anim-node-plugin","anim-scroll","anim-xy"],skinnable:false});YUI.add("json-parse",function(B){function K(Q){return(B.config.win||this||{})[Q];}var I=K("JSON"),J=K("eval"),L=(Object.prototype.toString.call(I)==="[object JSON]"&&I),E=!!L,O=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,M=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,D=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,F=/(?:^|:|,)(?:\s*\[)+/g,P=/[^\],:{}\s]/,N=function(Q){return"\\u"+("0000"+(+(Q.charCodeAt(0))).toString(16)).slice(-4);},C=function(S,Q){var R=function(X,V){var U,T,W=X[V];if(W&&typeof W==="object"){for(U in W){if(W.hasOwnProperty(U)){T=R(W,U);if(T===undefined){delete W[U];}else{W[U]=T;}}}}return Q.call(X,V,W);};return typeof Q==="function"?R({"":S},""):S;},G=function(R,Q){R=R.replace(O,N);if(!P.test(R.replace(M,"@").replace(D,"]").replace(F,""))){return C(J("("+R+")"),Q);}throw new SyntaxError("JSON.parse");};B.namespace("JSON").parse=function(R,Q){if(typeof R!=="string"){R+="";}return L&&B.JSON.useNativeParse?L.parse(R,Q):G(R,Q);};function A(R,Q){return R==="ok"?true:Q;}if(L){try{E=(L.parse('{"ok":false}',A)).ok;}catch(H){E=false;}}B.JSON.useNativeParse=E;},"3.3.0");YUI.add("json-stringify",function(B){var I=(B.config.win||{}).JSON,k=B.Lang,M=k.isFunction,f=k.isObject,R=k.isArray,J=Object.prototype.toString,Z=(J.call(I)==="[object JSON]"&&I),c=!!Z,a="undefined",O="object",W="null",i="string",X="number",S="boolean",K="date",b={"undefined":a,"string":i,"[object String]":i,"number":X,"[object Number]":X,"boolean":S,"[object Boolean]":S,"[object Date]":K,"[object RegExp]":O},F="",N="{",A="}",U="[",H="]",P=",",C=",\n",L="\n",d=":",G=": ",Q='"',E=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,D={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function l(e){var Y=typeof e;return b[Y]||b[J.call(e)]||(Y===O?(e?O:W):a);}function h(Y){if(!D[Y]){D[Y]="\\u"+("0000"+(+(Y.charCodeAt(0))).toString(16)).slice(-4);}return D[Y];}function T(Y){return Q+Y.replace(E,h)+Q;}function V(Y,e){return Y.replace(/^/gm,e);}function g(e,u,Y){if(e===undefined){return undefined;}var n=M(u)?u:null,t=J.call(Y).match(/String|Number/)||[],v=B.JSON.dateToString,s=[],q,p,r;if(n||!R(u)){u=undefined;}if(u){q={};for(p=0,r=u.length;p<r;++p){q[u[p]]=true;}u=q;}Y=t[0]==="Number"?new Array(Math.min(Math.max(0,Y),10)+1).join(" "):(Y||F).slice(0,10);function m(x,AD){var AB=x[AD],AF=l(AB),AA=[],z=Y?G:d,y,w,AE,o,AC;if(f(AB)&&M(AB.toJSON)){AB=AB.toJSON(AD);}else{if(AF===K){AB=v(AB);}}if(M(n)){AB=n.call(x,AD,AB);}if(AB!==x[AD]){AF=l(AB);}switch(AF){case K:case O:break;case i:return T(AB);case X:return isFinite(AB)?AB+F:W;case S:return AB+F;case W:return W;default:return undefined;}for(w=s.length-1;w>=0;--w){if(s[w]===AB){throw new Error("JSON.stringify. Cyclical reference");}}y=R(AB);s.push(AB);if(y){for(w=AB.length-1;w>=0;--w){AA[w]=m(AB,w)||W;}}else{AE=u||AB;w=0;for(o in AE){if(AE.hasOwnProperty(o)){AC=m(AB,o);if(AC){AA[w++]=T(o)+z+AC;}}}}s.pop();if(Y&&AA.length){return y?U+L+V(AA.join(C),Y)+L+H:N+L+V(AA.join(C),Y)+L+A;}else{return y?U+AA.join(P)+H:N+AA.join(P)+A;}}return m({"":e},"");}if(Z){try{c=("0"===Z.stringify(0));}catch(j){c=false;}}B.mix(B.namespace("JSON"),{useNativeStringify:c,dateToString:function(e){function Y(m){return m<10?"0"+m:m;}return e.getUTCFullYear()+"-"+Y(e.getUTCMonth()+1)+"-"+Y(e.getUTCDate())+"T"+Y(e.getUTCHours())+d+Y(e.getUTCMinutes())+d+Y(e.getUTCSeconds())+"Z";},stringify:function(m,Y,e){return Z&&B.JSON.useNativeStringify?Z.stringify(m,Y,e):g(m,Y,e);}});},"3.3.0");YUI.add("json",function(A){},"3.3.0",{use:["json-parse","json-stringify"]});YUI.add("selector-css3",function(a){a.Selector._reNth=/^(?:([\-]?\d*)(n){1}|(odd|even)$)*([\-+]?\d*)$/;a.Selector._getNth=function(d,o,q,h){a.Selector._reNth.test(o);var m=parseInt(RegExp.$1,10),c=RegExp.$2,j=RegExp.$3,k=parseInt(RegExp.$4,10)||0,p=[],l=a.Selector._children(d.parentNode,q),f;if(j){m=2;f="+";c="n";k=(j==="odd")?1:0;}else{if(isNaN(m)){m=(c)?1:0;}}if(m===0){if(h){k=l.length-k+1;}if(l[k-1]===d){return true;}else{return false;}}else{if(m<0){h=!!h;m=Math.abs(m);}}if(!h){for(var e=k-1,g=l.length;e<g;e+=m){if(e>=0&&l[e]===d){return true;}}}else{for(var e=l.length-k,g=l.length;e>=0;e-=m){if(e<g&&l[e]===d){return true;}}}return false;};a.mix(a.Selector.pseudos,{"root":function(b){return b===b.ownerDocument.documentElement;},"nth-child":function(b,c){return a.Selector._getNth(b,c);},"nth-last-child":function(b,c){return a.Selector._getNth(b,c,null,true);},"nth-of-type":function(b,c){return a.Selector._getNth(b,c,b.tagName);},"nth-last-of-type":function(b,c){return a.Selector._getNth(b,c,b.tagName,true);},"last-child":function(c){var b=a.Selector._children(c.parentNode);return b[b.length-1]===c;},"first-of-type":function(b){return a.Selector._children(b.parentNode,b.tagName)[0]===b;
},"last-of-type":function(c){var b=a.Selector._children(c.parentNode,c.tagName);return b[b.length-1]===c;},"only-child":function(c){var b=a.Selector._children(c.parentNode);return b.length===1&&b[0]===c;},"only-of-type":function(c){var b=a.Selector._children(c.parentNode,c.tagName);return b.length===1&&b[0]===c;},"empty":function(b){return b.childNodes.length===0;},"not":function(b,c){return !a.Selector.test(b,c);},"contains":function(b,c){var d=b.innerText||b.textContent||"";return d.indexOf(c)>-1;},"checked":function(b){return(b.checked===true||b.selected===true);},enabled:function(b){return(b.disabled!==undefined&&!b.disabled);},disabled:function(b){return(b.disabled);}});a.mix(a.Selector.operators,{"^=":"^{val}","$=":"{val}$","*=":"{val}"});a.Selector.combinators["~"]={axis:"previousSibling"};},"3.3.0",{requires:["dom-base","selector-native","selector-css2"]});YUI.add("substitute",function(g){var b=g.Lang,d="dump",f=" ",c="{",e="}",a=function(A,l,t,h){var q,p,n,y,x,z,w=[],m,r,u=A.length;for(;;){q=A.lastIndexOf(c,u);if(q<0){break;}p=A.indexOf(e,q);if(q+1>=p){break;}m=A.substring(q+1,p);y=m;z=null;n=y.indexOf(f);if(n>-1){z=y.substring(n+1);y=y.substring(0,n);}x=l[y];if(t){x=t(y,x,z);}if(b.isObject(x)){if(!g.dump){x=x.toString();}else{if(b.isArray(x)){x=g.dump(x,parseInt(z,10));}else{z=z||"";r=z.indexOf(d);if(r>-1){z=z.substring(4);}if(x.toString===Object.prototype.toString||r>-1){x=g.dump(x,parseInt(z,10));}else{x=x.toString();}}}}else{if(!b.isString(x)&&!b.isNumber(x)){x="~-"+w.length+"-~";w[w.length]=m;}}A=A.substring(0,q)+x+A.substring(p+1);if(!h){u=q-1;}}for(q=w.length-1;q>=0;q=q-1){A=A.replace(new RegExp("~-"+q+"-~"),c+w[q]+e,"g");}return A;};g.substitute=a;b.substitute=a;},"3.3.0",{optional:["dump"]});YUI.add("classnamemanager",function(C){var B="classNamePrefix",D="classNameDelimiter",A=C.config;A[B]=A[B]||"yui3";A[D]=A[D]||"-";C.ClassNameManager=function(){var E=A[B],F=A[D];return{getClassName:C.cached(function(){var G=C.Array(arguments);if(G[G.length-1]!==true){G.unshift(E);}else{G.pop();}return G.join(F);})};}();},"3.3.0");YUI.add("widget-base",function(b){var g=b.Lang,r=b.Node,e=b.ClassNameManager,w=e.getClassName,M,s=b.cached(function(L){return L.substring(0,1).toUpperCase()+L.substring(1);}),F="content",P="visible",K="hidden",y="disabled",B="focused",d="width",A="height",N="boundingBox",v="contentBox",k="parentNode",m="ownerDocument",x="auto",j="srcNode",I="body",H="tabIndex",q="id",i="render",J="rendered",n="destroyed",a="strings",o="<div></div>",z="Change",p="loading",E="_uiSet",D="",G=function(){},u=true,O=false,t,l={},f=[P,y,A,d,B],C=b.UA.webkit,h={};function c(Q){var T=this,L,S,R=T.constructor;T._strs={};T._cssPrefix=R.CSS_PREFIX||w(R.NAME.toLowerCase());c.superclass.constructor.apply(T,arguments);S=T.get(i);if(S){if(S!==u){L=S;}T.render(L);}}c.NAME="widget";t=c.UI_SRC="ui";c.ATTRS=l;l[q]={valueFn:"_guid",writeOnce:u};l[J]={value:O,readOnly:u};l[N]={value:null,setter:"_setBB",writeOnce:u};l[v]={valueFn:"_defaultCB",setter:"_setCB",writeOnce:u};l[H]={value:null,validator:"_validTabIndex"};l[B]={value:O,readOnly:u};l[y]={value:O};l[P]={value:u};l[A]={value:D};l[d]={value:D};l[a]={value:{},setter:"_strSetter",getter:"_strGetter"};l[i]={value:O,writeOnce:u};c.CSS_PREFIX=w(c.NAME.toLowerCase());c.getClassName=function(){return w.apply(e,[c.CSS_PREFIX].concat(b.Array(arguments),true));};M=c.getClassName;c.getByNode=function(L){var R,Q=M();L=r.one(L);if(L){L=L.ancestor("."+Q,true);if(L){R=h[b.stamp(L,u)];}}return R||null;};b.extend(c,b.Base,{getClassName:function(){return w.apply(e,[this._cssPrefix].concat(b.Array(arguments),true));},initializer:function(L){h[b.stamp(this.get(N))]=this;if(this._applyParser){this._applyParser(L);}},destructor:function(){var Q=this.get(N),L=this.get(v),R=b.stamp(Q,u);if(R in h){delete h[R];}if(this.UI_EVENTS){this._destroyUIEvents();}this._unbindUI(Q);if(L){L.remove(u);}Q.remove(u);},render:function(L){if(!this.get(n)&&!this.get(J)){this.publish(i,{queuable:O,fireOnce:u,defaultTargetOnly:u,defaultFn:this._defRenderFn});this.fire(i,{parentNode:(L)?r.one(L):null});}return this;},_defRenderFn:function(L){this._parentNode=L.parentNode;this.renderer();this._set(J,u);this._removeLoadingClassNames();},renderer:function(){var L=this;L._renderUI();L.renderUI();L._bindUI();L.bindUI();L._syncUI();L.syncUI();},bindUI:G,renderUI:G,syncUI:G,hide:function(){return this.set(P,O);},show:function(){return this.set(P,u);},focus:function(){return this._set(B,u);},blur:function(){return this._set(B,O);},enable:function(){return this.set(y,O);},disable:function(){return this.set(y,u);},_uiSizeCB:function(L){this.get(v).toggleClass(M(F,"expanded"),L);},_renderBox:function(L){var T=this,Q=T.get(v),R=T.get(N),V=T.get(j),S=T.DEF_PARENT_NODE,U=(V&&V.get(m))||R.get(m)||Q.get(m);if(V&&!V.compareTo(Q)&&!Q.inDoc(U)){V.replace(Q);}if(!R.compareTo(Q.get(k))&&!R.compareTo(Q)){if(Q.inDoc(U)){Q.replace(R);}R.appendChild(Q);}L=L||(S&&r.one(S));if(L){L.appendChild(R);}else{if(!R.inDoc(U)){r.one(I).insert(R,0);}}},_setBB:function(L){return this._setBox(this.get(q),L,this.BOUNDING_TEMPLATE);},_setCB:function(L){return(this.CONTENT_TEMPLATE===null)?this.get(N):this._setBox(null,L,this.CONTENT_TEMPLATE);},_defaultCB:function(L){return this.get(j)||null;},_setBox:function(R,Q,L){Q=r.one(Q)||r.create(L);if(!Q.get(q)){Q.set(q,R||b.guid());}return Q;},_renderUI:function(){this._renderBoxClassNames();this._renderBox(this._parentNode);},_renderBoxClassNames:function(){var S=this._getClasses(),L,Q=this.get(N),R;Q.addClass(M());for(R=S.length-3;R>=0;R--){L=S[R];Q.addClass(L.CSS_PREFIX||w(L.NAME.toLowerCase()));}this.get(v).addClass(this.getClassName(F));},_removeLoadingClassNames:function(){var R=this.get(N),L=this.get(v),Q=this.getClassName(p),S=M(p);R.removeClass(S).removeClass(Q);L.removeClass(S).removeClass(Q);},_bindUI:function(){this._bindAttrUI(this._UI_ATTRS.BIND);this._bindDOM();},_unbindUI:function(L){this._unbindDOM(L);},_bindDOM:function(){var L=this.get(N).get(m);this._hDocFocus=L.on("focus",this._onDocFocus,this);
if(C){this._hDocMouseDown=L.on("mousedown",this._onDocMouseDown,this);}},_unbindDOM:function(L){if(this._hDocFocus){this._hDocFocus.detach();}if(C&&this._hDocMouseDown){this._hDocMouseDown.detach();}},_syncUI:function(){this._syncAttrUI(this._UI_ATTRS.SYNC);},_uiSetHeight:function(L){this._uiSetDim(A,L);this._uiSizeCB((L!==D&&L!==x));},_uiSetWidth:function(L){this._uiSetDim(d,L);},_uiSetDim:function(L,Q){this.get(N).setStyle(L,g.isNumber(Q)?Q+this.DEF_UNIT:Q);},_uiSetVisible:function(L){this.get(N).toggleClass(this.getClassName(K),!L);},_uiSetDisabled:function(L){this.get(N).toggleClass(this.getClassName(y),L);},_uiSetFocused:function(R,Q){var L=this.get(N);L.toggleClass(this.getClassName(B),R);if(Q!==t){if(R){L.focus();}else{L.blur();}}},_uiSetTabIndex:function(Q){var L=this.get(N);if(g.isNumber(Q)){L.set(H,Q);}else{L.removeAttribute(H);}},_onDocMouseDown:function(L){if(this._domFocus){this._onDocFocus(L);}},_onDocFocus:function(L){this._domFocus=this.get(N).contains(L.target);this._set(B,this._domFocus,{src:t});},toString:function(){return this.name+"["+this.get(q)+"]";},DEF_UNIT:"px",DEF_PARENT_NODE:null,CONTENT_TEMPLATE:o,BOUNDING_TEMPLATE:o,_guid:function(){return b.guid();},_validTabIndex:function(L){return(g.isNumber(L)||g.isNull(L));},_bindAttrUI:function(Q){var R,L=Q.length;for(R=0;R<L;R++){this.after(Q[R]+z,this._setAttrUI);}},_syncAttrUI:function(R){var S,Q=R.length,L;for(S=0;S<Q;S++){L=R[S];this[E+s(L)](this.get(L));}},_setAttrUI:function(L){this[E+s(L.attrName)](L.newVal,L.src);},_strSetter:function(L){return b.merge(this.get(a),L);},getString:function(L){return this.get(a)[L];},getStrings:function(){return this.get(a);},_UI_ATTRS:{BIND:f,SYNC:f.concat(H)}});b.Widget=c;},"3.3.0",{requires:["attribute","event-focus","base-base","base-pluginhost","node-base","node-style","node-event-delegate","classnamemanager"]});YUI.add("widget-uievents",function(g){var f="boundingBox",e=g.Widget,d="render",a=g.Lang,c=":",b=g.Widget._uievts=g.Widget._uievts||{};g.mix(e.prototype,{_destroyUIEvents:function(){var h=g.stamp(this,true);g.each(b,function(j,i){if(j.instances[h]){delete j.instances[h];if(g.Object.isEmpty(j.instances)){j.handle.detach();if(b[i]){delete b[i];}}}});},UI_EVENTS:g.Node.DOM_EVENTS,_getUIEventNode:function(){return this.get(f);},_createUIEvent:function(i){var l=this._getUIEventNode(),h=(g.stamp(l)+i),k=b[h],j;if(!k){j=l.delegate(i,function(m){var n=e.getByNode(this);n.fire(m.type,{domEvent:m});},"."+g.Widget.getClassName());b[h]=k={instances:{},handle:j};}k.instances[g.stamp(this)]=1;},_getUIEvent:function(j){if(a.isString(j)){var k=this.parseType(j)[1],h,i;if(k){h=k.indexOf(c);if(h>-1){k=k.substring(h+c.length);}if(this.UI_EVENTS[k]){i=k;}}return i;}},_initUIEvent:function(i){var j=this._getUIEvent(i),h=this._uiEvtsInitQueue||{};if(j&&!h[j]){this._uiEvtsInitQueue=h[j]=1;this.after(d,function(){this._createUIEvent(j);delete this._uiEvtsInitQueue[j];});}},on:function(h){this._initUIEvent(h);return e.superclass.on.apply(this,arguments);},publish:function(i,h){var j=this._getUIEvent(i);if(j&&h&&h.defaultFn){this._initUIEvent(j);}return e.superclass.publish.apply(this,arguments);}},true);},"3.3.0",{requires:["widget-base","node-event-delegate"]});YUI.add("widget-htmlparser",function(f){var e=f.Widget,c=f.Node,d=f.Lang,a="srcNode",b="contentBox";e.HTML_PARSER={};e._buildCfg={aggregates:["HTML_PARSER"]};e.ATTRS[a]={value:null,setter:c.one,getter:"_getSrcNode",writeOnce:true};f.mix(e.prototype,{_getSrcNode:function(g){return g||this.get(b);},_applyParsedConfig:function(i,g,h){return(h)?f.mix(g,h,false):g;},_applyParser:function(g){var i=this,j=i.get(a),h=i._getHtmlParser(),l,k;if(h&&j){f.Object.each(h,function(n,m,p){k=null;if(d.isFunction(n)){k=n.call(i,j);}else{if(d.isArray(n)){k=j.all(n[0]);if(k.isEmpty()){k=null;}}else{k=j.one(n);}}if(k!==null&&k!==undefined){l=l||{};l[m]=k;}});}g=i._applyParsedConfig(j,g,l);},_getHtmlParser:function(){var h=this._getClasses(),k={},g,j;for(g=h.length-1;g>=0;g--){j=h[g].HTML_PARSER;if(j){f.mix(k,j,true);}}return k;}});},"3.3.0",{requires:["widget-base"]});YUI.add("widget-skin",function(e){var d="boundingBox",b="contentBox",a="skin",c=e.ClassNameManager.getClassName;e.Widget.prototype.getSkinName=function(){var f=this.get(b)||this.get(d),h=new RegExp("\\b"+c(a)+"-(\\S+)"),g;if(f){f.ancestor(function(i){g=i.get("className").match(h);return g;});}return(g)?g[1]:null;};},"3.3.0",{requires:["widget-base"]});YUI.add("widget",function(a){},"3.3.0",{use:["widget-base","widget-uievents","widget-htmlparser","widget-skin"]});YUI.add("widget-base-ie",function(a){var d="boundingBox",f="contentBox",c="height",e="offsetHeight",g="",b=a.UA.ie,i=b<7,h=a.Widget.getClassName("tmp","forcesize"),j=a.Widget.getClassName("content","expanded");a.Widget.prototype._uiSizeCB=function(l){var n=this.get(d),k=this.get(f),m=this._bbs;if(m===undefined){this._bbs=m=!(b<8&&n.get("ownerDocument").get("compatMode")!="BackCompat");}if(m){k.toggleClass(j,l);}else{if(l){if(i){n.addClass(h);}k.set(e,n.get(e));if(i){n.removeClass(h);}}else{k.setStyle(c,g);}}};},"3.3.0",{requires:["widget-base"]});YUI.add("dd-ddm-base",function(B){var A=function(){A.superclass.constructor.apply(this,arguments);};A.NAME="ddm";A.ATTRS={dragCursor:{value:"move"},clickPixelThresh:{value:3},clickTimeThresh:{value:1000},throttleTime:{value:-1},dragMode:{value:"point",setter:function(C){this._setDragMode(C);return C;}}};B.extend(A,B.Base,{_createPG:function(){},_active:null,_setDragMode:function(C){if(C===null){C=B.DD.DDM.get("dragMode");}switch(C){case 1:case"intersect":return 1;case 2:case"strict":return 2;case 0:case"point":return 0;}return 0;},CSS_PREFIX:B.ClassNameManager.getClassName("dd"),_activateTargets:function(){},_drags:[],activeDrag:false,_regDrag:function(C){if(this.getDrag(C.get("node"))){return false;}if(!this._active){this._setupListeners();}this._drags.push(C);return true;},_unregDrag:function(D){var C=[];B.each(this._drags,function(F,E){if(F!==D){C[C.length]=F;}});this._drags=C;},_setupListeners:function(){this._createPG();
this._active=true;var C=B.one(B.config.doc);C.on("mousemove",B.throttle(B.bind(this._move,this),this.get("throttleTime")));C.on("mouseup",B.bind(this._end,this));},_start:function(){this.fire("ddm:start");this._startDrag();},_startDrag:function(){},_endDrag:function(){},_dropMove:function(){},_end:function(){if(this.activeDrag){this._endDrag();this.fire("ddm:end");this.activeDrag.end.call(this.activeDrag);this.activeDrag=null;}},stopDrag:function(){if(this.activeDrag){this._end();}return this;},_move:function(C){if(this.activeDrag){this.activeDrag._move.call(this.activeDrag,C);this._dropMove();}},cssSizestoObject:function(D){var C=D.split(" ");switch(C.length){case 1:C[1]=C[2]=C[3]=C[0];break;case 2:C[2]=C[0];C[3]=C[1];break;case 3:C[3]=C[1];break;}return{top:parseInt(C[0],10),right:parseInt(C[1],10),bottom:parseInt(C[2],10),left:parseInt(C[3],10)};},getDrag:function(D){var C=false,E=B.one(D);if(E instanceof B.Node){B.each(this._drags,function(G,F){if(E.compareTo(G.get("node"))){C=G;}});}return C;},swapPosition:function(D,C){D=B.DD.DDM.getNode(D);C=B.DD.DDM.getNode(C);var F=D.getXY(),E=C.getXY();D.setXY(E);C.setXY(F);return D;},getNode:function(C){if(C&&C.get){if(B.Widget&&(C instanceof B.Widget)){C=C.get("boundingBox");}else{C=C.get("node");}}else{C=B.one(C);}return C;},swapNode:function(E,C){E=B.DD.DDM.getNode(E);C=B.DD.DDM.getNode(C);var F=C.get("parentNode"),D=C.get("nextSibling");if(D==E){F.insertBefore(E,C);}else{if(C==E.get("nextSibling")){F.insertBefore(C,E);}else{E.get("parentNode").replaceChild(C,E);F.insertBefore(E,D);}}return E;}});B.namespace("DD");B.DD.DDM=new A();},"3.3.0",{requires:["node","base","yui-throttle","classnamemanager"],skinnable:false});YUI.add("dd-drag",function(D){var E=D.DD.DDM,R="node",G="dragging",M="dragNode",C="offsetHeight",K="offsetWidth",H="drag:mouseDown",B="drag:afterMouseDown",F="drag:removeHandle",L="drag:addHandle",P="drag:removeInvalid",Q="drag:addInvalid",J="drag:start",I="drag:end",N="drag:drag",O="drag:align",A=function(T){this._lazyAddAttrs=false;A.superclass.constructor.apply(this,arguments);var S=E._regDrag(this);if(!S){D.error("Failed to register node, already in use: "+T.node);}};A.NAME="drag";A.START_EVENT="mousedown";A.ATTRS={node:{setter:function(S){var T=D.one(S);if(!T){D.error("DD.Drag: Invalid Node Given: "+S);}return T;}},dragNode:{setter:function(S){var T=D.one(S);if(!T){D.error("DD.Drag: Invalid dragNode Given: "+S);}return T;}},offsetNode:{value:true},startCentered:{value:false},clickPixelThresh:{value:E.get("clickPixelThresh")},clickTimeThresh:{value:E.get("clickTimeThresh")},lock:{value:false,setter:function(S){if(S){this.get(R).addClass(E.CSS_PREFIX+"-locked");}else{this.get(R).removeClass(E.CSS_PREFIX+"-locked");}return S;}},data:{value:false},move:{value:true},useShim:{value:true},activeHandle:{value:false},primaryButtonOnly:{value:true},dragging:{value:false},parent:{value:false},target:{value:false,setter:function(S){this._handleTarget(S);return S;}},dragMode:{value:null,setter:function(S){return E._setDragMode(S);}},groups:{value:["default"],getter:function(){if(!this._groups){this._groups={};}var S=[];D.each(this._groups,function(U,T){S[S.length]=T;});return S;},setter:function(S){this._groups={};D.each(S,function(U,T){this._groups[U]=true;},this);return S;}},handles:{value:null,setter:function(S){if(S){this._handles={};D.each(S,function(U,T){var V=U;if(U instanceof D.Node||U instanceof D.NodeList){V=U._yuid;}this._handles[V]=U;},this);}else{this._handles=null;}return S;}},bubbles:{setter:function(S){this.addTarget(S);return S;}},haltDown:{value:true}};D.extend(A,D.Base,{_bubbleTargets:D.DD.DDM,addToGroup:function(S){this._groups[S]=true;E._activateTargets();return this;},removeFromGroup:function(S){delete this._groups[S];E._activateTargets();return this;},target:null,_handleTarget:function(S){if(D.DD.Drop){if(S===false){if(this.target){E._unregTarget(this.target);this.target=null;}return false;}else{if(!D.Lang.isObject(S)){S={};}S.bubbleTargets=("bubbleTargets" in S)?S.bubbleTargets:D.Object.values(this._yuievt.targets);S.node=this.get(R);S.groups=S.groups||this.get("groups");this.target=new D.DD.Drop(S);}}else{return false;}},_groups:null,_createEvents:function(){this.publish(H,{defaultFn:this._defMouseDownFn,queuable:false,emitFacade:true,bubbles:true,prefix:"drag"});this.publish(O,{defaultFn:this._defAlignFn,queuable:false,emitFacade:true,bubbles:true,prefix:"drag"});this.publish(N,{defaultFn:this._defDragFn,queuable:false,emitFacade:true,bubbles:true,prefix:"drag"});this.publish(I,{defaultFn:this._defEndFn,preventedFn:this._prevEndFn,queuable:false,emitFacade:true,bubbles:true,prefix:"drag"});var S=[B,F,L,P,Q,J,"drag:drophit","drag:dropmiss","drag:over","drag:enter","drag:exit"];D.each(S,function(U,T){this.publish(U,{type:U,emitFacade:true,bubbles:true,preventable:false,queuable:false,prefix:"drag"});},this);},_ev_md:null,_startTime:null,_endTime:null,_handles:null,_invalids:null,_invalidsDefault:{"textarea":true,"input":true,"a":true,"button":true,"select":true},_dragThreshMet:null,_fromTimeout:null,_clickTimeout:null,deltaXY:null,startXY:null,nodeXY:null,lastXY:null,actXY:null,realXY:null,mouseXY:null,region:null,_handleMouseUp:function(S){this.fire("drag:mouseup");this._fixIEMouseUp();if(E.activeDrag){E._end();}},_fixDragStart:function(S){S.preventDefault();},_ieSelectFix:function(){return false;},_ieSelectBack:null,_fixIEMouseDown:function(S){if(D.UA.ie){this._ieSelectBack=D.config.doc.body.onselectstart;D.config.doc.body.onselectstart=this._ieSelectFix;}},_fixIEMouseUp:function(){if(D.UA.ie){D.config.doc.body.onselectstart=this._ieSelectBack;}},_handleMouseDownEvent:function(S){this.fire(H,{ev:S});},_defMouseDownFn:function(T){var S=T.ev;this._dragThreshMet=false;this._ev_md=S;if(this.get("primaryButtonOnly")&&S.button>1){return false;}if(this.validClick(S)){this._fixIEMouseDown(S);if(this.get("haltDown")){S.halt();}else{S.preventDefault();}this._setStartPosition([S.pageX,S.pageY]);E.activeDrag=this;this._clickTimeout=D.later(this.get("clickTimeThresh"),this,this._timeoutCheck);
}this.fire(B,{ev:S});},validClick:function(W){var V=false,Z=false,S=W.target,U=null,T=null,X=null,Y=false;if(this._handles){D.each(this._handles,function(a,b){if(a instanceof D.Node||a instanceof D.NodeList){if(!V){X=a;if(X instanceof D.Node){X=new D.NodeList(a._node);}X.each(function(c){if(c.contains(S)){V=true;}});}}else{if(D.Lang.isString(b)){if(S.test(b+", "+b+" *")&&!U){U=b;V=true;}}}});}else{Z=this.get(R);if(Z.contains(S)||Z.compareTo(S)){V=true;}}if(V){if(this._invalids){D.each(this._invalids,function(a,b){if(D.Lang.isString(b)){if(S.test(b+", "+b+" *")){V=false;}}});}}if(V){if(U){T=W.currentTarget.all(U);Y=false;T.each(function(b,a){if((b.contains(S)||b.compareTo(S))&&!Y){Y=true;this.set("activeHandle",b);}},this);}else{this.set("activeHandle",this.get(R));}}return V;},_setStartPosition:function(S){this.startXY=S;this.nodeXY=this.lastXY=this.realXY=this.get(R).getXY();if(this.get("offsetNode")){this.deltaXY=[(this.startXY[0]-this.nodeXY[0]),(this.startXY[1]-this.nodeXY[1])];}else{this.deltaXY=[0,0];}},_timeoutCheck:function(){if(!this.get("lock")&&!this._dragThreshMet&&this._ev_md){this._fromTimeout=this._dragThreshMet=true;this.start();this._alignNode([this._ev_md.pageX,this._ev_md.pageY],true);}},removeHandle:function(T){var S=T;if(T instanceof D.Node||T instanceof D.NodeList){S=T._yuid;}if(this._handles[S]){delete this._handles[S];this.fire(F,{handle:T});}return this;},addHandle:function(T){if(!this._handles){this._handles={};}var S=T;if(T instanceof D.Node||T instanceof D.NodeList){S=T._yuid;}this._handles[S]=T;this.fire(L,{handle:T});return this;},removeInvalid:function(S){if(this._invalids[S]){this._invalids[S]=null;delete this._invalids[S];this.fire(P,{handle:S});}return this;},addInvalid:function(S){if(D.Lang.isString(S)){this._invalids[S]=true;this.fire(Q,{handle:S});}return this;},initializer:function(S){this.get(R).dd=this;if(!this.get(R).get("id")){var T=D.stamp(this.get(R));this.get(R).set("id",T);}this.actXY=[];this._invalids=D.clone(this._invalidsDefault,true);this._createEvents();if(!this.get(M)){this.set(M,this.get(R));}this.on("initializedChange",D.bind(this._prep,this));this.set("groups",this.get("groups"));},_prep:function(){this._dragThreshMet=false;var S=this.get(R);S.addClass(E.CSS_PREFIX+"-draggable");S.on(A.START_EVENT,D.bind(this._handleMouseDownEvent,this));S.on("mouseup",D.bind(this._handleMouseUp,this));S.on("dragstart",D.bind(this._fixDragStart,this));},_unprep:function(){var S=this.get(R);S.removeClass(E.CSS_PREFIX+"-draggable");S.detachAll();},start:function(){if(!this.get("lock")&&!this.get(G)){var T=this.get(R),S,U,V;this._startTime=(new Date()).getTime();E._start();T.addClass(E.CSS_PREFIX+"-dragging");this.fire(J,{pageX:this.nodeXY[0],pageY:this.nodeXY[1],startTime:this._startTime});T=this.get(M);V=this.nodeXY;S=T.get(K);U=T.get(C);if(this.get("startCentered")){this._setStartPosition([V[0]+(S/2),V[1]+(U/2)]);}this.region={"0":V[0],"1":V[1],area:0,top:V[1],right:V[0]+S,bottom:V[1]+U,left:V[0]};this.set(G,true);}return this;},end:function(){this._endTime=(new Date()).getTime();if(this._clickTimeout){this._clickTimeout.cancel();}this._dragThreshMet=this._fromTimeout=false;if(!this.get("lock")&&this.get(G)){this.fire(I,{pageX:this.lastXY[0],pageY:this.lastXY[1],startTime:this._startTime,endTime:this._endTime});}this.get(R).removeClass(E.CSS_PREFIX+"-dragging");this.set(G,false);this.deltaXY=[0,0];return this;},_defEndFn:function(S){this._fixIEMouseUp();this._ev_md=null;},_prevEndFn:function(S){this._fixIEMouseUp();this.get(M).setXY(this.nodeXY);this._ev_md=null;this.region=null;},_align:function(S){this.fire(O,{pageX:S[0],pageY:S[1]});},_defAlignFn:function(S){this.actXY=[S.pageX-this.deltaXY[0],S.pageY-this.deltaXY[1]];},_alignNode:function(S){this._align(S);this._moveNode();},_moveNode:function(S){var T=[],U=[],W=this.nodeXY,V=this.actXY;T[0]=(V[0]-this.lastXY[0]);T[1]=(V[1]-this.lastXY[1]);U[0]=(V[0]-this.nodeXY[0]);U[1]=(V[1]-this.nodeXY[1]);this.region={"0":V[0],"1":V[1],area:0,top:V[1],right:V[0]+this.get(M).get(K),bottom:V[1]+this.get(M).get(C),left:V[0]};this.fire(N,{pageX:V[0],pageY:V[1],scroll:S,info:{start:W,xy:V,delta:T,offset:U}});this.lastXY=V;},_defDragFn:function(S){if(this.get("move")){if(S.scroll){S.scroll.node.set("scrollTop",S.scroll.top);S.scroll.node.set("scrollLeft",S.scroll.left);}this.get(M).setXY([S.pageX,S.pageY]);this.realXY=[S.pageX,S.pageY];}},_move:function(U){if(this.get("lock")){return false;}else{this.mouseXY=[U.pageX,U.pageY];if(!this._dragThreshMet){var T=Math.abs(this.startXY[0]-U.pageX),S=Math.abs(this.startXY[1]-U.pageY);if(T>this.get("clickPixelThresh")||S>this.get("clickPixelThresh")){this._dragThreshMet=true;this.start();this._alignNode([U.pageX,U.pageY]);}}else{if(this._clickTimeout){this._clickTimeout.cancel();}this._alignNode([U.pageX,U.pageY]);}}},stopDrag:function(){if(this.get(G)){E._end();}return this;},destructor:function(){this._unprep();this.detachAll();if(this.target){this.target.destroy();}E._unregDrag(this);}});D.namespace("DD");D.DD.Drag=A;},"3.3.0",{requires:["dd-ddm-base"],skinnable:false});YUI.add("dd-constrain",function(B){var M="dragNode",O="offsetHeight",F="offsetWidth",R="host",G="tickXArray",P="tickYArray",Q=B.DD.DDM,E="top",K="right",N="bottom",D="left",L="view",I=null,J="drag:tickAlignX",H="drag:tickAlignY",A=function(C){this._lazyAddAttrs=false;A.superclass.constructor.apply(this,arguments);};A.NAME="ddConstrained";A.NS="con";A.ATTRS={host:{},stickX:{value:false},stickY:{value:false},tickX:{value:false},tickY:{value:false},tickXArray:{value:false},tickYArray:{value:false},gutter:{value:"0",setter:function(C){return B.DD.DDM.cssSizestoObject(C);}},constrain:{value:L,setter:function(C){var S=B.one(C);if(S){C=S;}return C;}},constrain2region:{setter:function(C){return this.set("constrain",C);}},constrain2node:{setter:function(C){return this.set("constrain",B.one(C));}},constrain2view:{setter:function(C){return this.set("constrain",L);}},cacheRegion:{value:true}};I={_lastTickXFired:null,_lastTickYFired:null,initializer:function(){this._createEvents();
this.get(R).on("drag:end",B.bind(this._handleEnd,this));this.get(R).on("drag:start",B.bind(this._handleStart,this));this.get(R).after("drag:align",B.bind(this.align,this));this.get(R).after("drag:drag",B.bind(this.drag,this));},_createEvents:function(){var C=this;var S=[J,H];B.each(S,function(U,T){this.publish(U,{type:U,emitFacade:true,bubbles:true,queuable:false,prefix:"drag"});},this);},_handleEnd:function(){this._lastTickYFired=null;this._lastTickXFired=null;},_handleStart:function(){this.resetCache();},_regionCache:null,_cacheRegion:function(){this._regionCache=this.get("constrain").get("region");},resetCache:function(){this._regionCache=null;},_getConstraint:function(){var C=this.get("constrain"),S=this.get("gutter"),T;if(C){if(C instanceof B.Node){if(!this._regionCache){B.on("resize",B.bind(this._cacheRegion,this),B.config.win);this._cacheRegion();}T=B.clone(this._regionCache);if(!this.get("cacheRegion")){this.resetCache();}}else{if(B.Lang.isObject(C)){T=B.clone(C);}}}if(!C||!T){C=L;}if(C===L){T=this.get(R).get(M).get("viewportRegion");}B.each(S,function(U,V){if((V==K)||(V==N)){T[V]-=U;}else{T[V]+=U;}});return T;},getRegion:function(V){var T={},U=null,C=null,S=this.get(R);T=this._getConstraint();if(V){U=S.get(M).get(O);C=S.get(M).get(F);T[K]=T[K]-C;T[N]=T[N]-U;}return T;},_checkRegion:function(C){var T=C,V=this.getRegion(),U=this.get(R),W=U.get(M).get(O),S=U.get(M).get(F);if(T[1]>(V[N]-W)){C[1]=(V[N]-W);}if(V[E]>T[1]){C[1]=V[E];}if(T[0]>(V[K]-S)){C[0]=(V[K]-S);}if(V[D]>T[0]){C[0]=V[D];}return C;},inRegion:function(T){T=T||this.get(R).get(M).getXY();var S=this._checkRegion([T[0],T[1]]),C=false;if((T[0]===S[0])&&(T[1]===S[1])){C=true;}return C;},align:function(){var T=this.get(R),C=[T.actXY[0],T.actXY[1]],S=this.getRegion(true);if(this.get("stickX")){C[1]=(T.startXY[1]-T.deltaXY[1]);}if(this.get("stickY")){C[0]=(T.startXY[0]-T.deltaXY[0]);}if(S){C=this._checkRegion(C);}C=this._checkTicks(C,S);T.actXY=C;},drag:function(V){var U=this.get(R),S=this.get("tickX"),T=this.get("tickY"),C=[U.actXY[0],U.actXY[1]];if((B.Lang.isNumber(S)||this.get(G))&&(this._lastTickXFired!==C[0])){this._tickAlignX();this._lastTickXFired=C[0];}if((B.Lang.isNumber(T)||this.get(P))&&(this._lastTickYFired!==C[1])){this._tickAlignY();this._lastTickYFired=C[1];}},_checkTicks:function(X,V){var U=this.get(R),W=(U.startXY[0]-U.deltaXY[0]),T=(U.startXY[1]-U.deltaXY[1]),C=this.get("tickX"),S=this.get("tickY");if(C&&!this.get(G)){X[0]=Q._calcTicks(X[0],W,C,V[D],V[K]);}if(S&&!this.get(P)){X[1]=Q._calcTicks(X[1],T,S,V[E],V[N]);}if(this.get(G)){X[0]=Q._calcTickArray(X[0],this.get(G),V[D],V[K]);}if(this.get(P)){X[1]=Q._calcTickArray(X[1],this.get(P),V[E],V[N]);}return X;},_tickAlignX:function(){this.fire(J);},_tickAlignY:function(){this.fire(H);}};B.namespace("Plugin");B.extend(A,B.Base,I);B.Plugin.DDConstrained=A;B.mix(Q,{_calcTicks:function(Y,X,U,W,V){var S=((Y-X)/U),T=Math.floor(S),C=Math.ceil(S);if((T!==0)||(C!==0)){if((S>=T)&&(S<=C)){Y=(X+(U*T));if(W&&V){if(Y<W){Y=(X+(U*(T+1)));}if(Y>V){Y=(X+(U*(T-1)));}}}}return Y;},_calcTickArray:function(Z,a,Y,V){var S=0,W=a.length,U=0,T,C,X;if(!a||(a.length===0)){return Z;}else{if(a[0]>=Z){return a[0];}else{for(S=0;S<W;S++){U=(S+1);if(a[U]&&a[U]>=Z){T=Z-a[S];C=a[U]-Z;X=(C>T)?a[S]:a[U];if(Y&&V){if(X>V){if(a[S]){X=a[S];}else{X=a[W-1];}}}return X;}}return a[a.length-1];}}}});},"3.3.0",{requires:["dd-drag"],skinnable:false});YUI.add("slider-base",function(c){var b=c.Attribute.INVALID_VALUE;function a(){a.superclass.constructor.apply(this,arguments);}c.SliderBase=c.extend(a,c.Widget,{initializer:function(){this.axis=this.get("axis");this._key={dim:(this.axis==="y")?"height":"width",minEdge:(this.axis==="y")?"top":"left",maxEdge:(this.axis==="y")?"bottom":"right",xyIndex:(this.axis==="y")?1:0};this.publish("thumbMove",{defaultFn:this._defThumbMoveFn,queuable:true});},renderUI:function(){var d=this.get("contentBox");this.rail=this.renderRail();this._uiSetRailLength(this.get("length"));this.thumb=this.renderThumb();this.rail.appendChild(this.thumb);d.appendChild(this.rail);d.addClass(this.getClassName(this.axis));},renderRail:function(){var e=this.getClassName("rail","cap",this._key.minEdge),d=this.getClassName("rail","cap",this._key.maxEdge);return c.Node.create(c.substitute(this.RAIL_TEMPLATE,{railClass:this.getClassName("rail"),railMinCapClass:e,railMaxCapClass:d}));},_uiSetRailLength:function(d){this.rail.setStyle(this._key.dim,d);},renderThumb:function(){this._initThumbUrl();var d=this.get("thumbUrl");return c.Node.create(c.substitute(this.THUMB_TEMPLATE,{thumbClass:this.getClassName("thumb"),thumbShadowClass:this.getClassName("thumb","shadow"),thumbImageClass:this.getClassName("thumb","image"),thumbShadowUrl:d,thumbImageUrl:d}));},bindUI:function(){this._bindThumbDD();this._bindValueLogic();this.after("disabledChange",this._afterDisabledChange);this.after("lengthChange",this._afterLengthChange);},_bindThumbDD:function(){var d={constrain:this.rail};d["stick"+this.axis.toUpperCase()]=true;this._dd=new c.DD.Drag({node:this.thumb,bubble:false,on:{"drag:start":c.bind(this._onDragStart,this)},after:{"drag:drag":c.bind(this._afterDrag,this),"drag:end":c.bind(this._afterDragEnd,this)}});this._dd.plug(c.Plugin.DDConstrained,d);},_bindValueLogic:function(){},_uiMoveThumb:function(d){if(this.thumb){this.thumb.setStyle(this._key.minEdge,d+"px");this.fire("thumbMove",{offset:d});}},_onDragStart:function(d){this.fire("slideStart",{ddEvent:d});},_afterDrag:function(f){var g=f.info.xy[this._key.xyIndex],d=f.target.con._regionCache[this._key.minEdge];this.fire("thumbMove",{offset:(g-d),ddEvent:f});},_afterDragEnd:function(d){this.fire("slideEnd",{ddEvent:d});},_afterDisabledChange:function(d){this._dd.set("lock",d.newVal);},_afterLengthChange:function(d){if(this.get("rendered")){this._uiSetRailLength(d.newVal);this.syncUI();}},syncUI:function(){this._dd.con.resetCache();this._syncThumbPosition();},_syncThumbPosition:function(){},_setAxis:function(d){d=(d+"").toLowerCase();return(d==="x"||d==="y")?d:b;},_setLength:function(e){e=(e+"").toLowerCase();
var f=parseFloat(e,10),d=e.replace(/[\d\.\-]/g,"")||this.DEF_UNIT;return f>0?(f+d):b;},_initThumbUrl:function(){if(!this.get("thumbUrl")){var e=this.getSkinName()||"sam",d=c.config.base;if(d.indexOf("http://yui.yahooapis.com/combo")===0){d="http://yui.yahooapis.com/"+c.version+"/build/";}this.set("thumbUrl",d+"slider/assets/skins/"+e+"/thumb-"+this.axis+".png");}},BOUNDING_TEMPLATE:"<span></span>",CONTENT_TEMPLATE:"<span></span>",RAIL_TEMPLATE:'<span class="{railClass}">'+'<span class="{railMinCapClass}"></span>'+'<span class="{railMaxCapClass}"></span>'+"</span>",THUMB_TEMPLATE:'<span class="{thumbClass}" tabindex="-1">'+'<img src="{thumbShadowUrl}" '+'alt="Slider thumb shadow" '+'class="{thumbShadowClass}">'+'<img src="{thumbImageUrl}" '+'alt="Slider thumb" '+'class="{thumbImageClass}">'+"</span>"},{NAME:"sliderBase",ATTRS:{axis:{value:"x",writeOnce:true,setter:"_setAxis",lazyAdd:false},length:{value:"150px",setter:"_setLength"},thumbUrl:{value:null,validator:c.Lang.isString}}});},"3.3.0",{requires:["widget","substitute","dd-constrain"]});YUI.add("slider-value-range",function(f){var b="min",e="max",d="value",c=Math.round;function a(){this._initSliderValueRange();}f.SliderValueRange=f.mix(a,{prototype:{_factor:1,_initSliderValueRange:function(){},_bindValueLogic:function(){this.after({minChange:this._afterMinChange,maxChange:this._afterMaxChange,valueChange:this._afterValueChange});},_syncThumbPosition:function(){this._calculateFactor();this._setPosition(this.get(d));},_calculateFactor:function(){var j=this.get("length"),h=this.thumb.getStyle(this._key.dim),i=this.get(b),g=this.get(e);j=parseFloat(j,10)||150;h=parseFloat(h,10)||15;this._factor=(g-i)/(j-h);},_defThumbMoveFn:function(i){var g=this.get(d),h=this._offsetToValue(i.offset);if(g!==h){this.set(d,h,{positioned:true});}},_offsetToValue:function(h){var g=c(h*this._factor)+this.get(b);return c(this._nearestValue(g));},_valueToOffset:function(g){var h=c((g-this.get(b))/this._factor);return h;},getValue:function(){return this.get(d);},setValue:function(g){return this.set(d,g);},_afterMinChange:function(g){this._verifyValue();this._syncThumbPosition();},_afterMaxChange:function(g){this._verifyValue();this._syncThumbPosition();},_verifyValue:function(){var h=this.get(d),g=this._nearestValue(h);if(h!==g){this.set(d,g);}},_afterValueChange:function(g){if(!g.positioned){this._setPosition(g.newVal);}},_setPosition:function(g){this._uiMoveThumb(this._valueToOffset(g));},_validateNewMin:function(g){return f.Lang.isNumber(g);},_validateNewMax:function(g){return f.Lang.isNumber(g);},_setNewValue:function(g){return c(this._nearestValue(g));},_nearestValue:function(j){var i=this.get(b),g=this.get(e),h;h=(g>i)?g:i;i=(g>i)?i:g;g=h;return(j<i)?i:(j>g)?g:j;}},ATTRS:{min:{value:0,validator:"_validateNewMin"},max:{value:100,validator:"_validateNewMax"},value:{value:0,setter:"_setNewValue"}}},true);},"3.3.0",{requires:["slider-base"]});YUI.add("clickable-rail",function(b){function a(){this._initClickableRail();}b.ClickableRail=b.mix(a,{prototype:{_initClickableRail:function(){this._evtGuid=this._evtGuid||(b.guid()+"|");this.publish("railMouseDown",{defaultFn:this._defRailMouseDownFn});this.after("render",this._bindClickableRail);this.on("destroy",this._unbindClickableRail);},_bindClickableRail:function(){this._dd.addHandle(this.rail);this.rail.on(this._evtGuid+b.DD.Drag.START_EVENT,b.bind(this._onRailMouseDown,this));},_unbindClickableRail:function(){if(this.get("rendered")){var c=this.get("contentBox"),d=c.one("."+this.getClassName("rail"));d.detach(this.evtGuid+"*");}},_onRailMouseDown:function(c){if(this.get("clickableRail")&&!this.get("disabled")){this.fire("railMouseDown",{ev:c});}},_defRailMouseDownFn:function(k){k=k.ev;var c=this._resolveThumb(k),g=this._key.xyIndex,h=parseFloat(this.get("length"),10),f,d,j;if(c){f=c.get("dragNode");d=parseFloat(f.getStyle(this._key.dim),10);j=this._getThumbDestination(k,f);j=j[g]-this.rail.getXY()[g];j=Math.min(Math.max(j,0),(h-d));this._uiMoveThumb(j);k.target=this.thumb.one("img")||this.thumb;c._handleMouseDownEvent(k);}},_resolveThumb:function(c){return this._dd;},_getThumbDestination:function(g,f){var d=f.get("offsetWidth"),c=f.get("offsetHeight");return[(g.pageX-Math.round((d/2))),(g.pageY-Math.round((c/2)))];}},ATTRS:{clickableRail:{value:true,validator:b.Lang.isBoolean}}},true);},"3.3.0",{requires:["slider-base"]});YUI.add("range-slider",function(a){a.Slider=a.Base.build("slider",a.SliderBase,[a.SliderValueRange,a.ClickableRail]);},"3.3.0",{requires:["slider-base","clickable-rail","slider-value-range"]});YUI.add("slider",function(a){},"3.3.0",{use:["slider-base","slider-value-range","clickable-rail","range-slider"]});YUI.add("gallery-ellipsis",function(h){var d=0.01,g=function(j,i){return Math.abs(j-i)<=d;},b=function(j,i){return j-i>=d;},f=function(j,i){return j-i<=d;},c=false,a={"white-space":"nowrap","overflow":"hidden"},e=false;h.DOM.ellipsis=function(k,q){q=q||{};h.mix(q,{"ellipsis":"\u2026","fudge":3,"lines":1,"remember":true,"native":true});var p=h.one(k),i="ellipsis-original-text",m=q.remember&&p.getData(i)||p.get("text"),n=m.length,l=n,s=h.one(document.createElement(p.get("nodeName"))),t,o,j,r;s.setStyles({"overflow":"hidden","position":"absolute","visibility":"hidden","display":"block","bottom":"-10px","left":"-10px","width":e?k.offsetWidth:p.getComputedStyle("width"),"fontSize":e?k.currentStyle.fontSize:p.getComputedStyle("fontSize"),"fontFamily":p.getComputedStyle("fontFamily"),"fontWeight":p.getComputedStyle("fontWeight"),"letterSpacing":p.getComputedStyle("letterSpacing"),"lineHeight":p.getComputedStyle("lineHeight")});s.set("text","some sample text");h.one("body").append(s);t=parseFloat(s.getComputedStyle("height"));if(h.DOM.ellipsis.nativeSupport&&q["native"]&&1==q.lines&&"\u2026"===q.ellipsis){p.setStyles(a);p.setStyle("height",t+"px");s.remove();return;}s.setStyle("overflow","visible");o=q.lines*t;s.set("text",m);j=parseFloat(s.getComputedStyle("height"));if(f(j,o)&&m.length===p.get("text").length){s.remove();
return;}for(;l>=1;){l=Math.floor(l/2);n+=b(j,o)?-l:+l;s.set("text",m.slice(0,n-q.ellipsis.length)+q.ellipsis);j=parseFloat(s.getComputedStyle("height"));if(g(j,o)||f(j,o)){r=n;}}s.remove();if(q.remember&&!p.getData(i)){p.setData(i,m);}if(m.length===(s.get("text").length-q.ellipsis.length)){p.set("text",m);}else{if("undefined"!==typeof r){p.set("text",m.slice(0,r-q.ellipsis.length-q.fudge)+q.ellipsis);}}return p;};h.Node.importMethod(h.DOM,"ellipsis");h.NodeList.importMethod(h.Node.prototype,"ellipsis");h.on("domready",function(){var i,j=h.Node.create('<div style="visibility:hidden;position:absolute;white-space:nowrap;overflow:hidden;"></div>'),k=["textOverflow","OTextOverflow"];e=!!(document.body.currentStyle&&(window.CSSCurrentStyleDeclaration||!window.CSSStyleDeclaration));h.each(k,function(l){j.setStyle(l,"ellipsis");});h.one("body").appendChild(j);i=j.cloneNode(true);h.some(k,function(l){if("ellipsis"===i.getStyle(l)){c=l;a[c]="ellipsis";h.DOM.ellipsis.nativeSupport=true;return true;}});j.remove();j=i=null;});},"gallery-2011.04.13-22-38",{requires:["base","node"]});YUI.add("cap-anywhere-core",function(Y){CapAnywhere=Y.namespace("CapAnywhere");var tIds={},loading=false,current=null,apiHost="analyze.yahooapis.com",finishedEventName="capanywhere:core_finished",partnerId,trackImpression=function(){var tracker=YWA.getTracker(partnerId);tracker.setDocumentName(document.title);tracker.submit();},countImpression=function(){if(typeof partnerId!="undefined"){YUI.CapAnywhere.partnerId=partnerId;if(typeof YWA=="undefined"){Y.Get.script("http://d.yimg.com/mi/ywa.js",{onSuccess:function(){trackImpression();},timeout:3000});}else{trackImpression();}}},onAnnotationSetSuccess=function(o){loading=false;},getAnnotationSetData=function(){if(loading){return;}loading=true;var webServiceUrl="http://"+apiHost+"/get/"+YUI.CapAnywhere.publisherId+"/CapAnywhere.getAnnotationCallback?url="+escape(location.href),transactionObj=Y.Get.script(webServiceUrl,{onSuccess:onAnnotationSetSuccess,timeout:3000,context:Y});current=transactionObj.tId;},addUrlToQueue=function(){var webServiceUrl="http://"+apiHost+"/add/"+YUI.CapAnywhere.publisherId+"/CapAnywhere.getAnnotationCallback?url="+escape(location.href),transactionObj=Y.Get.script(webServiceUrl,{timeout:3000,context:Y});};CapAnywhere.init=function(){getAnnotationSetData();};CapAnywhere.getAnnotationCallback=function(results){var eventTarget=new Y.EventTarget();eventTarget.name="cap-anywhere-core";eventTarget.publish(finishedEventName,{broadcast:2,emitFacade:true});tIds[current]=true;partnerId=results.partnerId;if(results.status==="OK"||results.status.code==200){if(typeof YAHOO==="undefined"){YAHOO={};}if(results.cap){var cap=results.cap;YAHOO.Shortcuts=YAHOO.Shortcuts||{};YAHOO.Shortcuts.hasSensitiveText=cap.hasSensitiveText;YAHOO.Shortcuts.version=cap.version;YAHOO.Shortcuts.annotationSetID=cap.annotationSetID;YAHOO.Shortcuts.annotationSet=cap.annotationSet;if(Y.UA.ie>0){var whiteSpaceRegEx=/[\s\r\n]/g;Y.each(YAHOO.Shortcuts.annotationSet,function(annObj){var text=annObj.originalText||annObj.text,context=annObj.originalContext||annObj.context;annObj.ieText=text.replace(whiteSpaceRegEx,"");annObj.ieContext=context.replace(whiteSpaceRegEx,"");});}if(results.includeSelectors){YAHOO.Shortcuts.includeSelectors=results.includeSelectors+",";}else{YAHOO.Shortcuts.includeSelectors="";}YAHOO.Shortcuts.includeSelectors+=".yahoo-analyze-include";if(results.excludeSelectors){YAHOO.Shortcuts.excludeSelectors=results.excludeSelectors+",";}else{YAHOO.Shortcuts.excludeSelectors="";}YAHOO.Shortcuts.excludeSelectors+=".yahoo-analyze-exclude";var annotationSet=YAHOO.Shortcuts.annotationSet,contents=Y.all(YAHOO.Shortcuts.includeSelectors).get("innerHTML"),sumWeightOfFound=0,sumWeightOfNotFound=0,id;Y.each(annotationSet,function(annObj){var entity=annObj.originalText||annObj.text;Y.each(contents,function(content){if(content.indexOf(entity)>=0){sumWeightOfFound+=annObj.weight;}else{sumWeightOfNotFound+=annObj.weight;}});});if(sumWeightOfFound>0&&sumWeightOfNotFound>0&&sumWeightOfFound/sumWeightOfNotFound<2){addUrlToQueue();}var ids=[];if(typeof results.csIds!=="undefined"){if(results.csIds==="*"){Y.each(cap.annotationSet,function(annObj,id){ids.push(id);});YAHOO.Shortcuts.csIds=ids;}else{YAHOO.Shortcuts.csIds=results.csIds;}}else{YAHOO.Shortcuts.csIds=[];}if(typeof results.ibIds!=="undefined"){if(results.ibIds==="*"){if(ids.length==0){Y.each(cap.annotationSet,function(annObj,id){ids.push(id);});}YAHOO.Shortcuts.ibIds=ids;}else{YAHOO.Shortcuts.ibIds=results.ibIds;}}else{YAHOO.Shortcuts.ibIds=[];}if(typeof results.ptwIds!=="undefined"){if(results.ptwIds==="*"){if(ids.length==0){Y.each(cap.annotationSet,function(annObj,id){ids.push(id);});}YAHOO.Shortcuts.ptwIds=ids;}else{YAHOO.Shortcuts.ptwIds=results.ptwIds;}}else{YAHOO.Shortcuts.ptwIds=[];}YAHOO.Shortcuts.hasHeadlineDetect=results.hasHeadlineDetect||0;YAHOO.Shortcuts.hasLinkDetect=results.hasLinkDetect||0;}if(results.ib){YAHOO.Ib=results.ib;}eventTarget.fire(finishedEventName,YAHOO);}};CapAnywhere.addUrlCallback=function(results){};},"0.1.0",{requires:["event","event-custom","node","json"]});YUI.add("cap-anywhere-inline",function(Y){Y.CapAnywhere.inline=function(shortcutsData){var inlineTagName="span",finishedEventName="capanywhere:inline_finished";if(!shortcutsData){return;}var idClasses={},count=0;Y.each(shortcutsData.csIds,function(id){idClasses[id]="yshortcuts";count++;});Y.each(shortcutsData.ptwIds,function(id){if(idClasses[id]){idClasses[id]+=" yptw";}else{idClasses[id]="yptw";count++;}});var includeNodes=Y.all(shortcutsData.includeSelectors||"body"),excludeNodes=Y.all(shortcutsData.excludeSelectors),hasHeadlineDetect=shortcutsData.hasHeadlineDetect||0,hasLinkDetect=shortcutsData.hasLinkDetect||0,excludeNodeArray=[];if(includeNodes.isEmpty()){includeNodes=Y.all("body");}if(excludeNodes.isEmpty()){excludeNodeArray=null;}else{Y.each(excludeNodes,function(excludeNode){excludeNodeArray.push(Y.Node.getDOMNode(excludeNode));});}function isNodeExcluded(node){if(node==null){return(true);
}while(node!=null){for(var i=0;i<excludeNodeArray.length;i++){if(node==excludeNodeArray[i]){return(true);}}node=node.parentNode;}return(false);}var whiteSpaceRegEx=/[\s\r\n]/g;function getTextNodes(node){var result=[],allText=[],ind=0,root=node;while(node!=null){if(excludeNodeArray==null||!isNodeExcluded(node)){var tagName=node.parentNode.tagName;if(node.nodeType==3&&tagName!="SCRIPT"&&tagName!="STYLE"&&(hasHeadlineDetect||(tagName!="H1"&&tagName!="H2"&&tagName!="H3"&&tagName!="H4"&&tagName!="H5"&&tagName!="H6"))&&(hasLinkDetect||tagName!="A")){var text=Y.UA.ie>0?node.nodeValue.replace(whiteSpaceRegEx,""):node.nodeValue,textLength=text.length;if(textLength>0){var start=ind,end=start+textLength-1;result.push({"node":node,"text":text,"start":start,"end":end});allText.push(text);ind=end+1;}}}if(node.hasChildNodes()){node=node.firstChild;}else{while(node!=null&&node.nextSibling==null&&node!=root){node=node.parentNode;}if(node!=null){node=node.nextSibling;}}}return({"textNodes":result,"text":allText.join("")});}var trailingWhiteSpaceRegEx=/([\s\r\n])$/;function replaceNode(node,html){html=html.replace(trailingWhiteSpaceRegEx,"$1<span></span>");var newNode=Y.Node.getDOMNode(Y.Node.create(html));node.parentNode.replaceChild(newNode,node);}function entitiesSortFunc(a,b){if(a.entityIndex<b.entityIndex){return(1);}if(a.entityIndex>b.entityIndex){return(-1);}return(0);}function markEntityIE(textNode,entitiesToMark){var node=textNode.node;if(node.parentNode.tagName==="PRE"){return;}var text=node.nodeValue,sortedEntitiesToMark=entitiesToMark.sort(entitiesSortFunc);for(var i=0;i<sortedEntitiesToMark.length;i++){var entityToMark=sortedEntitiesToMark[i],annObj=shortcutsData.annotationSet[entityToMark.id],originalText=annObj.originalText||annObj.text,newText;newText=text.replace(originalText,"<"+inlineTagName+' id="'+entityToMark.id+'" class="'+idClasses[entityToMark.id]+'">'+originalText+"</"+inlineTagName+">");if(newText!=text){text=newText;}}replaceNode(node,text);}function markEntityNonIE(textNode,entitiesToMark){var node=textNode.node,text=textNode.text;var sortedEntitiesToMark=entitiesToMark.sort(entitiesSortFunc),lastEntityStart=textNode.end+1;for(var i=0;i<sortedEntitiesToMark.length;i++){var entityToMark=sortedEntitiesToMark[i],entity=entityToMark.entity,entityStart=entityToMark.entityIndex-textNode.start,entityEndPlusOne=entityStart+entity.length;if(entityEndPlusOne>lastEntityStart){continue;}var textBeforeEntity=text.substr(0,entityStart),textAfterEntity=text.substr(entityEndPlusOne),entityMarking="<"+inlineTagName+' id="'+entityToMark.id+'" class="'+idClasses[entityToMark.id]+'">'+text.substr(entityStart,entity.length)+"</"+inlineTagName+">",lastEntityStart=entityStart;text=textBeforeEntity+entityMarking+textAfterEntity;}replaceNode(node,text);}function getNodeWithEntity(textNodes,entityIndex){for(var i=0;i<textNodes.length;i++){var node=textNodes[i];if(node.start<=entityIndex&&node.end>entityIndex){return(i);}}return(-1);}function markEntities(node){var nodesToMark={},result=getTextNodes(node),textNodes=result.textNodes,text=result.text;for(var id in idClasses){var annObj=shortcutsData.annotationSet[id],entity=annObj.ieText||annObj.originalText||annObj.text,context=annObj.ieContext||annObj.originalContext||annObj.context,contextIndex=text.indexOf(context);if(contextIndex<0){continue;}var entityOccurance=annObj.occurance||1,entityIndex;while(entityOccurance>=1){entityIndex=text.indexOf(entity,contextIndex);contextIndex=entityIndex+entity.length;entityOccurance--;}var nodeWithEntity=getNodeWithEntity(textNodes,entityIndex);if(nodeWithEntity>=0){nodesToMark[nodeWithEntity]=nodesToMark[nodeWithEntity]?nodesToMark[nodeWithEntity]:[];nodesToMark[nodeWithEntity].push({"entity":entity,"entityIndex":entityIndex,"id":id});}}if(Y.UA.ie>0){for(var i in nodesToMark){markEntityIE(textNodes[i],nodesToMark[i]);}}else{for(var i in nodesToMark){markEntityNonIE(textNodes[i],nodesToMark[i]);}}}includeNodes.each(function(node){markEntities(Y.Node.getDOMNode(node));});var eventTarget=new Y.EventTarget();eventTarget.name="cap-anywhere-inline";eventTarget.publish(finishedEventName,{broadcast:2,emitFacade:true});eventTarget.fire(finishedEventName,shortcutsData);};Y.Global.on("capanywhere:core_finished",function(yahoo){if(yahoo&&yahoo.Shortcuts){Y.CapAnywhere.inline(yahoo.Shortcuts);}});},"0.1.0",{requires:["cap-anywhere-core"]});YUI({classNamePrefix:"ywp",injected:true,ignore:["skin-sam-widget","skin-sam-slider"]}).use("dom","dom-style-ie","event","event-base-ie","event-custom","widget","widget-base-ie","json-parse","oop","selector-css3","slider","substitute","gallery-ellipsis","anim","node","cap-anywhere-inline",function(Y){YAHOO.mediaplayer.CSS={"yui":{"widget":".ywp-widget-hidden{display:none}.ywp-widget-content{overflow:hidden}.ywp-widget-content-expanded{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;-ms-box-sizing:border-box;box-sizing:border-box;height:100%}.ywp-widget-tmp-forcesize{overflow:hidden!important}","slider":".ywp-slider,.ywp-slider-rail{display:-moz-inline-stack;display:inline-block;*display:inline;zoom:1;vertical-align:middle}.ywp-slider-content{position:relative;display:block}.ywp-slider-rail{position:relative}.ywp-slider-rail-cap-top,.ywp-slider-rail-cap-left,.ywp-slider-rail-cap-bottom,.ywp-slider-rail-cap-right,.ywp-slider-thumb,.ywp-slider-thumb-image,.ywp-slider-thumb-shadow{position:absolute}.ywp-slider-thumb{overflow:hidden}.ywp-skin-sam .ywp-slider-x .ywp-slider-rail,.ywp-skin-sam .ywp-slider-x .ywp-slider-rail-cap-left,.ywp-skin-sam .ywp-slider-x .ywp-slider-rail-cap-right{background-image:url(rail-x.png);background-repeat:repeat-x}.ywp-skin-sam .ywp-slider-x .ywp-slider-rail{height:26px}.ywp-skin-sam .ywp-slider-x .ywp-slider-thumb{height:26px;width:15px}.ywp-skin-sam .ywp-slider-x .ywp-slider-rail-cap-left{background-position:0 -20px;height:20px;left:-2px;width:5px}.ywp-skin-sam .ywp-slider-x .ywp-slider-rail-cap-right{background-position:0 -40px;height:20px;right:-2px;width:5px}.ywp-skin-sam .ywp-slider-x .ywp-slider-thumb-image{left:0;top:-10px}.ywp-skin-sam .ywp-slider-x .ywp-slider-thumb-shadow{left:0;opacity:.15;filter:alpha(opacity=15);top:-50px}.ywp-skin-sam .ywp-slider-y .ywp-slider-rail,.ywp-skin-sam .ywp-slider-y .ywp-slider-rail-cap-top,.ywp-skin-sam .ywp-slider-y .ywp-slider-rail-cap-bottom{background-image:url(rail-y.png);background-repeat:repeat-y}.ywp-skin-sam .ywp-slider-y .ywp-slider-rail{width:26px}.ywp-skin-sam .ywp-slider-y .ywp-slider-thumb{width:26px;height:15px}.ywp-skin-sam .ywp-slider-y .ywp-slider-rail-cap-top{background-position:-20px 0;width:20px;top:-2px;height:5px}.ywp-skin-sam .ywp-slider-y .ywp-slider-rail-cap-bottom{background-position:-40px 0;width:20px;bottom:-2px;height:5px}.ywp-skin-sam .ywp-slider-y .ywp-slider-thumb-image{left:-10px;top:0}.ywp-skin-sam .ywp-slider-y .ywp-slider-thumb-shadow{left:-50px;opacity:.15;filter:alpha(opacity=15);top:0}"},"themes":{"black":".ywp-content-pane a,.ywp-content-pane a:link,.ywp-content-pane a:visited,.ywp-content-pane a:hover,.ywp-content-pane a:active,.ywp-meta a,.ywp-meta a:link,.ywp-meta a:visited,.ywp-meta a:hover,.ywp-meta a:active,.ywp-tray-content-pane a.ywp-tray-content-close .ywp-tray-content-close-text,.ywp-tray-content-pane a.ywp-tray-content-close:link .ywp-tray-content-close-text,.ywp-tr ay-content-pane a.ywp-tray-content-close:visited .ywp-tray-content-close-text,.ywp-tray-content-pane a.ywp-tray-content-close:hover .ywp-tray-content-close-text,.ywp- tray-content-pane a.ywp-tray-content-close:active .ywp-tray-content-close-text{color:#fff}.ywp-container a.ywp-hdr-logo{background-image:url("+YMPParams.assetsroot+"/img/branding-dark-theme.png);_background-image:url("+YMPParams.assetsroot+'/img/branding-dark-theme-8bit.png)}.ywp-player,.ywp-interstitial-mode .ywp-interstitial{background-color:#181818;background-image:-moz-linear-gradient(top,#313131,#000);background-image:-webkit-gradient(linear,left top,left bottom,from(#313131),to(#000));filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#ff313131,endColorstr=#ff000000);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#ff313131,endColorstr=#ff000000)"}.ywp-playlist .ywp-playlist-arrow,.ywp-playlist-count,.ywp-tray-content-pane .ywp-tray-content-close-x,.ywp-media-content-pane a.ywp-tray-content-close,.ywp-thumbnail-default-img,.ywp-video-pane .ywp-video-queued-play a,.ywp-track-btns .ywp-track-error,.ywp-track-btns .ywp-find-on-page,.ywp-page-play-pause .ywp-page-btn,.ywp-container .ywp-btn-notify-close,.ywp-body-buttons .ywp-mod span,.ywp-container .ywp-hdr-btns a,.ywp-volume-slider .ywp-sliderbase,.ywp-volume-slider .ywp-slider-rail,.ywp-container .ywp-btn-collapse-player span,.ywp-container .ywp-btn-expand-player span,.ywp-volume-slider .ywp-slider-thumb,.ywp-seek-slider .ywp-slider-thumb,.ywp-tray .ywp-btn-playlist,.ywp-tray .ywp-btn-related,.ywp-int-btn-replay .ywp-int-btn-replay-img,.ywp-int-play-next .ywp-int-pn-med-playIcon,.ywp-int-play-next .ywp-int-pn-video-thumbnail,.ywp-int-play-next .ywp-int-pn-audio-thumbnail,.ywp-related-hover-play span,.ywp-int-related-media .ywp-int-related-prev,.ywp-int-related-media .ywp-int-related-next,.ywp-related-carousel-item .ywp-related-img{background-image:url('+YMPParams.assetsroot+"/img/themes/black-theme.png);_background-image:url("+YMPParams.assetsroot+"/img/themes/black-theme-8bit.png)}.ywp-container .ywp-player{-moz-box-shadow:-542px 3px 5px rgba(0,0,0,0.5),3px 3px 5px rgba(0,0,0,0.5);-webkit-box-shadow:-542px 3px 5px rgba(0,0,0,0.5),3px 3px 5px rgba(0,0,0,0.5);box-shadow:-542px 3px 5px rgba(0,0,0,0.5),3px 3px 5px rgba(0,0,0,0.5)}.ywp-container .ywp-btn-expand-player a{background:#919191;background:-moz-linear-gradient(top,#919191 0,#7b7b7b 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#919191),color-stop(100%,#7b7b7b));background:-webkit-linear-gradient(top,#919191 0,#7b7b7b 100%);background:-o-linear-gradient(top,#919191 0,#7b7b7b 100%);background:-ms-linear-gradient(top,#919191 0,#7b7b7b 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#919191',endColorstr='#7b7b7b',GradientType=0);background:linear-gradient(top,#919191 0,#7b7b7b 100%)}.ywp-container .ywp-btn-expand-collapse-player{-moz-box-shadow:3px 3px 5px rgba(0,0,0,0.5);-webkit-box-shadow:3px 3px 5px rgba(0,0,0,0.5);box-shadow:3px 3px 5px rgba(0,0,0,0.5)}.ywp-container .ywp-btn-expand-player{-moz-box-shadow:-21px 3px 5px rgba(0,0,0,0.3),3px 3px 5px rgba(0,0,0,0.3);-webkit-box-shadow:-21px 3px 5px rgba(0,0,0,0.3),3px 3px 5px rgba(0,0,0,0.3);box-shadow:-21px 3px 5px rgba(0,0,0,0.3),3px 3px 5px rgba(0,0,0,0.3)}.ywp-container .ywp-btn-expand-player a:hover{background:#a1a1a1;background:-moz-linear-gradient(top,#a1a1a1 0,#8e8e8e 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#a1a1a1),color-stop(100%,#8e8e8e));background:-webkit-linear-gradient(top,#a1a1a1 0,#8e8e8e 100%);background:-o-linear-gradient(top,#a1a1a1 0,#8e8e8e 100%);background:-ms-linear-gradient(top,#a1a1a1 0,#8e8e8e 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#a1a1a1',endColorstr='#8e8e8e',GradientType=0);background:linear-gradient(top,#a1a1a1 0,#8e8e8e 100%)}.ywp-container .ywp-btn-collapse-player a{background:#555;background:-moz-linear-gradient(top,#555 0,#3a3a3a 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#555),color-stop(100%,#3a3a3a));background:-webkit-linear-gradient(top,#555 0,#3a3a3a 100%);background:-o-linear-gradient(top,#555 0,#3a3a3a 100%);background:-ms-linear-gradient(top,#555 0,#3a3a3a 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#555555',endColorstr='#3a3a3a',GradientType=0);background:linear-gradient(top,#555 0,#3a3a3a 100%)}.ywp-container .ywp-btn-collapse-player a:hover{background:#666;background:-moz-linear-gradient(top,#666 0,#4a4a4a 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#666),color-stop(100%,#4a4a4a));background:-webkit-linear-gradient(top,#666 0,#4a4a4a 100%);background:-o-linear-gradient(top,#666 0,#4a4a4a 100%);background:-ms-linear-gradient(top,#666 0,#4a4a4a 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#666666',endColorstr='#4a4a4a',GradientType=0);background:linear-gradient(top,#666 0,#4a4a4a 100%)}.ywp-hdr .ywp-hdr-btns .ywp-btn-playlist,.ywp-tray a.ywp-tray-button em{color:#fff}.ywp-hdr a:hover.ywp-body-playlist .ywp-btn-playlist,.ywp-tray a:hover.ywp-tray-button{color:#a5a5a5}.ywp-hdr a:active.ywp-body-playlist .ywp-btn-playlist,.ywp-tray a:active.ywp-tray-button{color:#797979}.ywp-hdr .ywp-hdr-btns span.ywp-playlist-count,.ywp-tray .ywp-button-list .ywp-playlist-count{color:#fff}.ywp-hdr a:hover.ywp-body-playlist .ywp-playlist-count,.ywp-tray a:hover.ywp-tray-button .ywp-playlist-count{color:#ccc}.ywp-tray-button:hover .ywp-btn-label{color:#ccc}.ywp-ltr .ywp-seek-slider .ywp-seek-dotted,.ywp-rtl .ywp-seek-slider .ywp-seek-dotted{background:#383838}.ywp-ltr .ywp-seek-slider .ywp-seek-elapsed,.ywp-rtl .ywp-seek-slider .ywp-seek-elapsed{background:#adadad}.ywp-ltr .ywp-seek-slider .ywp-seek-time,.ywp-rtl .ywp-seek-slider .ywp-seek-time{color:#fff}.ywp-buffering span{background-color:white}.ywp-info{color:#fff}.ywp-notify-on{background:#2d2d2d}.ywp-playlist .ywp-content-pane{background:#111}.ywp-playlist a{background:#222}.ywp-tray .ywp-video-pane-mode{background:rgba(255,255,255,.1);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#10FFFFFF,endColorstr=#10FFFFFF)}.ywp-tray .ywp-video-pane-mode a,.ywp-tray .ywp-video-pane-mode{color:#999}.ywp-error-bubble .ywp-error-msg{background-color:#FFF;border:1px solid #ccc;color:#666}.ywp-error-bubble .ywp-error-msg a{color:#00F}.ywp-media-content-audio .ywp-audio-pane,.ywp-tray .ywp-content-pane{background:#242424;background:none\9;background:rgba(255,255,255,.05);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#0DFFFFFF,endColorstr=#0DFFFFFF)}.ywp-container .ywp-tray .ywp-content-pane a{color:#adadad}.ywp-container .ywp-tray .ywp-playlist li.ywp-playlist-item-selected a{color:#efefef;font-weight:bold}.ywp-tray .ywp-playlist li.ywp-playlist-item-selected{background-color:rgba(255,255,255,.1)!important;background-color:#414141;background:none\9;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#19FFFFFF,endColorstr=#19FFFFFF)}.ywp-tray .ywp-playlist li a:hover,.ywp-playlist .ywp-playlist-item-hover{background-color:rgba(255,255,255,.15)!important;background-color:#484848;background:none\9;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#26FFFFFF,endColorstr=#26FFFFFF)}.ywp-tray .ywp-content-pane-header{color:#fff}.ywp-ad-countdown .ywp-ad-countdown-main{color:#666}.ywp-ad-countdown .ywp-ad-countdown-up-next,.ywp-ad-countdown .ywp-ad-countdown-main em{color:#999}.ywp-ad-countdown .ywp-ad-countdown-main span{color:#ccc}.ywp-interstitial-mode .ywp-interstitial,.ywp-int-content .ywp-int-btns .ywp-int-btn-replay,.ywp-int-pn-media-thumbnail:hover .ywp-int-pn-med-thumb-content,.ywp-int-related-media .ywp-related-hover-play,.ywp-related .ywp-related-hover-play{color:#fff}.ywp-int-play-next .ywp-int-pn-countdown-pause .ywp-int-pn-pause,.ywp-int-play-next .ywp-int-pn-med-thumb-content,.ywp-int-related-media,.ywp-int-related-media a,.ywp-interstitial .ywp-int-related-media a,.ywp-interstitial .ywp-int-related-media a:hover,.ywp-interstitial .ywp-int-related-media a:visited{color:#999}.ywp-related-carousel-item .ywp-related-thumbnail,.ywp-int-play-next .ywp-int-pn-media-thumbnail{background-color:#313131}.ywp-related li:hover{background-color:rgba(255,255,255,0.05)!important;background-color:#242424;background:none\9;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#0DFFFFFF,endColorstr=#0DFFFFFF)}.ywp-related li:hover .ywp-related-info{color:#fff}.ywp-interstitial .ywp-int-content .ywp-int-btns a:hover{color:#808080}.ywp-interstitial .ywp-int-btns a{background:#3D3D3D;background:-moz-linear-gradient(top,rgba(61,61,61,1) 0,rgba(46,46,46,1) 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(61,61,61,1)),color-stop(100%,rgba(46,46,46,1)));background:-webkit-linear-gradient(top,rgba(61,61,61,1) 0,rgba(46,46,46,1) 100%);background:-o-linear-gradient(top,rgba(61,61,61,1) 0,rgba(46,46,46,1) 100%);background:-ms-linear-gradient(top,rgba(61,61,61,1) 0,rgba(46,46,46,1) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#3d3d3d',endColorstr='#2e2e2e',GradientType=0);background:linear-gradient(top,rgba(61,61,61,1) 0,rgba(46,46,46,1) 100%)}.ywp-container .ywp-track-btns .ywp-btn-buy,.ywp-container .ywp-track-btns .ywp-btn-buy:hover{background:#ccc;color:#333;text-shadow:1px 1px 1px #ccc}.ywp-container .ywp-track-btns .ywp-btn-buy:hover{background:#efefef}","silver":".ywp-meta a,.ywp-meta a:link,.ywp-meta a:visited,.ywp-meta a:hover,.ywp-meta a:active,.ywp-tray-content-pane a.ywp-tray-content-close .ywp-tray-content-close-text,.ywp-tray-content-pane a.ywp-tray-content-close:link .ywp-tray-content-close-text,.ywp-tr ay-content-pane a.ywp-tray-content-close:visited .ywp-tray-content-close-text,.ywp-tray-content-pane a.ywp-tray-content-close:hover .ywp-tray-content-close-text,.ywp- tray-content-pane a.ywp-tray-content-close:active .ywp-tray-content-close-text{color:#000;text-shadow:1px 1px 0 #bbb}.ywp-playlist a,.ywp-playlist a:link,.ywp-playlist a:visited,.ywp-playlist a:hover,.ywp-playlist a:active{color:#000}.ywp-container a.ywp-hdr-logo{background-image:url("+YMPParams.assetsroot+"/img/branding-light-theme.png);_background-image:url("+YMPParams.assetsroot+'/img/branding-light-theme-8bit.png)}.ywp-player,.ywp-interstitial-mode .ywp-interstitial{background-color:#c2c2c2;background-image:-moz-linear-gradient(top,#c2c2c2,#9a9a9a);background-image:-webkit-gradient(linear,left top,left bottom,from(#c2c2c2),to(#9a9a9a));filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffc2c2c2,endColorstr=#ffa9a9a9);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffc2c2c2,endColorstr=#ffa9a9a9)"}.ywp-playlist .ywp-playlist-arrow,.ywp-playlist-count,.ywp-tray-content-pane .ywp-tray-content-close-x,.ywp-media-content-pane a.ywp-tray-content-close,.ywp-thumbnail-default-img,.ywp-video-pane .ywp-video-queued-play a,.ywp-track-btns .ywp-track-error,.ywp-track-btns .ywp-find-on-page,.ywp-page-play-pause .ywp-page-btn,.ywp-container .ywp-btn-notify-close,.ywp-body-buttons .ywp-mod span,.ywp-container .ywp-hdr-btns a,.ywp-volume-slider .ywp-sliderbase,.ywp-volume-slider .ywp-slider-rail,.ywp-container .ywp-btn-collapse-player span,.ywp-container .ywp-btn-expand-player span,.ywp-volume-slider .ywp-slider-thumb,.ywp-seek-slider .ywp-slider-thumb,.ywp-tray .ywp-btn-playlist,.ywp-tray .ywp-btn-related,.ywp-int-btn-replay .ywp-int-btn-replay-img,.ywp-int-play-next .ywp-int-pn-med-playIcon,.ywp-int-play-next .ywp-int-pn-video-thumbnail,.ywp-int-play-next .ywp-int-pn-audio-thumbnail,.ywp-related-hover-play span,.ywp-int-related-media .ywp-int-related-prev,.ywp-int-related-media .ywp-int-related-next,.ywp-related-carousel-item .ywp-related-img{background-image:url('+YMPParams.assetsroot+"/img/themes/silver-theme.png);_background-image:url("+YMPParams.assetsroot+"/img/themes/silver-theme-8bit.png)}.ywp-container .ywp-player{-moz-box-shadow:-542px 3px 5px rgba(0,0,0,0.2),3px 3px 5px rgba(0,0,0,0.2);-webkit-box-shadow:-542px 3px 5px rgba(0,0,0,0.2),3px 3px 5px rgba(0,0,0,0.2);box-shadow:-542px 3px 5px rgba(0,0,0,0.2),3px 3px 5px rgba(0,0,0,0.2)}.ywp-container .ywp-btn-expand-player a{background:#919191;background:-moz-linear-gradient(top,#919191 0,#7b7b7b 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#919191),color-stop(100%,#7b7b7b));background:-webkit-linear-gradient(top,#919191 0,#7b7b7b 100%);background:-o-linear-gradient(top,#919191 0,#7b7b7b 100%);background:-ms-linear-gradient(top,#919191 0,#7b7b7b 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#919191',endColorstr='#7b7b7b',GradientType=0);background:linear-gradient(top,#919191 0,#7b7b7b 100%)}.ywp-container .ywp-btn-expand-collapse-player{-moz-box-shadow:3px 3px 5px rgba(0,0,0,0.2);-webkit-box-shadow:3px 3px 5px rgba(0,0,0,0.2);box-shadow:3px 3px 5px rgba(0,0,0,0.2)}.ywp-container .ywp-btn-expand-player{-moz-box-shadow:-21px 3px 5px rgba(0,0,0,0.3),3px 3px 5px rgba(0,0,0,0.3);-webkit-box-shadow:-21px 3px 5px rgba(0,0,0,0.3),3px 3px 5px rgba(0,0,0,0.3);box-shadow:-21px 3px 5px rgba(0,0,0,0.3),3px 3px 5px rgba(0,0,0,0.3)}.ywp-container .ywp-btn-expand-player a:hover{background:#a1a1a1;background:-moz-linear-gradient(top,#a1a1a1 0,#8e8e8e 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#a1a1a1),color-stop(100%,#8e8e8e));background:-webkit-linear-gradient(top,#a1a1a1 0,#8e8e8e 100%);background:-o-linear-gradient(top,#a1a1a1 0,#8e8e8e 100%);background:-ms-linear-gradient(top,#a1a1a1 0,#8e8e8e 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#a1a1a1',endColorstr='#8e8e8e',GradientType=0);background:linear-gradient(top,#a1a1a1 0,#8e8e8e 100%)}.ywp-container .ywp-btn-collapse-player a{background:#949494;background:-moz-linear-gradient(top,#949494 0,#7d7d7d 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#949494),color-stop(100%,#7d7d7d));background:-webkit-linear-gradient(top,#949494 0,#7d7d7d 100%);background:-o-linear-gradient(top,#949494 0,#7d7d7d 100%);background:-ms-linear-gradient(top,#949494 0,#7d7d7d 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#949494',endColorstr='#7d7d7d',GradientType=0);background:linear-gradient(top,#949494 0,#7d7d7d 100%)}.ywp-container .ywp-btn-collapse-player a:hover{background:#848484;background:-moz-linear-gradient(top,#848484 0,#6f6f6f 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#848484),color-stop(100%,#6f6f6f));background:-webkit-linear-gradient(top,#848484 0,#6f6f6f 100%);background:-o-linear-gradient(top,#848484 0,#6f6f6f 100%);background:-ms-linear-gradient(top,#848484 0,#6f6f6f 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#848484',endColorstr='#6f6f6f',GradientType=0);background:linear-gradient(top,#848484 0,#6f6f6f 100%)}.ywp-hdr .ywp-hdr-btns .ywp-btn-playlist,.ywp-tray a.ywp-tray-button em{color:#000;text-shadow:1px 1px 0 #ccc}.ywp-hdr a:hover.ywp-body-playlist .ywp-btn-playlist,.ywp-tray a:hover.ywp-tray-button{color:#333}.ywp-hdr a:active.ywp-body-playlist .ywp-btn-playlist,.ywp-tray a:active.ywp-tray-button{color:#797979}.ywp-hdr .ywp-hdr-btns span.ywp-playlist-count,.ywp-tray .ywp-button-list .ywp-playlist-count{color:#fff}.ywp-hdr a:hover.ywp-body-playlist .ywp-playlist-count,.ywp-tray a:hover.ywp-tray-button .ywp-playlist-count{color:#dedede}.ywp-tray .ywp-button-list .ywp-btn-label{text-shadow:1px 1px 0 #aaa}.ywp-tray-button:hover .ywp-btn-label{color:#555}.ywp-ltr .ywp-seek-slider .ywp-seek-dotted,.ywp-rtl .ywp-seek-slider .ywp-seek-dotted{background:#bbb}.ywp-ltr .ywp-seek-slider .ywp-seek-elapsed,.ywp-rtl .ywp-seek-slider .ywp-seek-elapsed{background:#555}.ywp-seek .ywp-seek-time{color:#000;text-shadow:1px 1px 0 #bbb}.ywp-buffering span{background-color:black}.ywp-info{color:#000}.ywp-notify-on{background:#2d2d2d}.ywp-playlist .ywp-content-pane{background:#111}.ywp-playlist a{background:#222}.ywp-tray .ywp-video-pane-mode{background:rgba(0,0,0,.1);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#20000000,endColorstr=#20000000)}.ywp-tray .ywp-video-pane-mode a,.ywp-tray .ywp-video-pane-mode{color:#333}.ywp-error-bubble .ywp-error-msg{background-color:#FFF;border:1px solid #ccc;color:#666}.ywp-error-bubble .ywp-error-msg a{color:#00F}.ywp-media-content-audio .ywp-audio-pane{background:#b3b3b3;background:none\9;background:rgba(255,255,255,.05);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#0DFFFFFF,endColorstr=#0DFFFFFF)}.ywp-tray .ywp-content-pane{background:#b3b3b3}.ywp-container .ywp-tray .ywp-content-pane a{color:#000}.ywp-container .ywp-tray .ywp-playlist li.ywp-playlist-item-selected a{color:#333;font-weight:bold}.ywp-tray .ywp-playlist li.ywp-playlist-item-selected{background-color:rgba(255,255,255,.2)!important;background-color:#c2c2c2;background:none\9;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#33FFFFFF,endColorstr=#33FFFFFF)}.ywp-tray .ywp-playlist li a:hover,.ywp-playlist .ywp-playlist-item-hover{background-color:rgba(255,255,255,.1)!important;background-color:#bbb;background:none\9;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#19FFFFFF,endColorstr=#19FFFFFF)}.ywp-tray .ywp-content-pane-header{color:#363636}.ywp-ad-countdown .ywp-ad-countdown-main{color:#5b5b5b}.ywp-ad-countdown .ywp-ad-countdown-up-next,.ywp-ad-countdown .ywp-ad-countdown-main em,.ywp-ad-countdown .ywp-ad-countdown-main span{color:#333}.ywp-interstitial-mode .ywp-interstitial,.ywp-int-play-next .ywp-int-pn-countdown-pause .ywp-int-pn-pause,.ywp-int-related-media a:hover,.ywp-interstitial .ywp-int-related-media a,.ywp-interstitial .ywp-int-related-media a:hover,.ywp-interstitial .ywp-int-related-media a:visited{color:#333}.ywp-int-play-next .ywp-int-pn-med-thumb-content{color:#999}.ywp-int-content .ywp-int-btns .ywp-int-btn-replay,.ywp-int-pn-media-thumbnail:hover .ywp-int-pn-med-thumb-content,.ywp-related .ywp-related-hover-play,.ywp-int-related-media .ywp-related-hover-play{color:#fff}.ywp-int-related-media a{color:#000}.ywp-related-carousel-item .ywp-related-thumbnail,.ywp-int-play-next .ywp-int-pn-media-thumbnail{background-color:#909090}.ywp-related li:hover{background-color:rgba(0,0,0,0.05)!important;background-color:#aaa;background:none\9;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#0D000000,endColorstr=#0D000000)}.ywp-related li:hover .ywp-related-info{color:#333}.ywp-interstitial .ywp-int-content .ywp-int-btns a:hover{color:#C6C6C6}.ywp-interstitial .ywp-int-btns a{background:#787878;background:-moz-linear-gradient(top,#787878 0,#696969 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,#787878),color-stop(100%,#696969));background:-webkit-linear-gradient(top,#787878 0,#696969 100%);background:-o-linear-gradient(top,#787878 0,#696969 100%);background:-ms-linear-gradient(top,#787878 0,#696969 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#787878',endColorstr='#696969',GradientType=0);background:linear-gradient(top,#787878 0,#696969 100%)}.ywp-container .ywp-track-btns .ywp-btn-buy,.ywp-container .ywp-track-btns .ywp-btn-buy:hover{background:#555;color:#ddd;text-shadow:1px 1px 1px #333}.ywp-container .ywp-track-btns .ywp-btn-buy:hover{background:#333}","xl":".ywp-xl-mode .ywp-video-pane .ywp-video-queued-play a,.ywp-xl-mode .ywp-body-buttons .ywp-mod span,.ywp-xl-mode .ywp-container .ywp-hdr-btns a,.ywp-xl-mode .ywp-volume-slider .ywp-sliderbase,.ywp-xl-mode .ywp-volume-slider .ywp-slider-rail,.ywp-xl-mode .ywp-volume-slider .ywp-slider-thumb,.ywp-xl-mode .ywp-seek-slider .ywp-slider-thumb{background-image:url("+YMPParams.assetsroot+"/img/themes/black-theme.png)}.ywp-xl-mode .ywp-hdr a.ywp-hdr-logo{background-image:url("+YMPParams.assetsroot+'/img/branding-dark-theme.png)}.ywp-xl-mode .ywp-body{background-color:#000;background-image:-moz-linear-gradient(top,#141414,#000);background-image:-webkit-gradient(linear,left top,left bottom,from(#141414),to(#000));filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#ff141414,endColorstr=#ff000000);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#ff141414,endColorstr=#ff000000)";cursor:auto}.ywp-xl-mode .ywp-meta a,.ywp-xl-mode .ywp-meta a:link,.ywp-xl-mode .ywp-meta a:visited,.ywp-xl-mode .ywp-meta a:hover,.ywp-xl-mode .ywp-meta a:active{color:#fff;text-shadow:none}.ywp-xl-mode .ywp-body .ywp-seek-slider .ywp-seek-dotted{background:#383838}.ywp-xl-mode .ywp-body .ywp-seek-slider .ywp-seek-elapsed{background:#adadad}.ywp-xl-mode .ywp-seek .ywp-seek-time{color:#fff;text-shadow:none}.ywp-xl-mode .ywp-buffering span{background-color:white}.ywp-xl-mode .ywp-info{color:#fff}.ywp-xl-mode .ywp-tray .ywp-video-pane-mode{background:rgba(255,255,255,.1);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#10FFFFFF,endColorstr=#10FFFFFF)}.ywp-xl-mode .ywp-tray .ywp-video-pane-mode a,.ywp-xl-mode .ywp-tray .ywp-video-pane-mode{color:#999}.ywp-xl-mode .ywp-body .ywp-body-buttons,.ywp-xl-mode .ywp-body .ywp-info{filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(enabled = false)"}.ywp-xl-mode .ywp-body,.ywp-xl-mode .ywp-tray-wrapper{-moz-box-shadow:0 0 25px 1px #111;-webkit-box-shadow:0 0 25px 1px #111;box-shadow:0 0 25px 1px #111}.ywp-xl-mode .ywp-tray .ywp-video-pane-mode{filter:none;background-color:#414141}'},"webplayer":".ywp-container html{color:#000;background:#FFF}.ywp-container body,.ywp-container div,.ywp-container dl,.ywp-container dt,.ywp-container dd,.ywp-container ul,.ywp-container ol,.ywp-container li,.ywp-container h1,.ywp-container h2,.ywp-container h3,.ywp-container h4,.ywp-container h5,.ywp-container h6,.ywp-container pre,.ywp-container code,.ywp-container form,.ywp-container fieldset,.ywp-container legend,.ywp-container input,.ywp-container textarea,.ywp-container p,.ywp-container blockquote,.ywp-container th,.ywp-container td{margin:0;padding:0}.ywp-container table{border-collapse:collapse;border-spacing:0}.ywp-container fieldset,.ywp-container img{border:0}.ywp-container address,.ywp-container caption,.ywp-container cite,.ywp-container code,.ywp-container dfn,.ywp-container em,.ywp-container strong,.ywp-container th,.ywp-container var{font-style:normal;font-weight:normal}.ywp-container li{list-style:none}.ywp-container caption,.ywp-container th{text-align:left}.ywp-container h1,.ywp-container h2,.ywp-container h3,.ywp-container h4,.ywp-container h5,.ywp-container h6{font-size:100%;font-weight:normal}.ywp-container q:before,.ywp-container q:after{content:''}.ywp-container abbr,.ywp-container acronym{border:0;font-variant:normal}.ywp-container sup{vertical-align:text-top}.ywp-container sub{vertical-align:text-bottom}.ywp-container input,.ywp-container textarea,.ywp-container select{font-family:inherit;font-size:inherit;font-weight:inherit}.ywp-container input,.ywp-container textarea,.ywp-container select{*font-size:100%}.ywp-container legend{color:#000}.ywp-container{font-size:0}.ywp-ltr{text-align:left}.ywp-rtl{text-align:right}.ywp-container a,.ywp-container a:link,.ywp-container a:visited,.ywp-container a:hover,.ywp-container a:active{font-family:arial,verdana,helvetica,sans-serif;outline:none;text-decoration:none;border:none;margin:0;padding:0;font-variant:normal;text-transform:none;cursor:pointer;cursor:hand;letter-spacing:normal;font-weight:normal}.ywp-playlist a,.ywp-playlist a:link,.ywp-playlist a:visited,.ywp-playlist a:hover,.ywp-playlist a:active,.ywp-meta a,.ywp-meta a:link,.ywp-meta a:visited,.ywp-meta a:hover,.ywp-meta a:active,.ywp-tray-content-pane a.ywp-tray-content-close .ywp-tray-content-close-text,.ywp-tray-content-pane a.ywp-tray-content-close:link .ywp-tray-content-close-text,.ywp-tray-content-pane a.ywp-tray-content-close:visited .ywp-tray-content-close-text,.ywp-tray-content-pane a.ywp-tray-content-close:hover .ywp-tray-content-close-text,.ywp-tray-content-pane a.ywp-tray-content-close:active .ywp-tray-content-close-text{background:none;display:inline}.ywp-clearfix{zoom:1}.ywp-clearfix:after{content:\".\";display:block;height:0;width:0;clear:both;visibility:hidden;overflow:hidden}.ywp-ellipsis{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-o-text-overflow:ellipsis}body .ywp-position-offscreen{position:absolute;height:1px;width:1px;overflow:hidden;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px)}.ywp-container{position:fixed;bottom:18px;z-index:10000;width:545px;cursor:default;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none;outline:none}.ywp-lte-ie8{background-image:url(about:blank)}.ywp-container.ywp-ltr{left:-545px}.ywp-container.ywp-rtl{padding-left:25px;right:-545px}.ywp-container.ywp-ltr.ywp-collapsed{padding-right:25px}.ywp-container.ywp-rtl.ywp-collapsed{padding-left:25px}.ywp-container.ywp-ltr.ywp-expanded{padding-right:20px}.ywp-container.ywp-rtl.ywp-expanded{padding-left:20px}.ywp-container.ywp-hidden{visibility:hidden}.ywp-container .ywp-player,.ywp-container .ywp-tray-wrapper{width:545px}.ywp-container .ywp-player{*overflow:hidden}.ywp-container.ywp-collapsed .ywp-player{-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none}.ywp-container .ywp-mod{display:inline-block;vertical-align:baseline;position:relative}.ywp-ltr .ywp-mod{float:left}.ywp-rtl .ywp-mod{float:right}.ywp-row{width:100%;clear:both}.ywp-container .ywp-tray{width:845px;height:0}.ywp-container .ywp-tray,.ywp-container .ywp-tray-wrapper{overflow:hidden;white-space:nowrap;zoom:1}.ywp-container .ywp-body{margin-top:10px;padding-bottom:10px;height:40px}.ywp-container .ywp-body *,.ywp-container .ywp-button-list *{filter:inherit}.ywp-ltr .ywp-hdr-btns,.ywp-ltr .ywp-hdr-btns .ywp-mod{float:right}.ywp-rtl .ywp-hdr-btns,.ywp-rtl .ywp-hdr-btns .ywp-mod{float:left}.ywp-tray .ywp-mod{height:100%}.ywp-tray .ywp-button-list a{text-align:center;display:block}.ywp-body .ywp-body-buttons{display:inline}.ywp-body .ywp-playback-controls{margin:5px 15px 0 15px}.ywp-body .ywp-display-controls{margin:5px 0 5px 8px}.ywp-container .ywp-body-buttons a.ywp-mod{width:30px;height:30px;margin-right:1px}.ywp-ltr .ywp-playback-controls .ywp-volume,.ywp-rtl .ywp-playback-controls .ywp-prev{margin-right:0}.ywp-body-buttons a.ywp-btn-disabled{cursor:default}.ywp-body-buttons .ywp-mod span{margin:2px 6px;height:26px;width:18px;display:block}.ywp-display-controls .ywp-mod .ywp-btn-expand-xl,.ywp-display-controls .ywp-mod .ywp-btn-collapse-xl{width:30px;margin:3px 0}.ywp-player-mode-video .ywp-expand-collapse-xl{display:block}.ywp-quirks-mode .ywp-player .ywp-expand-collapse-xl,.ywp-lte-ie6 .ywp-player .ywp-expand-collapse-xl,.ywp-player-error .ywp-expand-collapse-xl,.ywp-player-mode-audio .ywp-expand-collapse-xl{display:none}.ywp-page-play-pause{outline:none!important}.ywp-page-play-pause .ywp-page-btn{display:inline-block;width:14px;height:14px;cursor:pointer;margin-right:6px;overflow:hidden;position:relative;top:1px;*top:-2px}.ywp-page-img-wrapper{display:inline-block;position:relative}.ywp-page-play-pause .ywp-page-img-wrapper .ywp-page-btn{position:absolute;width:56px;height:56px;margin:0}.ywp-page-play-pause .ywp-page-img-small .ywp-page-btn{width:32px;height:32px}.ywp-expt-mode .ywp-page-btn{width:16px;margin-right:5px}.ywp-track-group .ywp-track-btns{margin-top:-1px}.ywp-container .ywp-error-bubble{position:absolute;bottom:0;left:0;padding-bottom:5px;z-index:10210;width:200px}.ywp-container .ywp-track-btns .ywp-btn-buy,.ywp-container .ywp-track-btns .ywp-btn-buy:visited,.ywp-container .ywp-track-btns .ywp-btn-buy:hover,.ywp-container .ywp-track-btns .ywp-btn-buy:active{width:auto;padding-left:3px;padding-right:3px;border-radius:2px;margin-left:5px;font:900 8.5px Arial;line-height:13px}.ywp-container .ywp-hdr{height:20px;width:100%}.ywp-container .ywp-hdr *{filter:inherit}.ywp-container .ywp-hdr .ywp-hdr-logo{position:absolute;height:12px;width:87px;bottom:0;display:block}.ywp-ltr .ywp-hdr-logo{left:10px}.ywp-rtl .ywp-hdr-logo{right:10px}.ywp-container .ywp-hdr .ywp-hdr-btns{top:4px;*width:127px;display:inline}.ywp-ltr .ywp-hdr-btns{margin-right:10px}.ywp-rtl .ywp-hdr-btns{margin-left:10px}.ywp-container .ywp-hdr .ywp-hdr-btns a{width:13px;height:13px;margin-top:4px}.ywp-ltr .ywp-hdr .ywp-hdr-btns a{margin-left:5px}.ywp-rtl .ywp-hdr .ywp-hdr-btns a{margin-right:5px}.ywp-hdr .ywp-hdr-btns span.ywp-playlist-count{display:inline-block;z-index:10000}.ywp-ltr .ywp-hdr-btns span.ywp-playlist-count{margin:0 0 0 -1px}.ywp-rtl .ywp-hdr-btns span.ywp-playlist-count{margin:0 -1px 0 0}.ywp-hdr .ywp-hdr-btns .ywp-btn-playlist,.ywp-tray .ywp-button-list .ywp-playlist-count{margin-top:0}.ywp-hdr .ywp-hdr-btns span.ywp-playlist-count,.ywp-tray .ywp-button-list .ywp-playlist-count{height:15px;width:15px;text-align:center}.ywp-hdr-btns .ywp-playlist-over-max span.ywp-playlist-count,.ywp-tray .ywp-playlist-over-max .ywp-playlist-count{width:24px}.ywp-container .ywp-hdr .ywp-hdr-btns .ywp-body-playlist{width:auto;margin-top:0}.ywp-hdr .ywp-hdr-btns .ywp-btn-playlist{padding-top:6px}.ywp-hdr-btns .ywp-audio-hdr-btns{margin-right:3px}.ywp-tray-open .ywp-audio-hdr-btns{visibility:hidden}.ywp-tray .ywp-button-list,.ywp-tray .ywp-media-content-pane{margin-top:20px}.ywp-tray .ywp-button-list{width:55px;overflow:hidden;visibility:hidden}.ywp-tray-open .ywp-button-list{visibility:visible}.ywp-tray .ywp-button-list a{display:block;height:45px;width:100%;padding-bottom:10px}.ywp-tray .ywp-button-list a span{margin:10px auto 5px auto;display:block;width:16px;height:16px}.ywp-tray .ywp-button-list span.ywp-btn-playlist,.ywp-tray .ywp-button-list span.ywp-btn-related{width:31px}.ywp-tray .ywp-button-list span.ywp-btn-related{height:10px;padding-bottom:4px}.ywp-tray .ywp-button-list span.ywp-playlist-count{position:absolute;top:3px;left:28px;min-width:8px}.ywp-tray .ywp-media-content-pane{width:435px;height:245px;display:inline}.ywp-tray .ywp-video-pane{width:100%;height:100%;z-index:10200;visibility:hidden}.ywp-media-content-video .ywp-video-pane{visibility:visible}.ywp-video-pane .ywp-video-embeds{overflow:hidden;width:0}.ywp-video-pane .ywp-video-pane-mode{width:100%;height:100%}.ywp-video-pane object{width:0;height:100%}.ywp-video-pane .ywp-video-showing{width:100%}.ywp-video-pane .ywp-video-showing .ywp-current-video-player{width:100%}.ywp-video-pane .ywp-video-embeds,.ywp-video-pane object{position:absolute;top:0;left:0}.ywp-video-pane-mode span{margin:auto;display:block}.ywp-video-buffering span{margin-top:25%}.ywp-video-queued .ywp-video-queued-header{margin-top:15%;width:90%;padding-bottom:20px}.ywp-tray-pip .ywp-video-queued-header{padding-bottom:10px}.ywp-video-queued .ywp-video-queued-play{width:77px;height:77px}.ywp-tray-pip .ywp-video-queued-play{width:36px;height:36px}.ywp-video-queued .ywp-video-queued-play a{width:100%;height:100%;display:block}.ywp-video-error{font-size:16px}.ywp-tray-pip .ywp-video-error{font-size:12px}.ywp-video-error .ywp-video-error-message{margin-top:20%;width:60%;padding-bottom:10px;white-space:normal}.ywp-tray-pip .ywp-video-error-message{margin-top:12%}.ywp-container .ywp-video-error a{text-decoration:underline}.ywp-tray .ywp-audio-pane{position:absolute;top:0;left:0;height:auto}.ywp-tray .ywp-content-pane-header{position:absolute;top:-21px;left:0;font:bold 14px Arial}.ywp-tray .ywp-tray-content-close{position:absolute;font:normal 11px/16px Arial;color:#ccc;*width:100px;clear:both;display:none}.ywp-tray-pip .ywp-tray-content-close{display:block}.ywp-media-content-pane .ywp-tray-content-close,.ywp-tray .ywp-tray-content-close-x{width:16px;height:16px}.ywp-tray .ywp-media-content-audio .ywp-tray-content-close{display:none}.ywp-ltr .ywp-tray-content-close-x{float:right;margin-left:5px}.ywp-rtl .ywp-tray-content-close-x{float:left;margin-right:5px}.ywp-ltr .ywp-tray-content-close{right:0}.ywp-rtl .ywp-tray-content-close{left:0}.ywp-ltr .ywp-tray-content-pane .ywp-tray-content-close{*text-align:right}.ywp-rtl .ywp-tray-content-pane .ywp-tray-content-close{*text-align:left}.ywp-tray-content-pane .ywp-tray-content-close{top:-21px}.ywp-media-content-pane .ywp-tray-content-close{bottom:-21px}.ywp-tray .ywp-tray-content-pane{width:300px}.ywp-ltr .ywp-tray-content-pane{margin:30px 10px 0 0}.ywp-rtl .ywp-tray-content-pane{margin:30px 0 0 10px}.ywp-container .ywp-tray .ywp-content-pane{width:100%;height:215px;overflow:auto;font:normal 12px/1 Arial;outline:none}.ywp-container .ywp-tray .ywp-playlist,.ywp-container .ywp-tray .ywp-related{display:none}.ywp-container .ywp-tray .ywp-active-content-pane{display:inline}.ywp-container .ywp-tray .ywp-playlist .ywp-mod{float:none}.ywp-container .ywp-tray .ywp-playlist li{padding:0;position:relative;margin:0 5px 0 5px}.ywp-container .ywp-tray .ywp-playlist .ywp-playlist-nested li{margin:0}.ywp-container .ywp-tray .ywp-playlist li a{margin:0;display:block;padding:0 0 0 20px}.ywp-container .ywp-tray .ywp-playlist .ywp-playlist-nested{display:none}.ywp-container .ywp-tray .ywp-playlist .ywp-playlist-nested-open{display:block}.ywp-tray .ywp-playlist li .ywp-playlist-item{width:80%}.ywp-tray .ywp-playlist li ul .ywp-playlist-item{width:75%;padding-left:35px}.ywp-tray .ywp-playlist li .ywp-playlist-item,.ywp-tray .ywp-playlist .ywp-playlist-number{line-height:1;padding-top:5px;padding-bottom:5px;height:auto}.ywp-tray .ywp-playlist li .ywp-playlist-arrow{position:absolute;top:6px;width:9px;height:9px;display:block;padding:0}.ywp-ltr .ywp-playlist li .ywp-playlist-arrow{left:5px}.ywp-rtl .ywp-playlist li .ywp-playlist-arrow{right:5px}.ywp-tray .ywp-playlist li .ywp-playlist-number{margin-right:5px;overflow:hidden}.ywp-tray .ywp-playlist li .ywp-track-btns{overflow:hidden;position:absolute;right:0;top:5px;margin-right:5px}.ywp-track-btns .ywp-track-btns-item{width:13px;height:13px;margin-left:5px}.ywp-track-btns .ywp-find-on-page{background-position:-106px -1104px;display:none}.ywp-track-btns .ywp-find-on-page:hover{background-position:-106px -1143px}.ywp-track-btns .ywp-find-on-page:active{background-position:-106px -1186px}.ywp-tray .ywp-playlist .ywp-playlist-item-selected .ywp-find-on-page{display:inline-block}.ywp-volume-slider{position:absolute;width:30px;z-index:10210}.ywp-volume-slider .ywp-slider-content,.ywp-volume-slider-hidden .ywp-slider-content{zoom:1}.ywp-volume-slider .ywp-sliderbase{padding:6px 0 0 0}.ywp-volume-slider .ywp-slider,.ywp-volume-slider .ywp-slider-content,.ywp-volume-slider .ywp-slider-rail{height:100%;width:100%;display:block}.ywp-volume-slider .ywp-slider-thumb{width:10px;height:10px;left:10px}.ywp-container .ywp-mod .ywp-seek{height:12px;overflow:hidden}.ywp-seek-slider .ywp-slider,.ywp-seek-slider .ywp-slider-content,.ywp-seek-slider .ywp-slider-rail,.ywp-seek-slider .ywp-seek-dotted{height:100%;display:inline-block;font-size:2px}.ywp-container .ywp-seek-slider{height:12px}.ywp-seek-slider .ywp-seek-elapsed,.ywp-seek-slider .ywp-seek-dotted{position:absolute;left:0;top:5px;height:2px;display:block}.ywp-seek-slider .ywp-seek-dotted{z-index:10120;margin:0 5px}.ywp-seek-slider .ywp-seek-elapsed{z-index:10121;margin-left:5px}.ywp-container .ywp-seek-time{display:block;height:10px}.ywp-ltr .ywp-seek-time{padding-left:5px}.ywp-rtl .ywp-seek-time{padding-right:5px}.ywp-seek-slider .ywp-slider-thumb{z-index:10122;display:block;width:10px;height:12px}.ywp-seek-thumb-inactive .ywp-slider-thumb{display:none}.ywp-volume-slider .ywp-slider-rail,.ywp-seek-slider .ywp-slider-rail{cursor:pointer;cursor:hand}.ywp-seek-thumb-inactive .ywp-slider-rail{cursor:default}.ywp-container .ywp-volume-slider-hidden,.ywp-container .ywp-seek-slider-hidden{display:none;zoom:1}.ywp-buffering{position:absolute;top:5px;left:5px;z-index:11130}.ywp-buffering-hidden{display:none}.ywp-buffering span{width:7px;height:2px;margin-right:3px;font-size:2px}.ywp-player-mode-video .ywp-info{width:341px}.ywp-quirks-mode .ywp-player-mode-video .ywp-info,.ywp-lte-ie6 .ywp-player-mode-video .ywp-info,.ywp-player-mode-audio .ywp-info{width:382px}.ywp-info{position:relative;z-index:10100}.ywp-info .ywp-mod{z-index:10101}.ywp-info .ywp-meta{height:28px;width:100%;*width:341px;margin-left:4px}.ywp-info .ywp-meta-wrapper{position:absolute;bottom:0;left:0;clear:both}.ywp-info .ywp-meta-wrapper a,.ywp-info .ywp-meta-wrapper a:link,.ywp-info .ywp-meta-wrapper a:visited,.ywp-info .ywp-meta-wrapper a:hover,.ywp-info .ywp-meta-wrapper a:active{display:block;width:100%;line-height:10px;height:14px;cursor:default}.ywp-ltr .ywp-info .ywp-thumbnail{padding-right:5px}.ywp-rtl .ywp-info .ywp-thumbnail{padding-left:5px}.ywp-thumbnail-img{image-rendering:optimizeQuality;-ms-interpolation-mode:bicubic}.ywp-info .ywp-thumbnail-default-img,.ywp-info .ywp-thumbnail-img{width:36px;height:36px}.ywp-tray .ywp-audio-pane,.ywp-audio-pane .ywp-thumbnail-default-img{width:205px;height:215px}.ywp-audio-pane .ywp-thumbnail-img{position:absolute;top:0;left:0}.ywp-tray .ywp-audio-pane{visibility:hidden}.ywp-media-content-audio .ywp-audio-pane{visibility:visible}.ywp-info .ywp-notify{position:absolute;bottom:0;width:100%;height:40px;z-index:10090;display:none}.ywp-info .ywp-notify-msg{margin:8px}.ywp-info .ywp-notify-on{margin-bottom:10px;display:block}.ywp-info .ywp-notify .ywp-btn-notify-close{position:absolute;width:9px;height:9px;top:3px}.ywp-ltr .ywp-info .ywp-notify .ywp-btn-notify-close{right:3px}.ywp-rtl .ywp-info .ywp-notify .ywp-btn-notify-close{left:3px}.ywp-container .ywp-btn-expand-player{width:25px;height:70px;margin-bottom:5px}.ywp-container .ywp-btn-collapse-player{width:20px;height:80px}.ywp-container .ywp-btn-expand-player span,.ywp-container .ywp-btn-collapse-player span{width:6px;height:11px;display:block;text-align:left}.ywp-container .ywp-btn-expand-player span{margin:29px auto}.ywp-container .ywp-btn-collapse-player span{margin:34px auto}.ywp-ltr .ywp-btn-expand-player,.ywp-ltr .ywp-btn-collapse-player{right:0}.ywp-rtl .ywp-btn-expand-player,.ywp-rtl .ywp-btn-collapse-player{left:0}.ywp-bottom-ad{overflow:hidden;display:none;height:0}.ywp-container .ywp-ad-countdown{margin-top:5px;width:340px}.ywp-carousel-content{position:relative;white-space:nowrap;height:100%;top:0;left:0}.ywp-container .ywp-hdr-btns .ywp-btn-expand-video,.ywp-container .ywp-hdr-btns .ywp-btn-cont-play{display:none}@media print{.ywp-container{display:none!important}}.ywp-player .ywp-interstitial{display:none;zoom:1}.ywp-interstitial-mode .ywp-hdr-logo{z-index:11140}.ywp-interstitial-mode .ywp-interstitial{display:block;height:100%;left:0;position:absolute;top:0;width:100%;z-index:11135;overflow:hidden}.ywp-interstitial .ywp-int-content{opacity:0;margin:50px 85px 1000px 85px}.ywp-interstitial{line-height:1}.ywp-interstitial .ywp-int-content .ywp-int-btns a{padding:5px 15px;line-height:20px;-moz-border-radius:3px;-webkit-border-radius:3px;-o-border-radius:3px;border-radius:3px}.ywp-int-btn-replay .ywp-int-btn-replay-img{width:18px;height:18px;margin-right:5px}.ywp-ltr .ywp-int-content .ywp-int-play-next{float:right}.ywp-rtl .ywp-int-content .ywp-int-play-next{float:left}.ywp-int-play-next .ywp-int-pn-media-thumbnail-img{position:absolute;visibility:hidden}.ywp-int-content .ywp-int-related-media .ywp-int-btn-hidden{visibility:hidden}.ywp-int-play-next .ywp-int-pn-countdown-pause,.ywp-int-play-next .ywp-int-next-in-playlist{line-height:25px;margin-top:-25px;position:relative}.ywp-int-play-next .ywp-int-pn-countdown-pause .ywp-int-pn-pause{margin-left:10px}.ywp-int-play-next .ywp-int-pn-media-thumbnail{height:116px;width:205px;display:block;overflow:hidden;position:relative}.ywp-int-pn-media-thumbnail .ywp-int-pn-med-thumb-content{display:block;position:absolute;left:0;bottom:0;height:30px}.ywp-int-play-next .ywp-int-pn-med-playIcon{width:24px;height:24px;margin:3px 5px}.ywp-int-pn-med-thumb-content .ywp-int-pn-med-title{display:block;margin-top:2px;text-indent:1px;width:165px;line-height:1.2}.ywp-int-pn-med-thumb-content .ywp-int-pn-med-duration{text-indent:1px}.ywp-int-play-next .ywp-int-pn-no-duration .ywp-int-pn-med-title{line-height:30px}.ywp-int-pn-no-duration .ywp-int-pn-med-title{margin-top:0}.ywp-interstitial .ywp-int-related-media{padding-top:25px}.ywp-int-related-carousel{width:375px;height:100%;overflow:hidden;margin-right:12px}.ywp-int-related-media .ywp-int-related-carousel-header{padding-bottom:10px}.ywp-interstitial .ywp-int-content .ywp-int-related-media .ywp-int-related-prev{margin-left:-40px}.ywp-interstitial .ywp-int-content .ywp-int-related-media .ywp-int-related-next{margin-right:-40px}.ywp-interstitial .ywp-int-content .ywp-int-related-media .ywp-int-related-prev,.ywp-interstitial .ywp-int-content .ywp-int-related-media .ywp-int-related-next{outline:none;width:21px;height:33px;margin-top:16px}.ywp-interstitial .ywp-int-related-carousel .ywp-carousel-content .ywp-related-carousel-item{display:inline-block;padding-right:12px;vertical-align:top}.ywp-related-carousel-item{width:117px}.ywp-related .ywp-related-thumbnail,.ywp-related-carousel-item .ywp-related-thumbnail,.ywp-related-carousel-item .ywp-related-img{width:117px;height:66px}.ywp-related-carousel-item .ywp-related-title{width:95%;clear:left}.ywp-related-carousel-item .ywp-related-title,.ywp-related-carousel-item .ywp-related-duration{display:block;text-indent:1px;line-height:1.2}.ywp-related-thumbnail{display:inline-block}.ywp-related-hover-play{visibility:hidden;width:100%;position:absolute;bottom:0;left:0;padding:2px 0 2px 3px}.ywp-related-hover-play span{height:18px;width:18px;line-height:18px;text-indent:22px;display:block}.ywp-carousel-content .ywp-related-carousel-item:hover{zoom:1}.ywp-related li a:hover .ywp-related-hover-play,.ywp-related-carousel-item:hover .ywp-related-hover-play{visibility:visible}.ywp-related-carousel-item .ywp-related-img,.ywp-related .ywp-related-img{display:block;position:relative;overflow:hidden}.ywp-related-carousel-item .ywp-related-img{margin-bottom:5px}.ywp-related .ywp-related-img{margin-right:15px}.ywp-related li{padding:10px}.ywp-related li a{display:block}.ywp-related .ywp-related-info{white-space:normal}.ywp-related .ywp-related-title{width:120px}.ywp-related-info span{display:block}.ywp-tray-related{visibility:hidden}.ywp-tray-related .ywp-btn-label{white-space:normal}.ywp-iframe-shim,.ywp-div-shim{width:100%;height:100%;position:absolute;top:0;left:0;filter:alpha(opacity=0)}.ywp-video-embed-shim{background-color:#fff;opacity:0;width:101%;height:101%}.ywp-xl-shim{display:none}.ywp-video-embed-shim{display:none}.ywp-aria-announcements{position:absolute;left:-9999px}.ywp-container{_position:absolute;_padding-left:0}.ywp-container .ywp-btn-collapse-player{_top:expression(this.offsetParent.clientHeight-this.clientHeight)}.ywp-tray-open .ywp-player,.ywp-interstitial-mode .ywp-interstitial{-moz-border-radius:0 3px 0 0;-webkit-border-radius:0 3px 0 0;-o-border-radius:0 3px 0 0;border-radius:0 3px 0 0}.ywp-media-content-pane a.ywp-tray-content-close,.ywp-btn-expand-player span,.ywp-btn-collapse-player span,.ywp-btn-notify-close,.ywp-body-buttons .ywp-mod span,.ywp-hdr-logo,.ywp-btn-player-close,.ywp-btn-expand-video,.ywp-btn-cont-play{text-indent:-9999em}.ywp-container .ywp-btn-expand-collapse-player{position:absolute;bottom:0;z-index:10010;overflow:hidden;clear:both}.ywp-container .ywp-btn-expand-collapse-player a{width:100%;height:100%;text-align:center;position:absolute}.ywp-container .ywp-btn-expand-collapse-player-hidden{display:none}.ywp-ltr .ywp-btn-expand-collapse-player,.ywp-ltr .ywp-btn-expand-collapse-player a{-moz-border-radius:0 3px 3px 0;-webkit-border-radius:0 3px 3px 0;-o-border-radius:0 3px 3px 0;border-radius:0 3px 3px 0}.ywp-rtl .ywp-btn-expand-collapse-player,.ywp-rtl .ywp-btn-expand-collapse-player a{-moz-border-radius:3px 0 0 3px;-webkit-border-radius:3px 0 0 3px;-o-border-radius:3px 0 0 3px;border-radius:3px 0 0 3px}.ywp-ltr .ywp-btn-expand-player span,.ywp-rtl .ywp-btn-collapse-player span{background-position:-60px -30px}.ywp-ltr .ywp-btn-expand-player a:hover span,.ywp-rtl .ywp-btn-collapse-player a:hover span{background-position:-60px -50px}.ywp-ltr .ywp-btn-expand-player a:active span,.ywp-rtl .ywp-btn-collapse-player a:active span{background-position:-60px -71px}.ywp-ltr .ywp-btn-collapse-player span,.ywp-rtl .ywp-btn-expand-player span{background-position:-37px -30px}.ywp-ltr .ywp-btn-collapse-player a:hover span,.ywp-rtl .ywp-btn-expand-player a:hover span{background-position:-37px -50px}.ywp-ltr .ywp-btn-collapse-player a:active span,.ywp-rtl .ywp-btn-expand-player a:active span{background-position:-37px -71px}.ywp-container a.ywp-hdr-logo{background-position:-25px -34px}.ywp-hdr .ywp-hdr-btns .ywp-btn-playlist,.ywp-tray .ywp-button-list a.ywp-tray-button{font:700 9px Arial;text-transform:uppercase}.ywp-hdr .ywp-hdr-btns span.ywp-playlist-count,.ywp-tray .ywp-button-list .ywp-playlist-count{font:900 8.5px Arial;text-shadow:1px 1px 1px #555;line-height:15px}.ywp-hdr .ywp-hdr-btns .ywp-playlist-count,.ywp-tray .ywp-playlist-count{background-position:-55px -1832px}.ywp-hdr a:hover.ywp-body-playlist .ywp-playlist-count,.ywp-tray a:hover.ywp-tray-button .ywp-playlist-count{background-position:-55px -1853px}.ywp-hdr a:active.ywp-body-playlist .ywp-playlist-count,.ywp-tray a:active.ywp-tray-button .ywp-playlist-count{background-position:-55px -1874px}.ywp-hdr .ywp-playlist-over-max .ywp-playlist-count,.ywp-tray .ywp-playlist-over-max .ywp-playlist-count{background-position:-134px -1832px}.ywp-hdr a:hover.ywp-playlist-over-max .ywp-playlist-count,.ywp-tray a:hover.ywp-playlist-over-max .ywp-playlist-count{background-position:-134px -1853px}.ywp-hdr a:active.ywp-playlist-over-max .ywp-playlist-count,.ywp-tray a:active.ywp-playlist-over-max .ywp-playlist-count{background-position:-134px -1874px}.ywp-hdr .ywp-hdr-btns .ywp-playlist-count-new,.ywp-tray .ywp-playlist-count-new{background-position:-28px -1832px}.ywp-hdr a:hover.ywp-body-playlist .ywp-playlist-count-new,.ywp-tray a:hover.ywp-tray-button .ywp-playlist-count-new{background-position:-28px -1853px}.ywp-hdr a:active.ywp-body-playlist .ywp-playlist-count-new,.ywp-tray a:active.ywp-tray-button .ywp-playlist-count-new{background-position:-28px -1874px}.ywp-hdr .ywp-playlist-over-max .ywp-playlist-count-new,.ywp-tray .ywp-playlist-over-max .ywp-playlist-count-new{background-position:-95px -1832px}.ywp-hdr a:hover.ywp-playlist-over-max .ywp-playlist-count-new,.ywp-tray a:hover.ywp-playlist-over-max .ywp-playlist-count-new{background-position:-95px -1853px}.ywp-hdr a:active.ywp-playlist-over-max .ywp-playlist-count-new,.ywp-tray a:active.ywp-playlist-over-max .ywp-playlist-count-new{background-position:-95px -1874px}.ywp-media-content-pane a.ywp-tray-content-close{background-position:-69px -1102px}.ywp-media-content-pane a.ywp-tray-content-close:hover{background-position:-69px -1141px}.ywp-media-content-pane a.ywp-tray-content-close:active{background-position:-69px -1184px}.ywp-tray-content-pane a.ywp-tray-content-close .ywp-tray-content-close-x{background-position:-27px -1099px}.ywp-tray-content-pane a.ywp-tray-content-close:hover .ywp-tray-content-close-x{background-position:-27px -1141px}.ywp-tray-content-pane a.ywp-tray-content-close:active .ywp-tray-content-close-x{background-position:-27px -1185px}.ywp-hdr a.ywp-btn-cont-play{background-position:-29px -879px}.ywp-hdr a.ywp-btn-cont-play:hover{background-position:-29px -921px}.ywp-hdr a.ywp-btn-cont-play:active{background-position:-29px -964px}.ywp-hdr a.ywp-btn-expand-video{background-position:-53px -879px}.ywp-hdr a.ywp-btn-expand-video:hover{background-position:-53px -921px}.ywp-hdr a.ywp-btn-expand-video:active{background-position:-53px -964px}.ywp-hdr a.ywp-btn-player-close{background-position:-106px -879px}.ywp-hdr a.ywp-btn-player-close:hover{background-position:-106px -921px}.ywp-hdr a.ywp-btn-player-close:active{background-position:-106px -964px}.ywp-ltr .ywp-prev .ywp-btn-prev,.ywp-rtl .ywp-btn-next{background-position:-29px -150px}.ywp-ltr .ywp-prev:hover .ywp-btn-prev,.ywp-rtl .ywp-next:hover .ywp-btn-next{background-position:-29px -192px}.ywp-ltr .ywp-prev:active .ywp-btn-prev,.ywp-rtl .ywp-next:active .ywp-btn-next{background-position:-29px -235px}.ywp-ltr .ywp-btn-disabled .ywp-btn-prev,.ywp-rtl .ywp-btn-disabled .ywp-btn-next{background-position:-29px -279px!important}.ywp-ltr .ywp-play-pause .ywp-btn-play,.ywp-rtl .ywp-play-pause .ywp-btn-play{background-position:-61px -150px}.ywp-ltr .ywp-play-pause:hover .ywp-btn-play,.ywp-rtl .ywp-play-pause:hover .ywp-btn-play{background-position:-61px -192px}.ywp-ltr .ywp-play-pause:active .ywp-btn-play,.ywp-rtl .ywp-play-pause:active .ywp-btn-play{background-position:-61px -235px}.ywp-ltr .ywp-btn-disabled .ywp-btn-play,.ywp-rtl .ywp-btn-disabled .ywp-btn-play{background-position:-61px -279px!important}.ywp-ltr .ywp-play-pause .ywp-btn-pause,.ywp-rtl .ywp-play-pause .ywp-btn-pause{background-position:-93px -150px}.ywp-ltr .ywp-play-pause:hover .ywp-btn-pause,.ywp-rtl .ywp-play-pause:hover .ywp-btn-pause{background-position:-93px -192px}.ywp-ltr .ywp-play-pause:active .ywp-btn-pause,.ywp-rtl .ywp-play-pause:active .ywp-btn-pause{background-position:-93px -235px}.ywp-ltr .ywp-btn-disabled .ywp-btn-pause,.ywp-rtl .ywp-btn-disabled .ywp-btn-pause{background-position:-93px -279px!important}.ywp-ltr .ywp-next .ywp-btn-next,.ywp-rtl .ywp-prev .ywp-btn-prev{background-position:-128px -150px}.ywp-ltr .ywp-next:hover .ywp-btn-next,.ywp-rtl .ywp-prev:hover .ywp-btn-prev{background-position:-128px -192px}.ywp-ltr .ywp-next:active .ywp-btn-next,.ywp-rtl .ywp-prev:active .ywp-btn-prev{background-position:-128px -235px}.ywp-ltr .ywp-btn-disabled .ywp-btn-next,.ywp-rtl .ywp-btn-disabled .ywp-btn-prev{background-position:-128px -279px!important}.ywp-ltr .ywp-volume .ywp-btn-volume,.ywp-rtl .ywp-volume .ywp-btn-volume{background-position:-30px -380px}.ywp-ltr .ywp-volume:hover .ywp-btn-volume,.ywp-rtl .ywp-volume:hover .ywp-btn-volume{background-position:-30px -422px}.ywp-ltr .ywp-volume:active .ywp-btn-volume,.ywp-rtl .ywp-volume:active .ywp-btn-volume{background-position:-30px -465px}.ywp-ltr .ywp-volume .ywp-btn-volume-muted,.ywp-rtl .ywp-volume .ywp-btn-volume-muted{background-position:-62px -380px}.ywp-ltr .ywp-volume:hover .ywp-btn-volume-muted,.ywp-rtl .ywp-volume:hover .ywp-btn-volume-muted{background-position:-62px -422px}.ywp-ltr .ywp-volume:active .ywp-btn-volume-muted,.ywp-rtl .ywp-volume:active .ywp-btn-volume-muted{background-position:-62px -465px}.ywp-ltr .ywp-volume-slider .ywp-sliderbase,.ywp-rtl .ywp-volume-slider .ywp-sliderbase{background-position:-27px -612px}.ywp-ltr .ywp-volume-slider .ywp-slider-rail,.ywp-rtl .ywp-volume-slider .ywp-slider-rail{background-position:-86px -621px}.ywp-ltr .ywp-volume-slider .ywp-slider-thumb,.ywp-rtl .ywp-volume-slider .ywp-slider-thumb{background-position:-150px -628px}.ywp-ltr .ywp-seek-slider .ywp-slider-thumb,.ywp-rtl .ywp-seek-slider .ywp-slider-thumb{background-position:-44px -750px}.ywp-ltr .ywp-seek-slider .ywp-seek-time,.ywp-rtl .ywp-seek-slider .ywp-seek-time{font:normal 10px Arial}.ywp-ltr .ywp-seek-rail-hover .ywp-slider-thumb{background-position:-30px -750px}.ywp-ltr .ywp-seek-thumb-hover .ywp-slider-thumb{background-position:-30px -774px}.ywp-ltr .ywp-expand-collapse-xl .ywp-btn-expand-xl,.ywp-rtl .ywp-expand-collapse-xl .ywp-btn-expand-xl,.ywp-rtl{background-position:-151px -150px}.ywp-ltr .ywp-expand-collapse-xl:hover .ywp-btn-expand-xl,.ywp-rtl .ywp-expand-collapse-xl:hover .ywp-btn-expand-xl{background-position:-151px -192px}.ywp-ltr .ywp-expand-collapse-xl:active .ywp-btn-expand-xl,.ywp-expand-collapse-xl:active .ywp-btn-expand-xl{background-position:-151px -235px}.ywp-ltr .ywp-btn-disabled .ywp-btn-expand-xl,.ywp-rtl .ywp-btn-disabled .ywp-btn-expand-xl{background-position:-151px -279px!important}.ywp-ltr .ywp-expand-collapse-xl .ywp-btn-collapse-xl,.ywp-rtl .ywp-expand-collapse-xl .ywp-btn-collapse-xl,.ywp-rtl{background-position:-183px -150px}.ywp-ltr .ywp-expand-collapse-xl:hover .ywp-btn-collapse-xl,.ywp-rtl .ywp-expand-collapse-xl:hover .ywp-btn-collapse-xl{background-position:-183px -192px}.ywp-ltr .ywp-expand-collapse-xl:active .ywp-btn-collapse-xl,.ywp-expand-collapse-xl:active .ywp-btn-collapse-xl{background-position:-183px -235px}.ywp-ltr .ywp-btn-disabled .ywp-btn-collapse-xl,.ywp-rtl .ywp-btn-disabled .ywp-btn-collapse-xl{background-position:-183px -279px!important}.ywp-buffering span{filter:alpha(opacity=10);opacity:.1}.ywp-buffering .ywp-buffering-bead1{filter:alpha(opacity=100);opacity:.9}.ywp-buffering .ywp-buffering-bead2{filter:alpha(opacity=80);opacity:.7}.ywp-buffering .ywp-buffering-bead3{filter:alpha(opacity=60);opacity:.5}.ywp-buffering .ywp-buffering-bead4{filter:alpha(opacity=40);opacity:.3}.ywp-buffering .ywp-buffering-bead5{filter:alpha(opacity=20);opacity:.1}.ywp-info{font:normal 10px Arial}.ywp-info .ywp-thumbnail-default-img{background-position:-278px -2512px}.ywp-audio-pane .ywp-thumbnail-default-img{background-position:-25px -2446px}.ywp-playlist a{margin-top:1px}.ywp-playlist a.first{margin-top:0}.ywp-tray .ywp-video-pane-mode{text-align:center;font-weight:normal;font-family:Arial}.ywp-video-buffering{font-size:20px}.ywp-tray-pip .ywp-video-buffering{font-size:14px}.ywp-video-queued .ywp-video-queued-header{font-size:25px}.ywp-tray-pip .ywp-video-queued-header{font-size:12px}.ywp-video-queued .ywp-video-queued-play a{background-position:-26px -2116px}.ywp-video-queued-play a:hover{background-position:-26px -2200px}.ywp-video-queued-play a:active{background-position:-26px -2284px}.ywp-tray-pip .ywp-video-queued-play a{background-position:-139px -2142px}.ywp-tray-pip .ywp-video-queued-play a:hover{background-position:-139px -2183px}.ywp-tray-pip .ywp-video-queued-play a:active{background-position:-139px -2224px}.ywp-container .ywp-tray .ywp-button-list a{font-size:9px;font-weight:700}.ywp-tray .ywp-btn-playlist{background-position:-24px -1330px}.ywp-tray a:hover .ywp-btn-playlist{background-position:-24px -1370px}.ywp-tray a:active .ywp-btn-playlist{background-position:-24px -1411px}.ywp-tray .ywp-btn-related{background-position:-125px -1333px}.ywp-tray a:hover .ywp-btn-related{background-position:-125px -1372px}.ywp-tray a:active .ywp-btn-related{background-position:-125px -1411px}.ywp-page-play-pause .ywp-page-btn-play{background-position:-26px -1561px}.ywp-link-hover:hover .ywp-page-btn-play,.ywp-page-play-pause .ywp-page-btn-play:hover{background-position:-26px -1578px}.ywp-page-play-pause:active .ywp-page-btn-play{background-position:-26px -1596px}.ywp-page-play-pause .ywp-page-btn-pause{background-position:-45px -1561px}.ywp-link-hover:hover .ywp-page-btn-pause,.ywp-page-play-pause .ywp-page-btn-pause:hover{background-position:-45px -1578px}.ywp-page-play-pause:active .ywp-page-btn-pause{background-position:-45px -1596px}.ywp-expt-mode .ywp-page-audio .ywp-page-btn-play{background-position:-80px -1559px}.ywp-expt-mode .ywp-link-hover.ywp-page-audio:hover .ywp-page-btn-play,.ywp-expt-mode .ywp-page-audio .ywp-page-btn-play:hover{background-position:-80px -1576px}.ywp-expt-mode .ywp-page-play-pause.ywp-page-audio:active .ywp-page-btn-play{background-position:-80px -1593px}.ywp-expt-mode .ywp-page-audio .ywp-page-btn-pause{background-position:-99px -1559px}.ywp-expt-mode .ywp-link-hover.ywp-page-audio:hover .ywp-page-btn-pause,.ywp-expt-mode .ywp-page-audio .ywp-page-btn-pause:hover{background-position:-99px -1576px}.ywp-expt-mode .ywp-page-play-pause.ywp-page-audio:active .ywp-page-btn-pause{background-position:-99px -1593px}span.ywp-page-play-pause .ywp-btn-page-target,span.ywp-page-play-pause:hover .ywp-btn-page-target,span.ywp-page-play-pause:active .ywp-btn-page-target{background:url("+YMPParams.assetsroot+"/img/find-on-page.gif) no-repeat 0 0!important}span.ywp-page-img-link .ywp-btn-page-target .ywp-page-btn,span.ywp-page-img-link:hover .ywp-btn-page-target .ywp-page-btn,span.ywp-page-img-link:active .ywp-btn-page-target .ywp-page-btn{visibility:hidden}.ywp-expt-mode .ywp-page-video .ywp-page-btn-play{background-position:-131px -1559px}.ywp-expt-mode .ywp-link-hover.ywp-page-video:hover .ywp-page-btn-play,.ywp-expt-mode .ywp-page-video .ywp-page-btn-play:hover{background-position:-131px -1576px}.ywp-expt-mode .ywp-page-play-pause.ywp-page-video:active .ywp-page-btn-play{background-position:-131px -1593px}.ywp-expt-mode .ywp-page-video .ywp-page-btn-pause{background-position:-154px -1559px}.ywp-expt-mode .ywp-link-hover.ywp-page-video:hover .ywp-page-btn-pause,.ywp-expt-mode .ywp-page-video .ywp-page-btn-pause:hover{background-position:-154px -1576px}.ywp-expt-mode .ywp-page-play-pause.ywp-page-video:active .ywp-page-btn-pause{background-position:-154px -1593px}.ywp-page-play-pause .ywp-page-img-wrapper .ywp-page-btn-play{background-position:-194px -1528px!important}.ywp-link-hover:hover .ywp-page-img-wrapper .ywp-page-btn-play{background-position:-194px -1591px!important}.ywp-page-play-pause .ywp-page-img-wrapper .ywp-page-btn-pause{background-position:-256px -1528px!important}.ywp-link-hover:hover .ywp-page-img-wrapper .ywp-page-btn-pause{background-position:-256px -1591px!important}.ywp-page-play-pause .ywp-page-img-small .ywp-page-btn-play{background-position:-448px -1528px!important}.ywp-link-hover:hover .ywp-page-img-small .ywp-page-btn-play{background-position:-448px -1591px!important}.ywp-page-play-pause .ywp-page-img-small .ywp-page-btn-pause{background-position:-490px -1528px!important}.ywp-link-hover:hover .ywp-page-img-small .ywp-page-btn-pause{background-position:-490px -1591px!important}.ywp-body .ywp-track-btns .ywp-error-level-error{background-position:-24px -1688px}.ywp-body .ywp-track-btns .ywp-error-level-warning{background-position:-54px -1688px}.ywp-tray .ywp-track-btns .ywp-error-level-error{background-position:-24px -1710px}.ywp-tray .ywp-track-btns .ywp-error-level-warning{background-position:-54px -1710px}.ywp-error-bubble .ywp-error-msg{padding:10px;font:normal 12px Arial}.ywp-error-bubble .ywp-error-msg a{text-decoration:underline}.yptw a.ywp-entity,.yptw a.ywp-entity:visited,.yptw a.ywp-entity:hover{text-decoration:none!important;border:none!important;border-bottom-style:dashed!important;border-bottom-width:1px!important}.ywp-playlist .ywp-playlist-arrow{background-position:-31px -1985px}.ywp-playlist .ywp-playlist-arrow-open{background-position:-31px -2007px}.ywp-playlist .ywp-gradient-fix-wrapper{display:block;padding-left:20px}.ywp-container .ywp-ad-countdown{font-size:13px}.ywp-ad-countdown .ywp-ad-countdown-main em,.ywp-ad-countdown .ywp-ad-countdown-main span{font-weight:bold}.ywp-ad-countdown .ywp-ad-countdown-up-next{font-size:12px}.ywp-interstitial-mode .ywp-interstitial{font-family:Arial;font-size:14px}.ywp-int-play-next .ywp-int-pn-countdown-pause,.ywp-int-content .ywp-int-btns .ywp-int-btn-replay{font-weight:bold}.ywp-int-content .ywp-int-play-next .ywp-int-pn-countdown-pause .ywp-int-pn-pause{font-size:12px;text-decoration:underline}.ywp-related-hover-play,.ywp-int-play-next .ywp-int-pn-med-thumb-content{background-color:rgba(0,0,0,.8)!important;background-color:#000;background:none\9;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#CC000000,endColorstr=#CC000000)}.ywp-int-play-next .ywp-int-pn-med-thumb-content{font-size:11px}.ywp-int-btn-replay .ywp-int-btn-replay-img{background-position:-76px -1328px}.ywp-int-btn-replay:hover .ywp-int-btn-replay-img{background-position:-76px -1368px}.ywp-int-btn-replay:active .ywp-int-btn-replay-img{background-position:-76px -1407px}.ywp-int-play-next .ywp-int-pn-audio-thumbnail{background-position:-24px -2676px}.ywp-int-play-next .ywp-int-pn-video-thumbnail{background-position:-24px -2812px}.ywp-int-play-next .ywp-int-pn-med-playIcon{background-position:-207px -2148px}.ywp-int-pn-media-thumbnail:hover .ywp-int-pn-med-playIcon{background-position:-207px -2189px}ywp-int-pn-media-thumbnail:active .ywp-int-pn-med-playIcon{background-position:-207px -2230px}.ywp-int-related-media .ywp-int-related-prev{background-position:-146px -1138px}.ywp-int-related-media .ywp-int-related-prev:hover{background-position:-146px -1184px}.ywp-int-related-media .ywp-int-related-prev:active{background-position:-146px -1094px}.ywp-int-related-media .ywp-int-related-next{background-position:-192px -1138px}.ywp-int-related-media .ywp-int-related-next:hover{background-position:-192px -1184px}.ywp-int-related-media .ywp-int-related-next:active{background-position:-192px -1094px}.ywp-related-carousel-item .ywp-related-img{background-position:-243px -2829px}.ywp-int-related-media,.ywp-int-related-media a{font-family:Arial}.ywp-related-carousel-item .ywp-related-title,.ywp-related-carousel-item .ywp-related-duration{font-size:11px}.ywp-related-hover-play{font-weight:bold;font-size:12px}.ywp-related-hover-play span{background-position:-255px -2151px}.ywp-int-related-carousel-header{font-weight:bold}.ywp-interstitial .ywp-related-thumbnail,.ywp-interstitial .ywp-int-pn-media-thumbnail-img{image-rendering:optimizeQuality;-ms-interpolation-mode:bicubic}.ywp-lte-ie8 .ywp-gradient-fix-wrapper{height:100%}","quirks":".ywp-container{position:absolute}.ywp-container .ywp-bottom-ad,.ywp-container .ywp-tray{height:1px;margin-top:-1px}.ywp-tray .ywp-tray-content-close{position:relative;float:right;top:-21px;left:-100px}.ywp-media-content-pane .ywp-tray-content-close{display:none}.ywp-container .ywp-tray{white-space:normal}.ywp-container .ywp-player{overflow:hidden}","xl":'.ywp-xl-mode .ywp-tray .ywp-button-list,.ywp-xl-mode .ywp-tray .ywp-tray-content-pane,.ywp-xl-mode .ywp-btn-expand-collapse-player{display:none}.ywp-xl-mode .ywp-player,.ywp-xl-mode .ywp-tray{width:auto;height:auto}.ywp-xl-mode{padding:0;top:0;left:0;height:100%;width:100%;background:rgba(0,0,0,0.8);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#aa000000,endColorstr=#aa000000);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#aa000000,endColorstr=#aa000000)";cursor:pointer;z-index:2147483647}.ywp-xl-mode .ywp-player{background:none;filter:none;cursor:pointer}.ywp-xl-mode .ywp-hdr .ywp-hdr-logo{top:0;left:0;padding-bottom:10px}.ywp-xl-mode .ywp-hdr .ywp-hdr-btns{display:none}.ywp-xl-mode .ywp-body{padding-top:10px;width:550px;float:none;display:block;margin:auto;-moz-border-radius:5px;-webkit-border-radius:5px;-o-border-radius:5px;border-radius:5px}.ywp-xl-mode .ywp-body .ywp-body-buttons,.ywp-xl-mode .ywp-body .ywp-info{filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);-ms-filter:"progid:DXImageTransform.Microsoft.gradient(enabled = false)"}.ywp-xl-mode .ywp-tray-wrapper{margin-bottom:35px;width:auto;cursor:auto}.ywp-xl-mode .ywp-tray .ywp-media-content-pane{margin:0}.ywp-xl-mode .ywp-tray-wrapper,.ywp-xl-mode .ywp-tray .ywp-media-content-pane,.ywp-xl-mode .ywp-tray .ywp-video-pane{min-width:550px;min-height:320px;max-width:1440px;max-height:812px}.ywp-xl-mode .ywp-player{max-width:1440px}html .ywp-xl-mode .ywp-player{-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none}.ywp-xl-mode .ywp-video-queued .ywp-video-queued-header{margin-top:20%}.ywp-xl-mode .ywp-video-queued .ywp-video-queued-header,.ywp-xl-mode .ywp-video-buffering{font-size:35px}.ywp-xl-mode .ywp-player-shim{display:none}.ywp-xl-shim-on{display:block;position:fixed}.ywp-body-xl-mode .ptw-topmost-youtube{visibility:hidden}'};
YAHOO.mediaplayer.version="0.9.18";(function(){var YWA;if(typeof YWA==="undefined"){YWA={};YWA.initialize=function(){var nan;YWA.ud="undefined";YWA.EXCLPRM="";YWA.ONLOAD=true;YWA.PID=YWA.ud;YWA.flashVer="";YWA.isOnloadOverwrite=false;YWA.windowOnload=null;YWA.errorId="";YWA.isNewYWATEnabled=false;YWA.windowOnerror=null;if(typeof window.ITTs==="undefined"){window.ITTs=[];}nan=navigator.appName;YWA.net=(nan==="Netscape");YWA.mic=(nan.substring(0,9)==="Microsoft"&&(typeof navigator.plugins===YWA.ud||navigator.plugins.length===0));YWA.mac=(navigator.userAgent.indexOf("Mac")>=0);YWA.gec=(navigator.userAgent.indexOf("Firefox")>=0||navigator.userAgent.indexOf("Netscape")>=0);YWA.ehDocVisibilityChange=function(e){var idx,ittl;if(!YWA.isPrerender){return;}for(idx=0,ittl=window.ITTs.length;idx<ittl;idx+=1){if(window.ITTs[idx].submit!==undefined){window.ITTs[idx].submit();}}YWA.isPrerender=false;};YWA.isDocVisibilityEqualsTo=function(v){if(v!=="visible"&&v!=="hidden"&&v!=="preview"&&v!=="prerender"){return false;}return((document.webkitVisibilityState!==undefined&&document.webkitVisibilityState===v)||(document.visibilityState!==undefined&&document.visibilityState===v));};YWA.isPrerender=YWA.isDocVisibilityEqualsTo("prerender");if(document.attachEvent){document.attachEvent("webkitvisibilitychange",YWA.ehDocVisibilityChange);document.attachEvent("visibilitychange",YWA.ehDocVisibilityChange);}if(document.addEventListener){document.addEventListener("webkitvisibilitychange",YWA.ehDocVisibilityChange,false);document.addEventListener("visibilitychange",YWA.ehDocVisibilityChange,false);}YWA.addOLH();};YWA.ywaOLH=function(evt){if(YWA.windowOnload){YWA.windowOnload.call(window,evt);}if(YWA.ONLOAD){YWA.addOCHs();}window.onload=YWA.windowOnload;};YWA.addOLH=function(){if(YWA.isOnloadOverwrite){return;}var a=[];if(window.screen||a.toSource||(a.shift&&YWA.mic)){if(window.onload){if(!YWA.windowOnload){YWA.windowOnload=window.onload;}}window.onload=YWA.ywaOLH;}YWA.isOnloadOverwrite=true;};YWA.initialize();}YWA.ywaOCH=function(evt){var idx,rv,ittl;rv=true;for(idx=0,ittl=window.ITTs.length;idx<ittl;idx+=1){window.ITTs[idx].oco(this);}if(this.ywaOnClick){rv=this.ywaOnClick(evt);}return rv;};YWA.addOCHs=function(){if(YWA.isOnloadOverwrite){var i,ln;for(i=0,ln=document.links.length;i<ln;i+=1){if(document.links[i].onclick){document.links[i].ywaOnClick=document.links[i].onclick;}document.links[i].onclick=YWA.ywaOCH;}}};YWA.ywaOEH=function(){if(YWA.errorId!==""){window.ITTs[YWA.errorId].track(false,true);}};YWA.getTrackerIdx=function(pid){var idx,ittl;for(idx=0,ittl=window.ITTs.length;idx<ittl;idx+=1){if(window.ITTs[idx].PID===pid){return idx;}}return -1;};YWA.getTracker=function(pid){var rst,idx;YWA.isNewYWATEnabled=true;if(!YWA.is(pid)){pid=YWA.PID;}idx=YWA.getTrackerIdx(pid);if(idx>=0){rst=window.ITTs[idx];}else{rst=new YWAT(pid);}YWA.isNewYWATEnabled=false;return rst;};YWA.is=function(o){return(typeof o!==YWA.ud);};YWA.getExcludePrm=function(){return YWA.EXCLPRM;};YWA.setExcludePrm=function(e){YWA.EXCLPRM=YWA.is(e)?e:"";};YWA.getOnload=function(){return YWA.ONLOAD;};YWA.setOnload=function(o){YWA.ONLOAD=YWA.is(o)?o:true;};YWA.getPID=function(){if(YWA.is(document.scripts)){var idx,src,jsFile,prePath,sl;jsFile="ywa.js";prePath="ywa-";for(sl=document.scripts.length,idx=sl-1;idx>=0;idx-=1){src=document.scripts[idx].src;if(YWA.is(src)&&src.indexOf(jsFile)===src.length-jsFile.length){src=src.substr(0,src.length-jsFile.length-1);src=src.substr(src.lastIndexOf("/")+1+prePath.length);return"1000"+src;}}}return YWA.ud;};YWA.getPID();YWA.getExcludeDomains=function(){return"";};YWA.getExcludeProtocol=function(){return"";};YWA.getDownloadExts=function(){return"\\.pdf$|\\.doc$|\\.dot$|\\.xls$|\\.xlt$|\\.xlw$|\\.ppt$|\\.pps$|\\.zip$|\\.rar$|\\.gz$|\\.gzip$|\\.wav$|\\.mp[3-4]?$|\\.mpeg$";};YWA.getErrorObj=function(msg){var err;err=new Error(msg);if(!err.msg){err.msg=msg;}return err;};YWA.gcpn=function(x){var k,l,z,i,j;z=location.search;i=z.indexOf("?"+x+"=");j=z.indexOf("&"+x+"=");if((i===0)||(j>-1)){k=(i===0)?0:j;l=z.indexOf("&",k+1);return z.substring(k+2+x.length,(l>-1)?l:z.length);}return"";};YWA.getFileName=function(x){var i;i=x.indexOf("?");if(i>0){x=x.substring(0,i);}return x.substring(x.lastIndexOf("/")+1,x.length);};YWA.gh=function(x){var i;i=x.host.indexOf(":");return(i>=0)?x.host.substring(0,i):x.host;};YWA.ghs=function(x){var i;i=x.indexOf("//");if(i>=0){x=x.substring(i+2,x.length);i=x.indexOf("/");if(i>=0){return x.substring(0,i);}return x.substring(i+2,x.length);}return"";};YWA.gpr=function(x){var y,i;y=x.protocol;i=y.indexOf(":");return(i>=0)?y:y+":";};YWA.gp=function(x){var y,i;y=x.pathname;i=y.indexOf("/");return(i===0)?y:"/"+y;};YWA.mxDmnRGXP=function(v){if(v.toUpperCase().indexOf("REGEXP:")===0){return new RegExp(v.substring(7),"i");}else{return new RegExp(YWA.mxRgXpStr(v),"i");}};YWA.mxRgXpStr=function(e){while(e.indexOf(" ")>=0){e=e.replace(" ","");}var i,j,b,bl,r,a,al;r="";a=e.split(",");for(i=0,al=a.length;i<al;i+=1){b=a[i].split(".");for(j=0,bl=b.length;j<bl;j+=1){if(b[j].indexOf("*")>=0){b[j]=".+";}}if(bl>0){a[i]=b.join("\\.");}}if(al>0){r+=a.join("$|^");}if(r.length>0){return"^"+r+"$";}return"";};function YWAT(pid){if(!YWA.isNewYWATEnabled){throw YWA.getErrorObj("Invalid method to get a tracking object.");}var i,heads;this.version="5.19";this.EXCLDOMAINS="";this.DWNLEXTS="";this.EXCLPRM=YWA.getExcludePrm();this.EXCLPRTCL="";this.ONLOAD=YWA.getOnload();this.DOMAINS="";this.DEBUG=false;this.RUN=false;if(!YWA.is(pid)){this.PID=YWA.getPID();this.RUN=this.PID===YWA.ud;}else{this.PID=pid;}if(window.location.protocol.indexOf("https:")===0){this.BD="https://o.analytics.yahoo.com";}else{this.BD="http://o.analytics.yahoo.com";}this.BU=this.BD+"/p.pl?a="+this.PID+"&v="+this.version;this.FU="";this.URL=this.getClnUrl(document.URL?document.URL:document.location);this.REFERRER="";this.TOPLOCATION="";this.cfn=[];this.cfv=[];this.IT="";this.date=new Date();this.PIXELDELAY=false;this.DOCUMENTNAME=document.title;this.CAMPAIGN="";
this.CMPPARM="";this.PROMO="";this.PROMOPARM="";this.TPSC=true;this.EXCL="";this.FPCR="";this.FPCN="fpc"+this.PID;this.FPCV="";this.FPCD="";this.FPCP="/";this.ENC="";this.itvs="";this.itsid="";this.itvid="";this.place=document.body;try{heads=document.getElementsByTagName("head");if(YWA.is(heads)&&heads.length>0){this.place=heads[0];}}catch(e){}this.FLV=this.flash();if(!YWA.is(window.ITTs)){window.ITTs=[];}this.idx=window.ITTs.length;window.ITTs[this.idx]=this;this.ita=["DOCUMENTNAME","b","DOCUMENTGROUP","c","MEMBERID","m","URL","f","ACTION","x","AMOUNT","xa","ORDERID","oc","TAX","xt","SHIPPING","xs","DISCOUNT","xd","SKU","p","PRODUCTS","u","UNITS","q","AMOUNTS","r","CMPQUERY","cq","ISK","isk","ISR","isr"];this.prmord=["a","v","b","c","m","f","e","t","n","d","cp","cq","scp","ci","enc","x","sid","ca","oc","p","q","r","xa","xd","xs","xt","el","fn","flv","fpc","isk","isr","g","h","ittidx","ix","j","k","l","tp","nr","js","cf01","cf02","cf03","cf04","cf05","cf06","cf07","cf08","cf09","cf10","cf11","cf12","cf13","cf14","cf15","cf16","cf17","cf18","cf19","cf20","cf21","cf22","cf23","cf24","cf25","cf26","cf27","cf28","cf29","cf30","cf31","cf32","cf33","cf34","cf35","cf36","cf37","cf38","cf39","cf40","cf41","cf42","cf43","cf44","cf45","cf46","cf47","cf48","cf49","cf50","cf51","cf52","cf53","cf54","cf55","cf56","cf57","cf58","cf59","cf60","cf61","cf62","cf63","cf64","cf65","cf66","cf67","cf68","cf69","cf70","cf71","cf72","cf73","cf74","cf75","cf76","cf77","cf78","cf79","cf80","cf81","cf82","cf83","cf84","cf85","cf86","cf87","cf88","cf89","cf90","cf91","cf92","cf93","cf94","cf95","cf96","cf97","cf98","cf99","cf100"];for(i=0;i<10;i+=1){this.ita[this.ita.length]="P"+(1+i);this.ita[this.ita.length]="p"+(1+i);}for(i=0;i<99;i+=1){this.ita[this.ita.length]="CF"+((i<9)?"0":"")+(1+i);this.ita[this.ita.length]="cf"+(1+i);}this.imgsl=0;if(YWA.is(document.charset)){this.ENC=document.charset;}else{if(YWA.is(document.characterSet)){this.ENC=document.characterSet;}else{this.ENC="";}}this.FPCR="&ittidx="+this.idx+"&fpc="+encodeURIComponent(this.getCookie(this.FPCN));this.hasFPC=false;}YWAT.prototype.getDocumentName=function(){return this.DOCUMENTNAME;};YWAT.prototype.setDocumentName=function(dn){this.DOCUMENTNAME=dn;};YWAT.prototype.getDocumentGroup=function(){return this.DOCUMENTGROUP;};YWAT.prototype.setDocumentGroup=function(dg){this.DOCUMENTGROUP=dg;};YWAT.prototype.getMemberId=function(){return this.MEMBERID;};YWAT.prototype.setMemberId=function(m){this.MEMBERID=m;};YWAT.prototype.getAction=function(){return this.ACTION;};YWAT.prototype.setAction=function(a){this.ACTION=a;};YWAT.prototype.getAmount=function(){return this.AMOUNT;};YWAT.prototype.setAmount=function(a){this.AMOUNT=a;};YWAT.prototype.getOrderId=function(){return this.ORDERID;};YWAT.prototype.setOrderId=function(oi){this.ORDERID=oi;};YWAT.prototype.getTax=function(){return this.TAX;};YWAT.prototype.setTax=function(t){this.TAX=t;};YWAT.prototype.getShipping=function(){return this.SHIPPING;};YWAT.prototype.setShipping=function(s){this.SHIPPING=s;};YWAT.prototype.getDiscount=function(){return this.DISCOUNT;};YWAT.prototype.setDiscount=function(d){this.DISCOUNT=d;};YWAT.prototype.getSKU=function(){return this.SKU;};YWAT.prototype.setSKU=function(s){this.SKU=s;};YWAT.prototype.getUnits=function(){return this.UNITS;};YWAT.prototype.setUnits=function(u){this.UNITS=u;};YWAT.prototype.getAmounts=function(){return this.AMOUNTS;};YWAT.prototype.setAmounts=function(a){this.AMOUNTS=a;};YWAT.prototype.getCmpQuery=function(){return this.CMPQUERY;};YWAT.prototype.setCmpQuery=function(c){this.CMPQUERY=c;};YWAT.prototype.getISK=function(){return this.ISK;};YWAT.prototype.setISK=function(i){this.ISK=i;};YWAT.prototype.getISR=function(){return this.ISR;};YWAT.prototype.setISR=function(i){this.ISR=i;};YWAT.prototype.getEF=function(n){n=parseInt(n,10);return this["P"+n];};YWAT.prototype.setEF=function(n,v){n=parseInt(n,10);this["P"+n]=v;};YWAT.prototype.getCF=function(n){n=parseInt(n,10);return this["CF"+((n<10)?"0":"")+n];};YWAT.prototype.setCF=function(n,v){n=parseInt(n,10);this["CF"+((n<10)?"0":"")+n]=v;};YWAT.prototype.getDebug=function(){return this.DEBUG;};YWAT.prototype.setDebug=function(d){this.DEBUG=YWA.is(d)?d:false;};YWAT.prototype.getRun=function(){return this.RUN;};YWAT.prototype.setRun=function(r){if(!YWA.is(r)||r){this.RUN=this.PID!==YWA.ud;}else{this.RUN=false;}};YWAT.prototype.getUrl=function(){return this.URL;};YWAT.prototype.setUrl=function(u){this.URL=this.getClnUrl(u);};YWAT.prototype.getEncoding=function(){return this.ENC;};YWAT.prototype.setEncoding=function(e){if(YWA.is(e)){this.ENC=e;}else{this.ENC="";}};YWAT.prototype.getCookieDomain=function(){return this.FPCD;};YWAT.prototype.setCookieDomain=function(d){if(YWA.is(d)&&d!==""){this.FPCD=d;}else{this.FPCD="";}};YWAT.prototype.getCookiePath=function(){return this.FPCP;};YWAT.prototype.setCookiePath=function(p){if(YWA.is(p)&&p!==""){if(p.charAt(0)!=="/"){p="/"+p;}this.FPCP=p;}else{this.FPCP="/";}};YWAT.prototype.getTPSC=function(){return this.TPSC;};YWAT.prototype.setTPSC=function(n){this.TPSC=YWA.is(n)?n:true;};YWAT.prototype.getReferrer=function(){return this.REFERRER;};YWAT.prototype.setReferrer=function(r){if(YWA.is(r)&&r.length>0){this.REFERRER=r;}};YWAT.prototype.getPixelDelay=function(){return this.PIXELDELAY;};YWAT.prototype.setPixelDelay=function(d){this.PIXELDELAY=YWA.is(d)?d:false;};YWAT.prototype.getDomains=function(){return this.DOMAINS;};YWAT.prototype.setDomains=function(d){this.DOMAINS=(YWA.is(d)&&d!=="")?d:YWA.ud;};YWAT.prototype.getFlashUrl=function(){return this.FU;};YWAT.prototype.setFlashUrl=function(u){this.FU=YWA.is(u)?u:"";};YWAT.prototype.getExcludeDomains=function(){var d;d=YWA.getExcludeDomains();d+=(d.length>0&&this.EXCLDOMAINS.length>0?",":"")+this.EXCLDOMAINS;return d;};YWAT.prototype.addExcludeDomain=function(d){this.EXCLDOMAINS+=(this.EXCLDOMAINS.length>0?",":"")+d;};YWAT.prototype.removeExcluseDomain=function(d){var i,ds1,ds2,ds1l;ds1=this.EXCLDOMAINS.split(",");ds2=[];
for(i=0,ds1l=ds1.length;i<ds1l;i+=1){if(ds1[i]!==d){ds2[ds2.length]=ds1[i];}}this.EXCLDOMAINS=ds2.join(",");};YWAT.prototype.getDownloadExts=function(){var e;e=YWA.getDownloadExts();e+=(e.length>0&&this.DWNLEXTS.length>0?"|":"")+this.DWNLEXTS;return e;};YWAT.prototype.addDownloadExt=function(e){var i,c,e1,e2,e1l;e1=e.toLowerCase();e2="";for(i=0,e1l=e1.length;i<e1l;i+=1){c=e1.charAt(i);if((c>="a"&&c<="z")||(c>="0"&&c<="9")||c==="-"||c==="_"){e2+=c;}}this.DWNLEXTS+=(this.DWNLEXTS.length>0?"|":"")+"\\."+e2+"$";};YWAT.prototype.removeDownloadExt=function(e){var i,es1,es2,es1l;es1=this.DWNLEXTS.split("|");es2=[];for(i=0,es1l=es1.length;i<es1l;i+=1){if(es1[i]!=="\\."+e.toLowerCase()+"$"){es2[es2.length]=es1[i];}}this.DWNLEXTS=es2.join("|");};YWAT.prototype.getExcludeProtocol=function(){var p;p=YWA.getExcludeProtocol();p+=(p.length>0&&this.EXCLPRTCL.length>0?",":"")+this.EXCLPRTCL;return p;};YWAT.prototype.addExcludeProtocol=function(e){this.EXCLPRTCL+=(this.EXCLPRTCL.length>0?",":"")+e.toLowerCase();};YWAT.prototype.removeExcludeProtocol=function(e){var i,es1,es2,es1l;es1=this.EXCLPRTCL.split(",");es2=[];for(i=0,es1l=es1.length;i<es1l;i+=1){if(es1[i]!==e.toLowerCase()){es2[es2.length]=es1[i];}}this.EXCLPRTCL=es2.join(",");};YWAT.prototype.isProtocolExcluded=function(){var ep;ep=","+this.getExcludeProtocol()+",";return ep.indexOf(","+window.location.protocol+",")>=0;};YWAT.prototype.pp=function(){var i,ital,its;its=[];for(i=0,ital=this.ita.length;i+1<ital;i+=2){if((YWA.is(this[this.ita[i]]))&&(this[this.ita[i]]!=="")){its[i]="&"+this.ita[i+1]+"="+encodeURIComponent(this[this.ita[i]]);}}this.IT+=its.join("");};YWAT.prototype.reset=function(){var i,ital;for(i=8,ital=this.ita.length;i+1<ital;i+=2){if((YWA.is(this[this.ita[i]]))&&(this[this.ita[i]]!=="")){this[this.ita[i]]="";}}};YWAT.prototype.flash=function(){if(YWA.flashVer===""){var swVer2,fd,np;fd="";np=navigator.plugins;if(typeof np!==YWA.ud&&np!==null&&np.length>0){if(np["Shockwave Flash 2.0"]||np["Shockwave Flash"]){swVer2=np["Shockwave Flash 2.0"]?" 2.0":"";fd=np["Shockwave Flash"+swVer2].description;}}else{sVBSwfVer=function(i){var swC,swV;swV=0;swC=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+i);if(swC!==null&&typeof swC!=="undefined"){swV=swC.GetVariable("$version");}return swV;};try{fd=sVBSwfVer(1);}catch(e){fd="unknown";}}YWA.flashVer=fd;}return YWA.flashVer;};YWAT.prototype.setCookie=function(name,value,off){var expiry,cookie,d;d=new Date();d.setTime(d.getTime()+(off*1000));expiry=(off>0)?"; expires="+d.toGMTString():"";if(off<0){expiry="; expires=Thu, 01-Jan-1970 00:00:01 GMT";}cookie=name+"="+value+expiry+"; path="+this.FPCP+((this.FPCD!=="")?("; domain="+this.FPCD):(""));document.cookie=cookie;};YWAT.prototype.deleteCookie=function(name){return this.setCookie(name,"1",-1);};YWAT.prototype.getCookie=function(name){var start,end,dc,pos;dc=document.cookie;pos=dc.indexOf(name+"=");if(pos!==-1){start=pos+name.length+1;end=dc.indexOf(";",start);if(end===-1){end=dc.length;}return dc.substring(start,end);}return"";};YWAT.prototype.FPCSupport=function(){if(this.getCookie(this.FPCN)!==""){return true;}var dr,dn,d,dt;dn="itfpctmp";d=new Date();dt="fpc-"+d.getTime();this.setCookie(dn,dt,180);dr=this.getCookie(dn);if(dr===dt){this.deleteCookie(dn);return true;}return false;};YWAT.prototype.trunc=function(x,z){var url,qry,prms,x2,idx1,idx2,isAmp,prmordl,prmsl;if(x.length<=z){return x;}url=x.split("?");if(url.length>1){x2=url[0]+"?";qry=url[1];prms=qry.split("&");prms.sort();isAmp=false;prmsl=prms.length;for(idx1=0,prmordl=this.prmord.length;idx1<prmordl;idx1+=1){for(idx2=0;idx2<prmsl;idx2+=1){if(prms[idx2].indexOf(this.prmord[idx1]+"=")===0){if(x2.length+"&".length+prms[idx2].length>z){return x2+"&trnc=1";}x2+=(isAmp?"&":"")+prms[idx2];isAmp=true;break;}}}return x2;}else{return x;}};YWAT.prototype.chkl0=function(x,y,z,Z,r){var i,d,l1,l2,k,bbf,iq,ik,x2,xl,yl;for(i=0,yl=y.length,xl=x.length;i<yl&&xl>z;i+=1){d=x.length-z;l1=x.indexOf("&"+y[i]+"=");if(l1>0){l1+=y[i].length+2;l2=x.indexOf("&",l1);if(l2>0){bbf=l1;iq=x.toLowerCase().indexOf("%3f",l1);ik=x.toLowerCase().indexOf("%3d",l1);if(l2-l1>d+r.length+Z){l1+=l2-l1-d-r.length;for(k=1;k<10;k+=1){if(x.charAt(l1-k)==="%"){l1-=k;break;}}}else{if(l2-l1>Z){l1+=Z;for(k=1;k<10;k+=1){if(x.charAt(l1-k)==="%"){l1-=k;break;}}}else{continue;}}x2=x.substring(0,l1);if(iq>0&&iq<l2){if(ik<0||ik>l2){x2+="%3D";}x2+="%26";}x2+=r;x2+=x.substring(l2);x=x2;}}}if(x.length>z){return this.chkl(x,y,z,Z/2,r);}return x;};YWAT.prototype.chkl=function(x,y,z,Z,r){x=this.chkl0(x,y,z,Z,r);if(x.length>z){x=this.chkl0(x,y,z,Z/2,r);}return x;};YWAT.prototype.trk=function(s){var s2,i;if(YWA.isDocVisibilityEqualsTo("prerender")){return;}s2=this.trunc(this.BU+(!this.TPSC?"&tp=0":"")+"&enc="+encodeURIComponent(this.ENC)+this.IT+s+"&ix="+this.imgsl+this.FPCR,2000);if(!this.isProtocolExcluded()){this.imgsl+=1;if(this.DEBUG){window.alert(s2);}else{i=new Image();if(YWA.net||this.PIXELDELAY){window.setTimeout(function(){i.src=s2;},1);}else{i.src=s2;}window.setTimeout(function(){i=null;},10000);}}else{if(this.DEBUG){window.alert("'"+s2+"' isn't tracked because of excluded protocol.");}}this.reset();this.IT="";return s2;};YWAT.prototype.gcpn=function(x){return YWA.gcpn(x);};YWAT.prototype.getFileName=function(x){return YWA.getFileName(x);};YWAT.prototype.gh=function(x){return YWA.gh(x);};YWAT.prototype.ghs=function(x){return YWA.ghs(x);};YWAT.prototype.gpr=function(x){return YWA.gpr(x);};YWAT.prototype.gp=function(x){return YWA.gp(x);};YWAT.prototype.mxDmnRGXP=function(v){return YWA.mxDmnRGXP(v);};YWAT.prototype.mxRgXpStr=function(e){return YWA.mxRgXpStr(e);};YWAT.prototype.customfield_reset=function(){this.cfn.length=0;this.cfv.length=0;};YWAT.prototype.customfield_set=function(n,v){this.cfn[this.cfn.length]=n;this.cfv[this.cfv.length]=v;};YWAT.prototype.cf_ts=function(){var i,u,cfnl,cfvl;u="&cf=1";for(i=0,cfnl=this.cfn.length,cfvl=this.cfv.length;i<cfnl&&i<cfvl;i+=1){u+="&cn"+i+"="+encodeURIComponent(this.cfn[i])+"&cv"+i+"="+encodeURIComponent(this.cfv[i]);
}return u;};YWAT.prototype.submit_customfield=function(){if(this.cfn.length>0&&this.cfv.length>0){var u;u=this.cf_ts();this.customfield_reset();this.pp();this.trk(u);}};YWAT.prototype.submit_action=function(){this.pp();this.trk("&ca=1");};YWAT.prototype.submit_icmp=function(){this.pp();this.trk("&ci=1");};YWAT.prototype.exitlink=function(ln){this.pp();this.trk("&el="+encodeURIComponent(ln));};YWAT.prototype.el=function(x){var pt;if(YWA.gh(location)===YWA.gh(x)){return true;}if(!this.isProtocolExcluded()){pt=(YWA.is(this.DOMAINS)&&this.DOMAINS!=="")?YWA.mxDmnRGXP(this.DOMAINS):YWA.mxDmnRGXP(YWA.gh(location));}else{pt=YWA.mxDmnRGXP("protocolexclusion");}if(pt.test(YWA.gh(x))){return true;}if(x.href.indexOf("java")!==0){this.exitlink(x.href);}return true;};YWAT.prototype.download=function(fn){this.pp();this.trk("&fn="+encodeURIComponent(fn));};YWAT.prototype.oco=function(x){var pt,fn,excl;if(!this.ONLOAD){return true;}excl=this.getExcludeDomains();if(excl!==""){pt=YWA.mxDmnRGXP(excl);if(pt.test(YWA.gh(x))){if(this.DEBUG){window.alert("'"+YWA.gh(x)+"' isn't tracked as exitlink.");}return true;}}if(YWA.is(x.pathname)){fn=YWA.getFileName(x.pathname);if(fn!==""){pt=new RegExp(this.getDownloadExts(),"i");if(pt.test(fn)&&(fn.indexOf(".")!==-1)){if(((this.EXCL!=="")&&(!YWA.mxDmnRGXP(this.EXCL).test(x.pathname)))||(this.EXCL.length===0)){this.download(x.href);}}else{this.el(x);}}else{this.el(x);}}};YWAT.prototype.track=function(d,i){var cs,pt,t,r,its;t="";r=document.referrer;YWA.errorId=this.idx;its=[];if(YWA.is(this.REFERRER)&&this.REFERRER.length>0){r=this.REFERRER;}else{if((navigator.userAgent.indexOf("Mac")>=0)&&(navigator.userAgent.indexOf("MSIE 4")>=0)){r=document.referrer;}else{if(d){YWA.windowOnerror=window.onerror;window.onerror=YWA.ywaOEH;if(document.location!==top.location){try{r=top.document.referrer;t=top.location.href;}catch(e2){its[0]="&nr=webkit";}}}else{its[0]="&nr=t";}}}if(YWA.windowOnerror){window.onerror=YWA.windowOnerror;}else{window.onerror=null;}this.pp();if(r.length>0){pt=YWA.is(this.DOMAINS)?YWA.mxDmnRGXP(this.DOMAINS):YWA.mxDmnRGXP(YWA.gh(location));its[1]="&e="+encodeURIComponent(this.trunc(pt.test(YWA.ghs(r))?this.getClnUrl(r):r,200));}if(t.length>0){its[2]="&t="+encodeURIComponent(t);}cs=this.FPCSupport();this.date=new Date();its[3]="&flv="+encodeURIComponent(this.FLV);its[4]="&d="+encodeURIComponent(this.date.toGMTString());its[5]="&n="+encodeURIComponent(parseInt(this.date.getTimezoneOffset()/60,10));its[6]="&g="+encodeURIComponent(YWA.net?navigator.language:navigator.userLanguage);its[7]="&h="+encodeURIComponent((navigator.javaEnabled()?"Y":"N"));try{its[8]="&j="+encodeURIComponent(screen.width+"x"+screen.height);its[9]="&k="+encodeURIComponent(YWA.mic?screen.colorDepth:screen.pixelDepth);}catch(e){}its[10]="&l="+((cs)?"true":"false");if(this.CAMPAIGN!==""){its[11]="&cp="+encodeURIComponent(this.CAMPAIGN);}if(this.CMPPARM!==""){its[12]="&cp="+encodeURIComponent(YWA.gcpn(this.CMPPARM));}if(this.PROMO!==""){its[13]="&scp="+encodeURIComponent(this.PROMO);}if(this.PROMOPARM!==""){its[14]="&scp="+encodeURIComponent(YWA.gcpn(this.PROMOPARM));}this.IT+=its.join("");if(this.RUN){return;}if(cs&&i){this.fpc();}else{this.trk("");}YWA.errorId="";};YWAT.prototype.submitPT=function(){return this.submit(false);};YWAT.prototype.submit=function(fpc){var t;t=(typeof fpc).toLowerCase();if(t==="undefined"||t!=="boolean"){fpc=true;}fpc=(this.hasFPC?false:fpc);return this.track(true,fpc);};YWAT.prototype.fpc=function(){this.getFPCvars();};YWAT.prototype.ywaW3C=function(mode){var idScr,m_url,urls;if(YWA.isDocVisibilityEqualsTo("prerender")){return;}urls=[];urls[0]=this.BD;urls[1]="/fpc.pl?a=";urls[2]=this.PID;urls[3]="&v=";urls[4]=this.version;if(!this.TPSC){urls[5]="&tp=0";}urls[6]="&enc=";urls[7]=encodeURIComponent(this.ENC);urls[8]=this.IT;urls[9]=this.FPCR;m_url=this.trunc(urls.join(""),2000);if(!this.isProtocolExcluded()){if(mode===0){if(!this.DEBUG){idScr=document.createElement("SCRIPT");idScr.defer=true;idScr.type="text/javascript";idScr.src=m_url;this.place.appendChild(idScr);this.hasFPC=true;}else{window.alert(m_url);}}else{this.trk("");}}else{if(this.DEBUG){window.alert("'"+m_url+"' isn't tracked because of excluded protocol.");}}this.reset();this.IT="";};YWAT.prototype.getFPCvars=function(){var cs=this.FPCSupport();if(cs&&!this.hasFPC){this.ywaW3C(0);}else{this.ywaW3C(1);}};YWAT.prototype.setFPCookies=function(){if(this.FPCV!==""){this.setCookie(this.FPCN,this.FPCV,31536000);}};YWAT.prototype.page=function(docName,docGroup,memberid,action,amount){var u;u=this.URL;this.URL=this.FU!==""?this.FU:"FLASH";this.DOCUMENTNAME=docName;this.DOCUMENTGROUP=docGroup;this.MEMBERID=memberid;this.ACTION=action;this.AMOUNT=amount;this.submit();this.URL=u;};YWAT.prototype.getClnUrl=function(u){var u2,p,exc,exc2,excl,i,r,k,pn,re,nonexc,pl,accept,specchars,a;nonexc="_S_PEPOS,_S_PEPRM";specchars=["[","]"];if(!YWA.is(this.EXCLPRM)){return u;}u2=u.split("?");if(u2.length===1){return u;}p=u2[1].split("&");exc=((this.EXCLPRM.indexOf(";")>=0)?this.EXCLPRM.split(";"):this.EXCLPRM.split(","));exc2=[];i=0;for(k=0,excl=exc.length;k<excl;k+=1){if(k<excl-1||k===excl-1&&exc[k]!==""){exc2[i]=exc[k];i+=1;}}excl=i;r="";for(k=0,pl=p.length;k<pl;k+=1){pn=p[k].split("=")[0];for(i=0;i<specchars.length;i+=1){a=pn.indexOf(specchars[i]);if(a>=0){pn=pn.substring(0,a)+"\\"+pn.substring(a,pn.length);}}accept=true;re=new RegExp("\\b"+pn+"\\b","gi");for(i=0;i<excl;i+=1){accept=accept&&(pn.length>0&&!re.test(exc2[i])||pn.length===0&&exc2[i]!=="");}if(accept){r+=((r.length>0)?"&":"")+p[k];}}return u2[0]+((r.length>0)?"?"+r:"");};YAHOO.mediaplayer.YWA=YWA;})();(function(){function _lowerCaseObjectKeys(obj){var lcObj={};Y.each(obj,function(val,key){lcObj[key.toLowerCase()]=(("object"===typeof val)&&(val!==null))?_lowerCaseObjectKeys(val):val;});return lcObj;}YMPParams=window.YMPParams||{};YWPParams=window.YWPParams||{};var config={};Y.mix(config,_lowerCaseObjectKeys(YMPParams),true);Y.mix(config,_lowerCaseObjectKeys(YWPParams),true);
YMPParams=null;YWPParams=null;if(config.displaystate!=-1&&config.displaystate!=0&&config.displaystate!=1&&config.displaystate!=3){config.displaystate=0;}if(config.displaystate===3){config.mp3onlymode=true;config.termdetection="off";}if(typeof config.volume==="number"){if(config.volume>1){config.volume=1;}if(config.volume<0){config.volume=0;}}else{if(typeof config.volume!=="undefined"){delete config.volume;}}if(!config.amazonid){var aMeta=document.getElementsByTagName("meta");if(aMeta&&aMeta.length>0){var nCount=aMeta.length;for(var i=0;i<nCount;i++){var elMeta=aMeta[i];var sName=elMeta.name;if(typeof sName==="undefined"){sName=elMeta.getAttribute("name");}if(sName&&sName.length>0&&sName.toLowerCase()==="amazonid"){var sContent=elMeta.content;if(typeof sContent==="undefined"){sContent=elMeta.getAttribute("content");}if(sContent.length>0){config.amazonid=sContent;}break;elMeta=null;}elMeta=null;}}}var defaults={autoplay:false,parse:true,autoadvance:true,logging:false,yahootest:false,build_number:"",disablerhap25:false,playlistcount:true,htrackonly:false,playlink:"media-only",displaystate:0,rhappcode:"yahoooffnet",assetsroot:".",wsroot:"http://ws.mediaplayer.yahoo.com",defaultalbumart:null,mp3onlymode:false,termdetection:"off",theme:"black",locale:"en-US",showendcard:false,anonymoususageywaid:"1000255860556",termdetectionprofile:"YahooWebPlayer",wmodeoverride:true,imagelinkconf:{playimage:true,addplayicon:true}};Y.mix(config,defaults,false,null,0,true);YAHOO.mediaplayer.YMPParams=config;}());YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.Util={BROWSER:"Unknown",BROWSER_VERSION:"Unknown",OS:"Unknown",DOCTYPE:"Unknown",allBrowser:[{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"MSIE",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],allOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.platform,subString:"Linux",identity:"Linux"}],convertToHexadecimal:function(num){try{var hex_str=[];for(var i=3,mask=4278190080,byteNumber,byteString;i>=0;i--){byteNumber=Number((num&mask)>>>(i*8));byteString=byteNumber.toString(16);if(byteString.length<2){byteString="0"+byteString;}hex_str.push(byteString);mask>>>=8;}return hex_str.join("").toUpperCase();}catch(ex){return null;}},init:function(){this.getBrowserOS();},returnString:function(data){for(var i=0;i<data.length;i++){var dataString=data[i].string;var dataProp=data[i].prop;this.versionSearchString=data[i].versionSearch||data[i].identity;if(dataString){if(dataString.indexOf(data[i].subString)!=-1){return data[i].identity;}}else{if(dataProp){return data[i].identity;}}}},returnVersion:function(data){var index=data.indexOf(this.versionSearchString);if(index==-1){return;}return parseFloat(data.substring(index+this.versionSearchString.length+1));},getBrowserOS:function(){this.BROWSER=this.returnString(this.allBrowser)||"Unknown";this.BROWSER_VERSION=this.returnVersion(navigator.userAgent)||this.returnVersion(navigator.appVersion)||"Unknown";this.OS=this.returnString(this.allOS)||"Unknown";this.DOCTYPE=document.compatMode;},detectPlugin:function(pluginName,activexName){if(typeof window.ActiveXObject!="undefined"){var control=null;try{control=new ActiveXObject(activexName);}catch(e){}if(control){var result=activexName;control=null;return result;}}else{if(navigator&&navigator.plugins&&navigator.plugins.length){for(var i=0;i<navigator.plugins.length;i++){var pi=navigator.plugins[i];if(pi.name.indexOf(pluginName)>-1){var result=pi.name;pi=null;return result;}pi=null;}}}return null;},sprintf:function(fstring,stringsArray){var format_RE=new RegExp("(.*?)(%%|%\\d+|$)(\\$[sdf])?","g");retstr="";while(format_arr=format_RE.exec(fstring)){retstr+=format_arr[1];if(format_arr[2]==""){break;}if(format_arr[2]=="%%"){retstr+="%";}else{retstr+=stringsArray[Number(format_arr[2].substr(1))-1];}}return retstr;},keycodes:{KEY_SPACE:32,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_P:80,KEY_ENTER:13,KEY_ESCAPE:27},trim:function(s){return s.replace(/^\s+|\s+$/g,"");},GUID:function(){for(var aGUID=[],nI=0;nI<32;++nI){aGUID.push(Math.floor(Math.random()*15).toString(15));}return aGUID.join("");},getRnd:function(nMn,nMx){if(!isNaN(nMn)){if(!isNaN(nMx)){nMx-=nMn;}else{nMx=nMn,nMn=0;}}else{nMn=0,nMx=100;}return Math.round(Math.random()*(nMx-nMn))+nMn;}};YAHOO.mediaplayer.Util.md5=new function(){this.hexcase=0;this.b64pad="";this.chrsz=8;this.hex_md5=function(s){return this.binl2hex(this.core_md5(this.str2binl(s),s.length*this.chrsz));};this.b64_md5=function(s){return this.binl2b64(this.core_md5(this.str2binl(s),s.length*this.chrsz));};this.str_md5=function(s){return this.binl2str(this.core_md5(this.str2binl(s),s.length*this.chrsz));};this.hex_hmac_md5=function(key,data){return this.binl2hex(this.core_hmac_md5(key,data));};this.b64_hmac_md5=function(key,data){return this.binl2b64(this.core_hmac_md5(key,data));};this.str_hmac_md5=function(key,data){return this.binl2str(this.core_hmac_md5(key,data));};this.core_md5=function(x,len){x[len>>5]|=128<<((len)%32);x[(((len+64)>>>9)<<4)+14]=len;var a=1732584193;var b=-271733879;var c=-1732584194;var d=271733878;for(var i=0;i<x.length;i+=16){var olda=a;var oldb=b;var oldc=c;var oldd=d;a=this.md5_ff(a,b,c,d,x[i+0],7,-680876936);d=this.md5_ff(d,a,b,c,x[i+1],12,-389564586);c=this.md5_ff(c,d,a,b,x[i+2],17,606105819);
b=this.md5_ff(b,c,d,a,x[i+3],22,-1044525330);a=this.md5_ff(a,b,c,d,x[i+4],7,-176418897);d=this.md5_ff(d,a,b,c,x[i+5],12,1200080426);c=this.md5_ff(c,d,a,b,x[i+6],17,-1473231341);b=this.md5_ff(b,c,d,a,x[i+7],22,-45705983);a=this.md5_ff(a,b,c,d,x[i+8],7,1770035416);d=this.md5_ff(d,a,b,c,x[i+9],12,-1958414417);c=this.md5_ff(c,d,a,b,x[i+10],17,-42063);b=this.md5_ff(b,c,d,a,x[i+11],22,-1990404162);a=this.md5_ff(a,b,c,d,x[i+12],7,1804603682);d=this.md5_ff(d,a,b,c,x[i+13],12,-40341101);c=this.md5_ff(c,d,a,b,x[i+14],17,-1502002290);b=this.md5_ff(b,c,d,a,x[i+15],22,1236535329);a=this.md5_gg(a,b,c,d,x[i+1],5,-165796510);d=this.md5_gg(d,a,b,c,x[i+6],9,-1069501632);c=this.md5_gg(c,d,a,b,x[i+11],14,643717713);b=this.md5_gg(b,c,d,a,x[i+0],20,-373897302);a=this.md5_gg(a,b,c,d,x[i+5],5,-701558691);d=this.md5_gg(d,a,b,c,x[i+10],9,38016083);c=this.md5_gg(c,d,a,b,x[i+15],14,-660478335);b=this.md5_gg(b,c,d,a,x[i+4],20,-405537848);a=this.md5_gg(a,b,c,d,x[i+9],5,568446438);d=this.md5_gg(d,a,b,c,x[i+14],9,-1019803690);c=this.md5_gg(c,d,a,b,x[i+3],14,-187363961);b=this.md5_gg(b,c,d,a,x[i+8],20,1163531501);a=this.md5_gg(a,b,c,d,x[i+13],5,-1444681467);d=this.md5_gg(d,a,b,c,x[i+2],9,-51403784);c=this.md5_gg(c,d,a,b,x[i+7],14,1735328473);b=this.md5_gg(b,c,d,a,x[i+12],20,-1926607734);a=this.md5_hh(a,b,c,d,x[i+5],4,-378558);d=this.md5_hh(d,a,b,c,x[i+8],11,-2022574463);c=this.md5_hh(c,d,a,b,x[i+11],16,1839030562);b=this.md5_hh(b,c,d,a,x[i+14],23,-35309556);a=this.md5_hh(a,b,c,d,x[i+1],4,-1530992060);d=this.md5_hh(d,a,b,c,x[i+4],11,1272893353);c=this.md5_hh(c,d,a,b,x[i+7],16,-155497632);b=this.md5_hh(b,c,d,a,x[i+10],23,-1094730640);a=this.md5_hh(a,b,c,d,x[i+13],4,681279174);d=this.md5_hh(d,a,b,c,x[i+0],11,-358537222);c=this.md5_hh(c,d,a,b,x[i+3],16,-722521979);b=this.md5_hh(b,c,d,a,x[i+6],23,76029189);a=this.md5_hh(a,b,c,d,x[i+9],4,-640364487);d=this.md5_hh(d,a,b,c,x[i+12],11,-421815835);c=this.md5_hh(c,d,a,b,x[i+15],16,530742520);b=this.md5_hh(b,c,d,a,x[i+2],23,-995338651);a=this.md5_ii(a,b,c,d,x[i+0],6,-198630844);d=this.md5_ii(d,a,b,c,x[i+7],10,1126891415);c=this.md5_ii(c,d,a,b,x[i+14],15,-1416354905);b=this.md5_ii(b,c,d,a,x[i+5],21,-57434055);a=this.md5_ii(a,b,c,d,x[i+12],6,1700485571);d=this.md5_ii(d,a,b,c,x[i+3],10,-1894986606);c=this.md5_ii(c,d,a,b,x[i+10],15,-1051523);b=this.md5_ii(b,c,d,a,x[i+1],21,-2054922799);a=this.md5_ii(a,b,c,d,x[i+8],6,1873313359);d=this.md5_ii(d,a,b,c,x[i+15],10,-30611744);c=this.md5_ii(c,d,a,b,x[i+6],15,-1560198380);b=this.md5_ii(b,c,d,a,x[i+13],21,1309151649);a=this.md5_ii(a,b,c,d,x[i+4],6,-145523070);d=this.md5_ii(d,a,b,c,x[i+11],10,-1120210379);c=this.md5_ii(c,d,a,b,x[i+2],15,718787259);b=this.md5_ii(b,c,d,a,x[i+9],21,-343485551);a=this.safe_add(a,olda);b=this.safe_add(b,oldb);c=this.safe_add(c,oldc);d=this.safe_add(d,oldd);}return Array(a,b,c,d);};this.md5_cmn=function(q,a,b,x,s,t){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(a,q),this.safe_add(x,t)),s),b);};this.md5_ff=function(a,b,c,d,x,s,t){return this.md5_cmn((b&c)|((~b)&d),a,b,x,s,t);};this.md5_gg=function(a,b,c,d,x,s,t){return this.md5_cmn((b&d)|(c&(~d)),a,b,x,s,t);};this.md5_hh=function(a,b,c,d,x,s,t){return this.md5_cmn(b^c^d,a,b,x,s,t);};this.md5_ii=function(a,b,c,d,x,s,t){return this.md5_cmn(c^(b|(~d)),a,b,x,s,t);};this.core_hmac_md5=function(key,data){var bkey=this.str2binl(key);if(bkey.length>16){bkey=this.core_md5(bkey,key.length*this.chrsz);}var ipad=Array(16),opad=Array(16);for(var i=0;i<16;i++){ipad[i]=bkey[i]^909522486;opad[i]=bkey[i]^1549556828;}var hash=this.core_md5(ipad.concat(this.str2binl(data)),512+data.length*this.chrsz);return this.core_md5(opad.concat(hash),512+128);};this.safe_add=function(x,y){var lsw=(x&65535)+(y&65535);var msw=(x>>16)+(y>>16)+(lsw>>16);return(msw<<16)|(lsw&65535);};this.bit_rol=function(num,cnt){return(num<<cnt)|(num>>>(32-cnt));};this.str2binl=function(str){var bin=Array();var mask=(1<<this.chrsz)-1;for(var i=0;i<str.length*this.chrsz;i+=this.chrsz){bin[i>>5]|=(str.charCodeAt(i/this.chrsz)&mask)<<(i%32);}return bin;};this.binl2str=function(bin){var str="";var mask=(1<<this.chrsz)-1;for(var i=0;i<bin.length*32;i+=this.chrsz){str+=String.fromCharCode((bin[i>>5]>>>(i%32))&mask);}return str;};this.binl2hex=function(binarray){var hex_tab=this.hexcase?"0123456789ABCDEF":"0123456789abcdef";var str="";for(var i=0;i<binarray.length*4;i++){str+=hex_tab.charAt((binarray[i>>2]>>((i%4)*8+4))&15)+hex_tab.charAt((binarray[i>>2]>>((i%4)*8))&15);}return str;};this.binl2b64=function(binarray){var tab="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var str="";for(var i=0;i<binarray.length*4;i+=3){var triplet=(((binarray[i>>2]>>8*(i%4))&255)<<16)|(((binarray[i+1>>2]>>8*((i+1)%4))&255)<<8)|((binarray[i+2>>2]>>8*((i+2)%4))&255);for(var j=0;j<4;j++){if(i*8+j*6>binarray.length*32){str+=this.b64pad;}else{str+=tab.charAt((triplet>>6*(3-j))&63);}}}return str;};};YAHOO.mediaplayer.Util.setCookie=function(name,val,months){var str=name+"="+val+";domain="+document.domain+";path=/;expires=";if(!months){months=12;}var expirationDate=new Date();expirationDate.setMonth(expirationDate.getMonth()+12);str+=expirationDate.toGMTString();document.cookie=str;};YAHOO.mediaplayer.Util.getCookie=function(name){if(document.cookie.indexOf(name+"=")<0){return;}return document.cookie.split(name+"=")[1].split(";")[0];};YAHOO.mediaplayer.Util.inArray=function(item,arr){return YAHOO.mediaplayer.Util.arrayIndexOf(arr,item)>-1;};YAHOO.mediaplayer.Util.arrayIndexOf=function(arr,item){var index=-1;if(Array.prototype.indexOf){index=arr.indexOf(item);}else{for(var i=0;i<arr.length;i++){if(arr[i]==item){index=i;break;}}}return index;};YAHOO.mediaplayer.Util.addCSS=function(css){var style=document.createElement("style");style.setAttribute("type","text/css");var headRef=document.getElementsByTagName("head")[0];headRef.appendChild(style);if(style.styleSheet){style.styleSheet.cssText=css;}else{var cssText=document.createTextNode(css);style.appendChild(cssText);}};YAHOO.mediaplayer.Util.formatTime=function(msecs,config){config=config||{};
if(isNaN(parseInt(msecs))||((msecs===0)&&config["ignoreZero"])){return"";}var overHourFormat=config["overHourFormat"]||YAHOO.mediaplayer.DisplayStrings.TIME_OVER_HOUR;var underHourFormat=config["underHourFormat"]||YAHOO.mediaplayer.DisplayStrings.TIME_UNDER_HOUR;var formattedTime;var normalizedTime=YAHOO.mediaplayer.Util.normalizeTime(msecs);if(normalizedTime.hours>0){formattedTime=Y.substitute(overHourFormat,{0:normalizedTime.hours,1:((normalizedTime.minutes<10)?"0":"")+normalizedTime.minutes,2:((normalizedTime.seconds<10)?"0":"")+normalizedTime.seconds});}else{formattedTime=Y.substitute(underHourFormat,{0:normalizedTime.minutes,1:((normalizedTime.seconds<10)?"0":"")+normalizedTime.seconds});}return config["wrapperFormat"]?Y.substitute(config["wrapperFormat"],{0:formattedTime}):formattedTime;};YAHOO.mediaplayer.Util.normalizeTime=function(msecs){var seconds=Math.floor(msecs/1000),minutes=Math.floor(seconds/60),hours=Math.floor(minutes/60);return{"seconds":seconds%60,"minutes":minutes%60,"hours":hours%24};};YAHOO.mediaplayer.Util.isHashValueInUrl=function(url,hashValue){hashValue="#"+hashValue;return(url.indexOf(hashValue,(url.length-hashValue.length))!==-1);};YAHOO.mediaplayer.Util.removeHashFromUrl=function(url,hash2Remove){if(YAHOO.mediaplayer.Util.isHashValueInUrl(url,hash2Remove)){hash2Remove="#"+hash2Remove;return url.substring(0,(url.length-hash2Remove.length));}return url;};YAHOO.mediaplayer.Util.appendParamToUrl=function(url,param,value){var indexOfQM=url.indexOf("?");if((indexOfQM===-1)){url+="?";}else{if(indexOfQM!==(url.length-1)){url+="&";}}return(url+param+"="+encodeURIComponent(value));};YAHOO.mediaplayer.Util.init();YAHOO.namespace("YAHOO.mediaplayer");
/*	SWFObject v2.0 <http://code.google.com/p/swfobject/>
	Copyright (c) 2007 Geoff Stearns, Michael Williams, and Bobby van der Sluis
	This software is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
*/
YAHOO.mediaplayer.SWFObject=function(){var UNDEF="undefined",OBJECT="object",SHOCKWAVE_FLASH="Shockwave Flash",SHOCKWAVE_FLASH_AX="ShockwaveFlash.ShockwaveFlash",FLASH_MIME_TYPE="application/x-shockwave-flash",EXPRESS_INSTALL_ID="SWFObjectExprInst",win=window,doc=document,nav=navigator,domLoadFnArr=[],regObjArr=[],timer=null,storedAltContent=null,storedAltContentId=null,isDomLoaded=false,isExpressInstallActive=false;var ua=function(){var w3cdom=typeof doc.getElementById!=UNDEF&&typeof doc.getElementsByTagName!=UNDEF&&typeof doc.createElement!=UNDEF&&typeof doc.appendChild!=UNDEF&&typeof doc.replaceChild!=UNDEF&&typeof doc.removeChild!=UNDEF&&typeof doc.cloneNode!=UNDEF,playerVersion=[0,0,0],d=null;if(typeof nav.plugins!=UNDEF&&typeof nav.plugins[SHOCKWAVE_FLASH]==OBJECT){d=nav.plugins[SHOCKWAVE_FLASH].description;if(d){d=d.replace(/^.*\s+(\S+\s+\S+$)/,"$1");playerVersion[0]=parseInt(d.replace(/^(.*)\..*$/,"$1"),10);playerVersion[1]=parseInt(d.replace(/^.*\.(.*)\s.*$/,"$1"),10);playerVersion[2]=/r/.test(d)?parseInt(d.replace(/^.*r(.*)$/,"$1"),10):0;}}else{if(typeof win.ActiveXObject!=UNDEF){var a=null,fp6Crash=false;try{a=new ActiveXObject(SHOCKWAVE_FLASH_AX+".7");}catch(e){try{a=new ActiveXObject(SHOCKWAVE_FLASH_AX+".6");playerVersion=[6,0,21];a.AllowScriptAccess="always";}catch(e){if(playerVersion[0]==6){fp6Crash=true;}}if(!fp6Crash){try{a=new ActiveXObject(SHOCKWAVE_FLASH_AX);}catch(e){}}}if(!fp6Crash&&a){try{d=a.GetVariable("$version");if(d){d=d.split(" ")[1].split(",");playerVersion=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)];}}catch(e){}}}}var u=nav.userAgent.toLowerCase(),p=nav.platform.toLowerCase(),av=navigator.appVersion.toLowerCase(),webkit=/webkit/.test(u)?parseFloat(u.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,ie=u?/msie/.test(u):/msie/.test(av),windows=p?/win/.test(p):/win/.test(u),mac=p?/mac/.test(p):/mac/.test(u);
/*@cc_on
			ie = true;
			@if (@_win32)
				windows = true;
			@elif (@_mac)
				mac = true;
			@end
		@*/
return{w3cdom:w3cdom,pv:playerVersion,webkit:webkit,ie:ie,win:windows,mac:mac};}();function callDomLoadFunctions(){if(isDomLoaded){return;}if(ua.ie&&ua.win){var s=createElement("span");try{var t=doc.getElementsByTagName("body")[0].appendChild(s);t.parentNode.removeChild(t);}catch(e){return;}}isDomLoaded=true;if(timer){clearInterval(timer);timer=null;}var dl=domLoadFnArr.length;for(var i=0;i<dl;i++){domLoadFnArr[i]();}}function addDomLoadEvent(fn){if(isDomLoaded){fn();}else{domLoadFnArr[domLoadFnArr.length]=fn;}}function addLoadEvent(fn){if(typeof win.addEventListener!=UNDEF){win.addEventListener("load",fn,false);}else{if(typeof doc.addEventListener!=UNDEF){doc.addEventListener("load",fn,false);}else{if(typeof win.attachEvent!=UNDEF){win.attachEvent("onload",fn);}else{if(typeof win.onload=="function"){var fnOld=win.onload;win.onload=function(){fnOld();fn();};}else{win.onload=fn;}}}}}function main(){var rl=regObjArr.length;for(var i=0;i<rl;i++){var id=regObjArr[i].id;if(ua.pv[0]>0){var obj=getElementById(id);if(obj){regObjArr[i].width=obj.getAttribute("width")?obj.getAttribute("width"):"0";regObjArr[i].height=obj.getAttribute("height")?obj.getAttribute("height"):"0";if(hasPlayerVersion(regObjArr[i].swfVersion)){if(ua.webkit&&ua.webkit<312){fixParams(obj);}setVisibility(id,true);}else{if(regObjArr[i].expressInstall&&!isExpressInstallActive&&hasPlayerVersion("6.0.65")&&(ua.win||ua.mac)){showExpressInstall(regObjArr[i]);}else{displayAltContent(obj);}}}}else{setVisibility(id,true);}}}function fixParams(obj){var nestedObj=obj.getElementsByTagName(OBJECT)[0];if(nestedObj){var e=createElement("embed"),a=nestedObj.attributes;if(a){var al=a.length;for(var i=0;i<al;i++){if(a[i].nodeName.toLowerCase()=="data"){e.setAttribute("src",a[i].nodeValue);}else{e.setAttribute(a[i].nodeName,a[i].nodeValue);}}}var c=nestedObj.childNodes;if(c){var cl=c.length;for(var j=0;j<cl;j++){if(c[j].nodeType==1&&c[j].nodeName.toLowerCase()=="param"){e.setAttribute(c[j].getAttribute("name"),c[j].getAttribute("value"));}}}obj.parentNode.replaceChild(e,obj);}}function fixObjectLeaks(id){if(ua.ie&&ua.win&&hasPlayerVersion("8.0.0")){win.attachEvent("onunload",function(){var obj=getElementById(id);
if(obj){for(var i in obj){if(typeof obj[i]=="function"){obj[i]=function(){};}}obj.parentNode.removeChild(obj);}});}}function showExpressInstall(regObj){isExpressInstallActive=true;var obj=getElementById(regObj.id);if(obj){if(regObj.altContentId){var ac=getElementById(regObj.altContentId);if(ac){storedAltContent=ac;storedAltContentId=regObj.altContentId;}}else{storedAltContent=abstractAltContent(obj);}if(!(/%$/.test(regObj.width))&&parseInt(regObj.width,10)<310){regObj.width="310";}if(!(/%$/.test(regObj.height))&&parseInt(regObj.height,10)<137){regObj.height="137";}doc.title=doc.title.slice(0,47)+" - Flash Player Installation";var pt=ua.ie&&ua.win?"ActiveX":"PlugIn",dt=doc.title,fv="MMredirectURL="+win.location+"&MMplayerType="+pt+"&MMdoctitle="+dt,replaceId=regObj.id;if(ua.ie&&ua.win&&obj.readyState!=4){var newObj=createElement("div");replaceId+="SWFObjectNew";newObj.setAttribute("id",replaceId);obj.parentNode.insertBefore(newObj,obj);obj.style.display="none";win.attachEvent("onload",function(){obj.parentNode.removeChild(obj);});}createSWF({data:regObj.expressInstall,id:EXPRESS_INSTALL_ID,width:regObj.width,height:regObj.height},{flashvars:fv},replaceId);}}function displayAltContent(obj){if(ua.ie&&ua.win&&obj.readyState!=4){var el=createElement("div");obj.parentNode.insertBefore(el,obj);el.parentNode.replaceChild(abstractAltContent(obj),el);obj.style.display="none";win.attachEvent("onload",function(){obj.parentNode.removeChild(obj);});}else{obj.parentNode.replaceChild(abstractAltContent(obj),obj);}}function abstractAltContent(obj){var ac=createElement("div");if(ua.win&&ua.ie){ac.innerHTML=obj.innerHTML;}else{var nestedObj=obj.getElementsByTagName(OBJECT)[0];if(nestedObj){var c=nestedObj.childNodes;if(c){var cl=c.length;for(var i=0;i<cl;i++){if(!(c[i].nodeType==1&&c[i].nodeName.toLowerCase()=="param")&&!(c[i].nodeType==8)){ac.appendChild(c[i].cloneNode(true));}}}}}return ac;}function createSWF(attObj,parObj,id){var r,el=getElementById(id);if(typeof attObj.id==UNDEF){attObj.id=id;}if(ua.ie&&ua.win){var att="";for(var i in attObj){if(attObj[i]!=Object.prototype[i]){if(i=="data"){parObj.movie=attObj[i];}else{if(i.toLowerCase()=="styleclass"){att+=' class="'+attObj[i]+'"';}else{if(i!="classid"){att+=" "+i+'="'+attObj[i]+'"';}}}}}var par="";for(var j in parObj){if(parObj[j]!=Object.prototype[j]){par+='<param name="'+j+'" value="'+parObj[j]+'" />';}}el.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+att+">"+par+"</object>";fixObjectLeaks(attObj.id);r=getElementById(attObj.id);}else{if(ua.webkit&&ua.webkit<312){var e=createElement("embed");e.setAttribute("type",FLASH_MIME_TYPE);for(var k in attObj){if(attObj[k]!=Object.prototype[k]){if(k=="data"){e.setAttribute("src",attObj[k]);}else{if(k.toLowerCase()=="styleclass"){e.setAttribute("class",attObj[k]);}else{if(k!="classid"){e.setAttribute(k,attObj[k]);}}}}}for(var l in parObj){if(parObj[l]!=Object.prototype[l]){if(l!="movie"){e.setAttribute(l,parObj[l]);}}}el.parentNode.replaceChild(e,el);r=e;}else{var o=createElement(OBJECT);o.setAttribute("type",FLASH_MIME_TYPE);for(var m in attObj){if(attObj[m]!=Object.prototype[m]){if(m.toLowerCase()=="styleclass"){o.setAttribute("class",attObj[m]);}else{if(m!="classid"){o.setAttribute(m,attObj[m]);}}}}for(var n in parObj){if(parObj[n]!=Object.prototype[n]&&n!="movie"){createObjParam(o,n,parObj[n]);}}el.parentNode.replaceChild(o,el);r=o;}}return r;}function createObjParam(el,pName,pValue){var p=createElement("param");p.setAttribute("name",pName);p.setAttribute("value",pValue);el.appendChild(p);}function getElementById(id){return doc.getElementById(id);}function createElement(el){return doc.createElement(el);}function hasPlayerVersion(rv){var pv=ua.pv,v=rv.split(".");v[0]=parseInt(v[0],10);v[1]=parseInt(v[1],10);v[2]=parseInt(v[2],10);return(pv[0]>v[0]||(pv[0]==v[0]&&pv[1]>v[1])||(pv[0]==v[0]&&pv[1]==v[1]&&pv[2]>=v[2]))?true:false;}function createCSS(sel,decl){if(ua.ie&&ua.mac){return;}var h=doc.getElementsByTagName("head")[0],s=createElement("style");s.setAttribute("type","text/css");s.setAttribute("media","screen");if(!(ua.ie&&ua.win)&&typeof doc.createTextNode!=UNDEF){s.appendChild(doc.createTextNode(sel+" {"+decl+"}"));}h.appendChild(s);if(ua.ie&&ua.win&&typeof doc.styleSheets!=UNDEF&&doc.styleSheets.length>0){var ls=doc.styleSheets[doc.styleSheets.length-1];if(typeof ls.addRule==OBJECT){ls.addRule(sel,decl);}}}function setVisibility(id,isVisible){var v=isVisible?"visible":"hidden";if(isDomLoaded){document.getElementById(id).style.visibility=v;}else{createCSS("#"+id,"visibility:"+v);}}return{registerObject:function(objectIdStr,swfVersionStr,xiSwfUrlStr){if(!ua.w3cdom||!objectIdStr||!swfVersionStr){return;}var regObj={};regObj.id=objectIdStr;regObj.swfVersion=swfVersionStr;regObj.expressInstall=xiSwfUrlStr?xiSwfUrlStr:false;regObjArr[regObjArr.length]=regObj;setVisibility(objectIdStr,false);},getObjectById:function(objectIdStr){var r=null;if(ua.w3cdom&&isDomLoaded){var o=getElementById(objectIdStr);if(o){var n=o.getElementsByTagName(OBJECT)[0];if(!n||(n&&typeof o.SetVariable!=UNDEF)){r=o;}else{if(typeof n.SetVariable!=UNDEF){r=n;}}}}return r;},embedSWF:function(swfUrlStr,replaceElemIdStr,widthStr,heightStr,swfVersionStr,xiSwfUrlStr,flashvarsObj,parObj,attObj){if(!ua.w3cdom||!swfUrlStr||!replaceElemIdStr||!widthStr||!heightStr||!swfVersionStr){return;}widthStr+="";heightStr+="";if(hasPlayerVersion(swfVersionStr)){setVisibility(replaceElemIdStr,false);var att=(typeof attObj==OBJECT)?attObj:{};att.data=swfUrlStr;att.width=widthStr;att.height=heightStr;var par=(typeof parObj==OBJECT)?parObj:{};if(typeof flashvarsObj==OBJECT){for(var i in flashvarsObj){if(flashvarsObj[i]!=Object.prototype[i]){if(typeof par.flashvars!=UNDEF){par.flashvars+="&"+i+"="+flashvarsObj[i];}else{par.flashvars=i+"="+flashvarsObj[i];}}}}createSWF(att,par,replaceElemIdStr);if(att.id==replaceElemIdStr){setVisibility(replaceElemIdStr,true);}}else{if(xiSwfUrlStr&&!isExpressInstallActive&&hasPlayerVersion("6.0.65")&&(ua.win||ua.mac)){setVisibility(replaceElemIdStr,false);
var regObj={};regObj.id=regObj.altContentId=replaceElemIdStr;regObj.width=widthStr;regObj.height=heightStr;regObj.expressInstall=xiSwfUrlStr;showExpressInstall(regObj);}}},getFlashPlayerVersion:function(){return{major:ua.pv[0],minor:ua.pv[1],release:ua.pv[2]};},hasFlashPlayerVersion:hasPlayerVersion,createSWF:function(attObj,parObj,replaceElemIdStr){if(ua.w3cdom&&isDomLoaded){return createSWF(attObj,parObj,replaceElemIdStr);}else{return undefined;}},createCSS:function(sel,decl){if(ua.w3cdom){createCSS(sel,decl);}},addDomLoadEvent:addDomLoadEvent,addLoadEvent:addLoadEvent,getQueryParamValue:function(param){var q=doc.location.search||doc.location.hash;if(param==null){return q;}if(q){var pairs=q.substring(1).split("&");for(var i=0;i<pairs.length;i++){if(pairs[i].substring(0,pairs[i].indexOf("="))==param){return pairs[i].substring((pairs[i].indexOf("=")+1));}}}return"";},expressInstallCallback:function(){if(isExpressInstallActive&&storedAltContent){var obj=getElementById(EXPRESS_INSTALL_ID);if(obj){obj.parentNode.replaceChild(storedAltContent,obj);if(storedAltContentId){setVisibility(storedAltContentId,true);if(ua.ie&&ua.win){storedAltContent.style.display="block";}}storedAltContent=null;storedAltContentId=null;isExpressInstallActive=false;}}},getSWF:function(name){switch(YAHOO.mediaplayer.Util.BROWSER){case"MSIE":return window[name];default:if(document[name]!=null&&document[name].length!=undefined){return document[name][1];}else{return document[name];}}},hasPlayerVersion:hasPlayerVersion};Y.on("domready",function(){main();});}();YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.SWFProxy=new function(){this.map={};this.magicNumber=0;this.id="swfproxy";this.available=false;this.ready=false;this.queue=[];this.flashTimeoutID=null;this.timeout=30000;this.init=function(){var dummyContainer=document.createElement("span");dummyContainer.id="dummy-swfproxy";document.body.appendChild(dummyContainer);this._noFlashSupport=false;try{if(YAHOO.mediaplayer.SWFObject.hasPlayerVersion("9.0.0")){var flashVars={onLoad:"YAHOO.mediaplayer.SWFProxy.onLoad",rhappcode:YAHOO.mediaplayer.YMPParams.rhappcode};var params={allowScriptAccess:"always",allowNetworking:"all"};var attributes={id:this.id,name:this.id,style:"position:absolute; top:0; left:-30px;"};YAHOO.mediaplayer.SWFObject.embedSWF(YAHOO.mediaplayer.YMPParams.assetsroot+"/flash/swfproxy.swf",dummyContainer.id,"1","1","9.0.0",false,flashVars,params,attributes);this.available=true;}else{this._noFlashSupport=true;}}catch(e){this._noFlashSupport=true;}};this.onLoad=function(){this.ready=true;YAHOO.mediaplayer.SWFObject.getSWF(this.id).flAddListener("Success","YAHOO.mediaplayer.SWFProxy.successHandler");YAHOO.mediaplayer.SWFObject.getSWF(this.id).flAddListener("Failure","YAHOO.mediaplayer.SWFProxy.failureHandler");for(var i=0,ilen=this.queue.length;i<ilen;i++){this.queue[i].args.callee.apply(this,this.queue[i].args);}};this.getPlayThisPage=function(url,callback){if(this.ready){if(callback.scope==null){callback.scope=window;}if(callback.timeout==null){callback.timeout=this.timeout;}var id=this.magicNumber++;YAHOO.mediaplayer.SWFObject.getSWF(this.id).flGetPlayThisPage(id,url,callback.timeout);this.map[id]=callback;}else{this.addToQueue(callback,arguments);}};this.getRhapStatus=function(callback){if(this.ready){if(callback.scope==null){callback.scope=window;}if(callback.timeout==null){callback.timeout=this.timeout;}var id=this.magicNumber++;YAHOO.mediaplayer.SWFObject.getSWF(this.id).flGetRhapStatus(id);this.map[id]=callback;}else{this.addToQueue(callback,arguments);}};this.getMetadata=function(ids,callback,idType,serviceType){if(this.ready){if(callback.scope==null){callback.scope=window;}if(callback.timeout==null){callback.timeout=this.timeout;}var id=this.magicNumber++;if(serviceType!=="rhapsody"){YAHOO.mediaplayer.SWFObject.getSWF(this.id).flGetWsapiMetadata(id,ids,3000,idType);}else{YAHOO.mediaplayer.SWFObject.getSWF(this.id).flGetRhapMetadata(id,ids,4000);}this.map[id]=callback;}else{this.addToQueue(callback,arguments);}};this.getRhapMetadata=function(ids,callback){if(this.ready){if(callback.scope==null){callback.scope=window;}if(callback.timeout==null){callback.timeout=this.timeout;}var id=this.magicNumber++;YAHOO.mediaplayer.SWFObject.getSWF(this.id).flGetRhapMetadata(id,ids,callback.timeout);this.map[id]=callback;}else{this.addToQueue(callback,arguments);}};this.getYahooMovieTrailers=function(movieId,callback){if(this.ready){if(callback.scope==null){callback.scope=window;}if(callback.timeout==null){callback.timeout=this.timeout;}var id=this.magicNumber++;YAHOO.mediaplayer.SWFObject.getSWF(this.id).flGetYahooMovieTrailers(id,movieId,callback.timeout);this.map[id]=callback;}else{this.addToQueue(callback,arguments);}};this.searchYouTubeVideos=function(text,maxResults,callback){if(this.ready){if(callback.scope==null){callback.scope=window;}if(callback.timeout==null){callback.timeout=this.timeout;}var id=this.magicNumber++;YAHOO.mediaplayer.SWFObject.getSWF(this.id).flSearchYouTubeVideos(id,text,maxResults,callback.timeout);this.map[id]=callback;}else{this.addToQueue(callback,arguments);}};this.addToQueue=function(callback,args){if(!this._noFlashSupport){this.queue.push({"callback":callback,"args":args});if(this.flashTimeoutID==null){this.flashTimeoutID=window.setTimeout("YAHOO.mediaplayer.SWFProxy.checkFlashLoaded()",5000);}}else{var id=this.magicNumber++;this.map[id]=callback;Y.later(1,this,function(){this.failureHandler(id,"No flash suuport",27);});}};this.checkFlashLoaded=function(){if(!this.ready){var callbackObj,func,scope,args,o;for(var i=0,ilen=this.queue.length;i<ilen;i++){callbackObj=this.queue[i].callback;if(callbackObj.scope==null){callbackObj.scope=window;}func=callbackObj.failure;scope=callbackObj.scope;args=callbackObj.argument;o={status:"Flash proxy failed to load",argument:args};func.call(scope,o);}this.queue=[];}};this.successHandler=function(id,result){var func=this.map[id].success;var scope=this.map[id].scope;var args=this.map[id].argument;
var o={responseText:result,argument:args};func.call(scope,o);};this.failureHandler=function(id,statusText,errorCode){var func=this.map[id].failure;var scope=this.map[id].scope;var args=this.map[id].argument;var o={status:statusText,errorCode:errorCode,argument:args};func.call(scope,o);};};YAHOO.mediaplayer.SWFProxy.init();YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.Closure={objects:[],functions:[],closures:{}};Function.prototype.closure=function(obj){try{if(typeof(obj)==="undefined"){throw new Error('Invalid argument exception. "obj" is undefined.');}var func=this;var objId=obj.__objId;if(typeof(objId)!=="number"){objId=obj.__objId=YAHOO.mediaplayer.Closure.objects.length;YAHOO.mediaplayer.Closure.objects[objId]=obj;}var funcId=func.__funcId;if(typeof(funcId)!=="number"){funcId=func.__funcId=YAHOO.mediaplayer.Closure.functions.length;YAHOO.mediaplayer.Closure.functions[funcId]=func;}var closureId=objId+"_"+funcId;var closure=YAHOO.mediaplayer.Closure.closures[closureId];if(typeof(closure)!=="function"){closure=YAHOO.mediaplayer.Closure.closures[closureId]=function(){return YAHOO.mediaplayer.Closure.functions[funcId].apply(YAHOO.mediaplayer.Closure.objects[objId],arguments);};}return closure;}catch(ex){throw new Error("ERROR in Function.closure(). "+ex.message);}};Y.on("beforeunload",function(){try{window.setTimeout("YAHOO.mediaplayer.Closure = Function.prototype.closure = null",500);}catch(ex){}if(window.CollectGarbage){window.CollectGarbage();}});YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.EventManager=function(owner,eventTypes){this.getOwner=function(){return this;}.closure(owner);this.toString=function(){return this+".EventManager";}.closure(owner);this.events=[];if(eventTypes&&eventTypes.constructor===Array){this.addEvents(eventTypes);}};YAHOO.mediaplayer.EventManager.prototype.addEvents=function(eventTypes){try{if(!eventTypes||eventTypes.constructor!==Array){throw new Error('Invalid argument exception. "eventTypes" is not an array.');}for(var idx=0,len=eventTypes.length;idx<len;idx++){this.addEvent(eventTypes[idx]);}}catch(ex){throw new Error("ERROR in "+this+".addEvents(). "+ex.message);}};YAHOO.mediaplayer.EventManager.prototype.addEvent=function(eventType){try{if(typeof(eventType)!=="string"||eventType.length===0){throw new Error('Invalid argument exception. "eventType":'+eventType+" is not a valid string or is empty.");}if(!this[eventType]){this.events.push(eventType);this[eventType]=new Y.CustomEvent(eventType,this);}}catch(ex){throw new Error("ERROR in "+this+".addEvent(). "+ex.message);}};YAHOO.mediaplayer.EventManager.prototype.subscribe=function(obj,eventTypes){try{if(!obj||typeof(obj.handleEvent)!=="function"){throw new Error('Invalid argument exception. "obj" is not a valid object.');}if(!eventTypes||eventTypes.constructor!==Array){throw new Error('Invalid argument exception. "eventTypes" is not an array.');}var me=this;var subscribeEvent=function(eventType){me[eventType].on(function(){var args=arguments.length>0?arguments:[];obj.handleEvent(eventType,args);},obj);};for(var idx=0,len=eventTypes.length,eventType;idx<len;idx++){eventType=eventTypes[idx];if(!this[eventType]){this[eventType]=new Y.CustomEvent(eventType,this);}subscribeEvent(eventType);}}catch(ex){throw new Error("ERROR in "+this+".subscribe(). "+ex.message);}};YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.ControllerBase=function ControllerBase(){this.EventManager=new YAHOO.mediaplayer.EventManager(this);};YAHOO.mediaplayer.ControllerBase.prototype.toString=function(){return"YAHOO.mediaplayer.ControllerBase";};YAHOO.mediaplayer.ControllerBase.prototype.handleEvent=function handleEvent(evType,args){if(typeof(this[evType])==="function"){this[evType](args[0]);}else{if(this.EventManager[evType]){this.EventManager[evType].fire(args[0]);}}};YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.BaseObject=function BaseObject(controller,subscribeToControllersEvents){try{if(typeof(this.refByName)!=="string"||this.refByName.length===0){throw new Error('Invalid required property exception. this.refByName:"'+this.refByName+'" is invalid.');}YAHOO.mediaplayer.BaseObject.superclass.constructor.call(this);this.getController=function(){return this;}.closure(controller);if(!this.EventManager||this.EventManager.constructor!==YAHOO.mediaplayer.EventManager){throw new Error("Invalid required property exception. this.EventManager is invalid.");}if(subscribeToControllersEvents&&subscribeToControllersEvents.constructor===Array&&subscribeToControllersEvents.length>0){controller.EventManager.subscribe(this,subscribeToControllersEvents);}}catch(ex){throw new Error("ERROR in "+this+" constructor. "+ex.message);}};Y.extend(YAHOO.mediaplayer.BaseObject,YAHOO.mediaplayer.ControllerBase);YAHOO.mediaplayer.BaseObject.prototype.toString=function(){return"YAHOO.mediaplayer.BaseObject";};YAHOO.mediaplayer.BaseObject.prototype.initController=function(controller){try{if(typeof(this.refByName)!=="string"||this.refByName.length<0){throw new Error('Invalid required property exception. this.refByName:"'+this.refByName+'" is invalid.');}if(!this.EventManager||this.EventManager.constructor!==YAHOO.mediaplayer.EventManager){throw new Error("Invalid required property exception. this.EventManager is invalid.");}controller[this.refByName]=this;this.EventManager.subscribe(controller,this.EventManager.events);for(var idx=0,len=this.EventManager.events.length,eventType;idx<len;idx++){eventType=this.EventManager.events[idx];if(!controller.EventManager[eventType]){controller.EventManager.addEvent(eventType);}}}catch(ex){throw new Error("ERROR in "+this+".initController(). "+ex.message);}};YAHOO.mediaplayer.Controller=function(){YAHOO.mediaplayer.Controller.superclass.constructor.call(this,arguments);this.isInitialState=true;this.errorCount=0;this.maxErrors=5;this.amgStickwallShown=false;this.bFirstPlay=true;this.bPlayerInteracted=false;this.bPlayerShouldExpand=true;this._currentPlayingMedia=null;this._isPlayerInExperimentalMode=false;
this._experimentalModeEnabled=false;this._experimentalCookieName="YWP_EXPERIMENTAL";this._firedUsageInitEvent=false;this._usagePlayEvent={triggerType:null,firePlayStarted:false,firePlayQualified:false};this._playStartedTime=1000;this._playQualifiedTime=15000;this._playStartedTimer=null;this._playQualifiedTimer=null;this._isPlayerOnNetwork=(document.domain.toLowerCase().indexOf("yahoo.com")>=0);Y.on("beforeunload",this.onWindowUnload);};Y.extend(YAHOO.mediaplayer.Controller,YAHOO.mediaplayer.ControllerBase);YAHOO.mediaplayer.Controller.prototype.toString=function(){return"YAHOO.mediaplayer.Controller";};YAHOO.mediaplayer.Controller.prototype.init=function(){this._initExperimentalMode();new YAHOO.mediaplayer.CAPA(this);new YAHOO.mediaplayer.Parser(this);new YAHOO.mediaplayer.PlaylistManager(this);new YAHOO.mediaplayer.MediaResolver(this);new YAHOO.mediaplayer.MediaEngine(this);new YAHOO.mediaplayer.AnonymousUsage(this);this.EventManager.onPageView.fire();if(YAHOO.mediaplayer.YMPParams.logging===true){new YAHOO.mediaplayer.Logger(this);}if(YAHOO.mediaplayer.YMPParams.mp3onlymode===true){YAHOO.mediaplayer.YMPParams.displaystate=YAHOO.mediaplayer.View.DisplayState.NOUI;}if(YAHOO.mediaplayer.Rhapsody!=null){new YAHOO.mediaplayer.Rhapsody(this);}if(YAHOO.mediaplayer.YMPParams.playlistcount===false){YAHOO.mediaplayer.DisplayStrings.ui.PLAYLIST_TAB=YAHOO.mediaplayer.DisplayStrings.ui.PLAYLIST_TAB.replace(" (%1)","");}YAHOO.MediaPlayer.init();this.capa.disable();this.capa.getEntities();this.parse();this.capa.enable();};YAHOO.mediaplayer.Controller.prototype.parse=function(){var tracks=null;if(YAHOO.mediaplayer.YMPParams.parse===true){tracks=this.parser.parse(null);if(tracks&&typeof(tracks.length)==="number"&&tracks.length>0){this.playlistmanager.insert(tracks);}}};YAHOO.mediaplayer.Controller.prototype.onPlaylistUpdate=function(playlist){if(playlist!=null&&!(playlist instanceof YAHOO.mediaplayer.Playlist)&&playlist.length>0){if(typeof this.view==="undefined"){if(YAHOO.mediaplayer.YMPParams.termdetection==="off"){this.onUsageInit();}else{Y.later(2000,this,this.onUsageInit);}new YAHOO.mediaplayer.View(this);}}this.EventManager.onPlaylistUpdate.fire(playlist);};YAHOO.mediaplayer.Controller.prototype.onUsageInit=function(obj){if(true===this._firedUsageInitEvent){return;}this._firedUsageInitEvent=true;var numOfCapaEntities=(obj&&obj.NUM_OF_CAPA_ENTITIES)||0;var numOfLinks=this.playlistmanager.playlistArray.length-numOfCapaEntities;if((numOfLinks===0)&&(numOfCapaEntities===0)){return;}this.EventManager.onUsageInit.fire({"NUM_OF_LINKS":numOfLinks,"NUM_OF_CAPA_ENTITIES":numOfCapaEntities,"TERM_DETECTION_MODE":YAHOO.mediaplayer.YMPParams.termdetection});};YAHOO.mediaplayer.Controller.prototype.onPlayStateChange=function(o){var media=o.media;if(this.errorCount>0&&o.newState===YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING){this.errorCount=0;}switch(o.newState){case YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING:this._fireUsagePlayEvent(media);if(media.mimeType==YAHOO.mediaplayer.Parser.MimeTypes.rhapsody){if(o.oldState!=YAHOO.mediaplayer.MediaEngine.PlayState.PAUSED&&this.rhapsody.timeForStickwall()){window.setTimeout("YAHOO.mediaplayer.Controller.mediaengine.stop()",200);o.logging=false;}media.bIsSample=this.isThirtySecondSample();}if(true===media.bIsSample){var err=new YAHOO.mediaplayer.Error("24",{displayMessageArgs:[""]});err.media=media;this.EventManager.onError.fire(err);}break;case YAHOO.mediaplayer.MediaEngine.PlayState.ENDED:if(this.playlistmanager.isCurrentMediaLastInPlaylist()){this.EventManager.onLastMediaEnded.fire(media);this.onStopRequest();}this._currentPlayingMedia=null;this._startInterstitialIfAllowed();case YAHOO.mediaplayer.MediaEngine.PlayState.PAUSED:case YAHOO.mediaplayer.MediaEngine.PlayState.STOPPED:this._cancelUsagePlayEvent();break;}this.EventManager.onPlayStateChange.fire(o);};YAHOO.mediaplayer.Controller.prototype.onPlayRequest=function(obj){var media=obj.media?obj.media:this.playlistmanager.getCurrentMedia();obj.media=this.playlistmanager.getMediaToPlay(media);var triggerType=(typeof obj.TRIGGER_TYPE=="undefined")?"unknown":obj.TRIGGER_TYPE;obj.TRIGGER_TYPE=triggerType;this.lastTriggerType=triggerType;if(this.wasPlayUserInitiated()){this.errorCount=0;}obj.bFirstPlay=this.bFirstPlay;this.bFirstPlay=false;this.bPlayerInteracted=true;obj.bNewPlay=(typeof obj.bNewPlay!=="undefined")?obj.bNewPlay:(media!==this._currentPlayingMedia);this._currentPlayingMedia=media;this._usagePlayEvent.triggerType=triggerType;if(obj.bFirstPlay){this.EventManager.onUsageAction.fire(["FIRST_PLAY",obj.media,{"TRIGGER_TYPE":triggerType}]);}if(obj.bNewPlay){this.EventManager.onUsageAction.fire(["PLAY_REQUESTED",obj.media,{"TRIGGER_TYPE":triggerType}]);this._usagePlayEvent.firePlayStarted=true;this._usagePlayEvent.firePlayQualified=true;}obj.playState=this.mediaengine.getCurrentPlayState();this.EventManager.onPlayRequest.fire(obj);this.bPlayerShouldExpand=false;};YAHOO.mediaplayer.Controller.prototype.wasPlayUserInitiated=function(){return/PLAYLIST_TITLE|PAGE_MEDIA_CLICK|PLAYER_PLAY_BUTTON|NEXT|PREV|RHAP_CONT|VIDEO_QUEUED_PLAY|VIDEO_ERROR_LINK/.test(this.lastTriggerType);};YAHOO.mediaplayer.Controller.prototype.onError=function(errorObj){if(!errorObj.media||(this._currentPlayingMedia===errorObj.media)){switch(errorObj.level){case YAHOO.mediaplayer.ErrorDefinitions.Levels.CRITICAL:this.onStopRequest();break;case YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR:this.mediaengine.stop();this.errorCount++;if(this.errorCount>=this.maxErrors){var criticalErrorObj=new YAHOO.mediaplayer.Error("2");criticalErrorObj.media=errorObj.media;this.onError(criticalErrorObj);}else{if(this.wasPlayUserInitiated()){this.onStopRequest();}else{this.EventManager.onPlayStateChange.fire({media:errorObj.media,newState:YAHOO.mediaplayer.MediaEngine.PlayState.ENDED});}}break;}}if((errorObj.level==YAHOO.mediaplayer.ErrorDefinitions.Levels.CRITICAL)||((errorObj.level==YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR)&&this.wasPlayUserInitiated())){this.view.expandPlayer();
}if(errorObj.level>YAHOO.mediaplayer.ErrorDefinitions.Levels.WARNING){this._currentPlayingMedia=null;}this.EventManager.onError.fire(errorObj);if(this.logger){this.logger.logError(errorObj);}};YAHOO.mediaplayer.Controller.prototype.onWindowUnload=function(eventObj){var pluginIds=["ymp-flash-engine","ymp-rhapsody-engine","ymp-qt-engine","ymp-wmpff3-engine","ymp-wmp-engine","ymp-flv-engine"];var len=pluginIds.length;var plugin=null;for(var i=0;i<len;i++){plugin=document.getElementById(pluginIds[i]);if(plugin){plugin.parentNode.removeChild(plugin);}}};YAHOO.mediaplayer.Controller.prototype.isThirtySecondSample=function(){var duration=this.mediaengine.getDuration();if(Y.Lang.isNumber(duration)){if(31>duration/1000&&29<duration/1000&&this.rhapsody.getFreePlays()>0){return true;}}return false;};YAHOO.mediaplayer.Controller.prototype.onPlayerClosed=function(){this.bPlayerShouldExpand=true;};YAHOO.mediaplayer.Controller.prototype.onStopRequest=function(obj){this._currentPlayingMedia=null;this.EventManager.onStopRequest.fire(obj);this.EventManager.onPlayStateChange.fire({media:this.playlistmanager.getCurrentMedia(),newState:YAHOO.mediaplayer.MediaEngine.PlayState.STOPPED});};YAHOO.mediaplayer.Controller.prototype.isPlayerPlaying=function(){return(this.mediaengine.currentPlayState===YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING);};YAHOO.mediaplayer.Controller.prototype.isPlayerBuffering=function(){return(this.mediaengine.currentPlayState===YAHOO.mediaplayer.MediaEngine.PlayState.BUFFERING);};YAHOO.mediaplayer.Controller.prototype.playerShouldExpandOnPlayback=function(){return this.bPlayerShouldExpand;};YAHOO.mediaplayer.Controller.prototype._fireUsagePlayEvent=function(media){if(this._usagePlayEvent.firePlayStarted){this._playStartedTimer=Y.later(this._playStartedTime,this,function(){this._usagePlayEvent.firePlayStarted=false;this.EventManager.onUsageAction.fire(["PLAY_STARTED",media,{"TRIGGER_TYPE":this._usagePlayEvent.triggerType}]);});}if(this._usagePlayEvent.firePlayQualified){this._playQualifiedTimer=Y.later(this._playQualifiedTime,this,function(){this._usagePlayEvent.firePlayQualified=false;this._onPlayQualified(media);});}};YAHOO.mediaplayer.Controller.prototype._cancelUsagePlayEvent=function(){if(null!==this._playStartedTimer){this._playStartedTimer.cancel();this._playStartedTimer=null;}if(null!==this._playQualifiedTimer){this._playQualifiedTimer.cancel();this._playQualifiedTimer=null;}};YAHOO.mediaplayer.Controller.prototype._onPlayQualified=function(media){this.EventManager.onUsageAction.fire(["PLAY_QUALIFIED",media,{"TRIGGER_TYPE":this._usagePlayEvent.triggerType}]);var nextMedia=this.playlistmanager.getNextMedia();if(nextMedia){this.mediaresolver.resolveDynamic(nextMedia);}};YAHOO.mediaplayer.Controller.prototype._startInterstitialIfAllowed=function(media){media=media||this.playlistmanager.getCurrentMedia();if(YAHOO.mediaplayer.YMPParams.showendcard&&(media&&media.bIsVideo)&&(media.mimeType===YAHOO.mediaplayer.Parser.MimeTypes.yvideo)&&((media.relatedMedia&&media.relatedMedia.length)||media.relatedTo)&&(this.view.getCurrentTrayContentType()===YAHOO.mediaplayer.View.TrayContentType.EMPTY)){this.view.startInterstitial();}};YAHOO.mediaplayer.Controller.prototype.isPlayerOnNetwork=function(){return this._isPlayerOnNetwork;};YAHOO.mediaplayer.Controller.prototype._initExperimentalMode=function(){if(YAHOO.mediaplayer.YMPParams._experimentalmodefrequency){this._isPlayerInExperimentalMode=true;var cookieVal=YAHOO.mediaplayer.Util.getCookie(this._experimentalCookieName);if(("undefined"===typeof cookieVal)||(cookieVal.indexOf(YAHOO.mediaplayer.version)<0)){this._experimentalModeEnabled=(Math.random()<=YAHOO.mediaplayer.YMPParams._experimentalmodefrequency);}else{this._experimentalModeEnabled=(cookieVal.split(":")[1]==="true");}YAHOO.mediaplayer.Util.setCookie(this._experimentalCookieName,YAHOO.mediaplayer.version+":"+this._experimentalModeEnabled);}};YAHOO.mediaplayer.Controller.prototype.isExperimentalModeEnabled=function(mode){return this._experimentalModeEnabled;};YAHOO.mediaplayer.Controller.prototype.isPlayerInExperimentalMode=function(){return this._isPlayerInExperimentalMode;};YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.Parser=function(controller){var subscribeToControllersEvents=[];YAHOO.mediaplayer.Parser.superclass.constructor.call(this,controller,subscribeToControllersEvents);this.initController(controller);this.controller=this.getController();this.audioClass="htrack";this.mediaTracks=[];this._lastYahooMovieId;this._ignoreTypes={};this._buildIgnoreTypes();this._noPlayAnchors=[];this._lastNormLinkHref="";this._isHashValueInUrl=YAHOO.mediaplayer.Util.isHashValueInUrl;this._removeHashFromUrl=YAHOO.mediaplayer.Util.removeHashFromUrl;};Y.extend(YAHOO.mediaplayer.Parser,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.Parser.prototype.refByName="parser";YAHOO.mediaplayer.Parser.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.Parser.TypeApplication={"xspf+xml":true,"x-xspf+xml":true,"mpeg":true,"mp3":true,"rhapsody":true};YAHOO.mediaplayer.Parser.regex={youtube:/http(\:|%3A)\/\/[^:\/\s]*youtube\.com\/watch.*v=([0-9a-zA-Z_-]+)/,youtube_alt:/http(\:|%3A)\/\/youtu\.be\/([0-9a-zA-Z_-]+)/,ymovies:/http(\:|%3A)\/\/movies\.yahoo\.com\/movie\/([0-9]+)\/info/,ywebplayer:/ywebplayer\:\/\/yvid\/([0-9]+)/};YAHOO.mediaplayer.Parser.MimeTypes={mp3:"audio/mpeg",wav:"audio/x-wav",wma:"audio/x-ms-wma",m4a:"audio/mp4",flv:"video/x-flv",xspf:"application/xspf+xml",m3u:"audio/x-mpegurl",m4u:"audio/x-mpegurl",asx:"video/x-ms-asf",pls:"audio/x-scpls",unknown:"audio/unknown",rhapsody:"audio/rhapsody",yahoo:"audio/yahoo",amg:"audio/amg",youtube:"video/youtube",ymovies:"video/yahoomovies",yvideo:"video/yahoo",ptp:"playlist/ptp"};YAHOO.mediaplayer.Parser.Mp3OnlyModeMimeTypes=["audio/mpeg","audio/x-wav","audio/x-ms-wma","audio/mp4","application/xspf+xml","audio/x-mpegurl","audio/x-mpegurl","audio/x-scpls"];YAHOO.mediaplayer.Parser.MediaOnlyPlaylinkModeMimeTypes=["audio/mpeg","audio/x-wav","audio/x-ms-wma","audio/mp4","video/x-flv","audio/x-mpegurl","audio/x-mpegurl","video/x-ms-asf","audio/x-scpls","video/youtube","application/xspf+xml","video/yahoo"];
YAHOO.mediaplayer.Parser.prototype._buildIgnoreTypes=function(){var linkconfig=YAHOO.mediaplayer.YMPParams.linkconfig;for(var type in linkconfig){if(linkconfig[type]==="ignore"){var mimeType=YAHOO.mediaplayer.Parser.MimeTypes[type];if("undefined"!==typeof mimeType){this._ignoreTypes[mimeType]=true;}}}this._ignoreTypes[YAHOO.mediaplayer.Parser.MimeTypes["rhapsody"]]=true;this._ignoreTypes[YAHOO.mediaplayer.Parser.MimeTypes["yahoo"]]=true;};YAHOO.mediaplayer.Parser.prototype.parse=function(domElement){try{this.mediaTracks=[];var anchorCollection=this.getAnchors(domElement);var anchorCollectionLen=anchorCollection.length;var mt="";var type="";var parts="";var prevMediaHref=null;for(var i=0;i<anchorCollectionLen;i++){if(Y.DOM.hasClass(anchorCollection[i],this.audioClass)){type=String(anchorCollection[i].type).toLowerCase();parts=type.split("/");if(parts.length===2&&(parts[0]==="audio"||(parts[0]==="application"&&YAHOO.mediaplayer.Parser.TypeApplication[parts[1]]===true)||(parts[0]==="video"&&parts[1]==="x-flv"))){if(this.checkForLocalHost(anchorCollection[i].href)===false&&(i==0||anchorCollection[i].href!==prevMediaHref)){prevMediaHref=anchorCollection[i].href;this.addTrack(anchorCollection[i],type);}}else{mt=this.getMimeTypeFromExtension(anchorCollection[i].href);if(this.checkForLocalHost(anchorCollection[i].href)===false&&(i==0||anchorCollection[i].href!==prevMediaHref)){prevMediaHref=anchorCollection[i].href;this.addTrack(anchorCollection[i],mt);}}}}if(this.mediaTracks.length<=0&&YAHOO.mediaplayer.YMPParams.htrackonly===false){for(var i=0;i<anchorCollectionLen;i++){type=String(anchorCollection[i].type).toLowerCase();parts=type.split("/");if(parts.length===2&&(parts[0]==="audio"||(parts[0]==="application"&&YAHOO.mediaplayer.Parser.TypeApplication[parts[1]]===true)||(parts[0]==="video"&&parts[1]==="x-flv"))){if(this.checkForLocalHost(anchorCollection[i].href)===false&&(i==0||anchorCollection[i].href!==prevMediaHref)&&(!Y.DOM.hasClass(anchorCollection[i],"noplay"))){prevMediaHref=anchorCollection[i].href;this.addTrack(anchorCollection[i],type);}continue;}if(Y.DOM.hasClass(anchorCollection[i],"playthispage")&&(!Y.DOM.hasClass(anchorCollection[i],"noplay"))){if(this.checkForLocalHost(anchorCollection[i].href)===false){mt=this.getMimeTypeFromExtension(anchorCollection[i].href);if(mt==null||!YAHOO.mediaplayer.MediaResolver.PlaylistMimeTypes[mt]){mt=YAHOO.mediaplayer.Parser.MimeTypes.ptp;}prevMediaHref=anchorCollection[i].href;this.addTrack(anchorCollection[i],mt);}continue;}mt=this.getMimeTypeFromExtension(anchorCollection[i].href);if(mt!=YAHOO.mediaplayer.Parser.MimeTypes["unknown"]){if(this.checkForLocalHost(anchorCollection[i].href)===false&&(i==0||anchorCollection[i].href!==prevMediaHref)&&(!Y.DOM.hasClass(anchorCollection[i],"noplay"))){prevMediaHref=anchorCollection[i].href;this.addTrack(anchorCollection[i],mt);}}}}this.mediaTracks=this.sortByTabIndex(this.mediaTracks);for(var i=0,l=this._noPlayAnchors.length;i<l;i++){this._noPlayAnchors[i].href=this._removeHashFromUrl(this._noPlayAnchors[i].href,"noplay");}this._noPlayAnchors=[];return this.mediaTracks;}catch(e){return[];}};YAHOO.mediaplayer.Parser.prototype.doesLinkContainVisibleImage=function(anchor){var images=anchor.getElementsByTagName("img");for(var i=0,l=images.length;i<l;i++){var img=images[i];if((Y.DOM.getComputedStyle(img,"display")!=="none")&&(Y.DOM.getComputedStyle(img,"visibility")!=="hidden")){return true;}}return false;};YAHOO.mediaplayer.Parser.prototype.addTrack=function(anchor,mimeType){if((this._ignoreTypes[mimeType]===true)||(!YAHOO.mediaplayer.YMPParams.imagelinkconf.playimage&&this.doesLinkContainVisibleImage(anchor))||this._shouldIgnoreConsecutiveLinks(anchor,mimeType)){return;}if(!YAHOO.mediaplayer.YMPParams.mp3onlymode||YAHOO.mediaplayer.Util.inArray(mimeType,YAHOO.mediaplayer.Parser.Mp3OnlyModeMimeTypes)){if((mimeType==YAHOO.mediaplayer.Parser.MimeTypes["rhapsody"])&&(true==YAHOO.mediaplayer.YMPParams.disablerhap25)){var mt=this.getMimeTypeFromExtension(anchor.href);if(mt==YAHOO.mediaplayer.Parser.MimeTypes["yahoo"]){mimeType=mt;}}if(this._isHashValueInUrl(anchor.href,"noplay")){this._noPlayAnchors.push(anchor);return;}this.mediaTracks.push({"anchor":anchor,"mimeType":mimeType});}};YAHOO.mediaplayer.Parser.prototype.getAnchors=function(domElement){var anchorCollection=[];var rootNode=domElement;if(rootNode==null){rootNode=document.body;}var aTags=rootNode.getElementsByTagName("a");for(var i=0,ilen=aTags.length;i<ilen;i++){anchorCollection[i]=aTags[i];}rootNode=null;aTags=null;return anchorCollection;};YAHOO.mediaplayer.Parser.prototype.getMimeTypeFromExtension=function(url){try{if(YAHOO.mediaplayer.Rhapsody.regex.track.test(url)){return YAHOO.mediaplayer.Parser.MimeTypes["rhapsody"];}if(YAHOO.mediaplayer.ymu.regex.track.test(url)){return YAHOO.mediaplayer.Parser.MimeTypes["yahoo"];}if(YAHOO.mediaplayer.Parser.regex.youtube.test(url)||YAHOO.mediaplayer.Parser.regex.youtube_alt.test(url)){return YAHOO.mediaplayer.Parser.MimeTypes["youtube"];}if(YAHOO.mediaplayer.Parser.regex.ymovies.test(url)){return YAHOO.mediaplayer.Parser.MimeTypes["ymovies"];}if(YAHOO.mediaplayer.Parser.regex.ywebplayer.test(url)){return YAHOO.mediaplayer.Parser.MimeTypes["yvideo"];}var str=url;var questionIndex=str.indexOf("?");if(questionIndex!=-1){str=str.substring(0,questionIndex);}var dotIndex=str.lastIndexOf(".");var pattern=str.substring(dotIndex+1,str.length).toLowerCase();for(var extension in YAHOO.mediaplayer.Parser.MimeTypes){if(pattern===extension){return YAHOO.mediaplayer.Parser.MimeTypes[extension];}}return YAHOO.mediaplayer.Parser.MimeTypes["unknown"];}catch(e){return YAHOO.mediaplayer.Parser.MimeTypes["unknown"];}};YAHOO.mediaplayer.Parser.prototype.sortByTabIndex=function(mediaTracks){try{var temp=null;var tbidx1=null;var atbidx2=null;var len=mediaTracks.length;for(var i=0;i<len;i++){for(j=i+1;j<len;j++){tbidx1=mediaTracks[i].anchor.tabIndex;tbidx2=mediaTracks[j].anchor.tabIndex;if(tbidx2>0&&(tbidx1>tbidx2)){temp=mediaTracks[i];
mediaTracks[i]=mediaTracks[j];mediaTracks[j]=temp;}}}return mediaTracks;}catch(e){return null;}};YAHOO.mediaplayer.Parser.prototype.checkForLocalHost=function(url){return(url.toLowerCase().indexOf("http://localhost")>=0);};YAHOO.mediaplayer.Parser.prototype._shouldIgnoreConsecutiveLinks=function(anchor,mimeType){var currentNormLinkHref=this._removeHashFromUrl(anchor.href,"play");if((currentNormLinkHref.length<anchor.href.length)&&(currentNormLinkHref===this._lastNormLinkHref)){anchor.href=currentNormLinkHref;return true;}this._lastNormLinkHref=currentNormLinkHref;if(mimeType===YAHOO.mediaplayer.Parser.MimeTypes.ymovies){var match=YAHOO.mediaplayer.Parser.regex.ymovies.exec(anchor.href);if(this._lastYahooMovieId===match[2]){return true;}this._lastYahooMovieId=match[2];}else{this._lastYahooMovieId="";}return false;};YAHOO.mediaplayer.CAPA=function(controller){var subscribeToControllersEvents=[];YAHOO.mediaplayer.Parser.superclass.constructor.call(this,controller,subscribeToControllersEvents);this.EventManager.addEvents(["onUsageInit"]);this.initController(controller);this.controller=this.getController();YUI.namespace("CapAnywhere").publisherId=YAHOO.mediaplayer.YMPParams.termdetectionprofile;this._inPageSpanClass="ywp-page-play-pause";this._entityClass="ywp-entity";this._entityLinkClass="ywp-entity-link";this._bCAPADisabled=true;this._shortcutsData=null;Y.Global.on("capanywhere:inline_finished",function(shortcutsData){this.onEntitiesReceived(shortcutsData);},this);};Y.extend(YAHOO.mediaplayer.CAPA,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.CAPA.prototype.refByName="capa";YAHOO.mediaplayer.CAPA.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.CAPA.prototype.getEntities=function(){var mode=YAHOO.mediaplayer.YMPParams.termdetection;if(mode==="off"){return;}if(mode==="on"||mode==="slave"){if(this._gotPTWEntitiesInPage()){this.onEntitiesReceived(YAHOO.Shortcuts);}else{if(mode==="on"){Y.CapAnywhere.init();}}}};YAHOO.mediaplayer.CAPA.prototype._gotPTWEntitiesInPage=function(){return("undefined"!==typeof YAHOO.Shortcuts&&"undefined"!==typeof YAHOO.Shortcuts.ptwIds);};YAHOO.mediaplayer.CAPA.prototype._entityIsMovie=function(entity){if(entity.metaData&&entity.metaData.movieID&&(entity.metaData.movieID.length>0)){return true;}return false;};YAHOO.mediaplayer.CAPA.prototype.disable=function(){this._bCAPADisabled=true;};YAHOO.mediaplayer.CAPA.prototype.enable=function(){this._bCAPADisabled=false;if(null!==this._shortcutsData){this.addEntities();}};YAHOO.mediaplayer.CAPA.prototype.onEntitiesReceived=function(shortcutsData){this._shortcutsData=shortcutsData;if(!this._bCAPADisabled&&(YAHOO.mediaplayer.YMPParams.termdetection!=="off")){this.addEntities();}};YAHOO.mediaplayer.CAPA.prototype._markEntities=function(root){var yahooMoviesTemplate="http://movies.yahoo.com/movie/{movie_id}/info";var entityLinkTemplate='<a class="{entity_link_class}" href="{entity_href}" title="{entity_text}" tabindex="-1"></a><a class="{entity_class}" href="#">{entity_text}</a>';var distinctMovieIds={};root.all(".yptw").each(function(span){if(!span.one("."+this._inPageSpanClass)){span.get("parentNode").removeClass("yshortcuts").removeClass("cs4-visible");var id=span.get("id");var entity=this._shortcutsData.annotationSet[id];if(this._entityIsMovie(entity)){if(distinctMovieIds[entity.metaData.movieID]){return;}distinctMovieIds[entity.metaData.movieID]=true;var movieLink=Y.substitute(yahooMoviesTemplate,{movie_id:entity.metaData.movieID});var entityLink=Y.substitute(entityLinkTemplate,{entity_class:this._entityClass,entity_link_class:this._entityLinkClass,entity_href:movieLink,entity_text:span.get("text")});span.setContent(entityLink);var link=span.one("."+this._entityClass);var underlineColor=link.getComputedStyle("color");link.setStyle("borderBottomColor",underlineColor);}}},this);};YAHOO.mediaplayer.CAPA.prototype.addEntities=function(root){if(!this._shortcutsData){return;}if("undefined"===typeof root){root=Y.one("body");}this._markEntities(root);var yahooMoviesMime=YAHOO.mediaplayer.Parser.MimeTypes.ymovies;var allMediaItems=Y.all("."+this._inPageSpanClass+", ."+this._entityLinkClass);var currentIndex=-1;var itemsToInsert=[];var mediaArray=[];var numOfEntities=0;allMediaItems.each(function(item){if(item.hasClass(this._inPageSpanClass)){if(mediaArray.length>0){numOfEntities+=mediaArray.length;itemsToInsert.push({"itemsArray":mediaArray,"index":currentIndex+1});mediaArray=[];}var media=this.controller.playlistmanager.getMediaById(item.getData("media-id"));currentIndex=this.controller.playlistmanager.getMediaIndex(media);}else{if(!item.get("parentNode").hasClass(this._inPageSpanClass)){mediaArray.push({"anchor":Y.Node.getDOMNode(item),"mimeType":yahooMoviesMime});}}},this);if(mediaArray.length>0){numOfEntities+=mediaArray.length;itemsToInsert.push({"itemsArray":mediaArray,"index":currentIndex+1});}this.controller.playlistmanager.createMediaAndInsert(itemsToInsert);this.EventManager.onUsageInit.fire({"NUM_OF_CAPA_ENTITIES":numOfEntities});};YAHOO.mediaplayer.PlaylistManager=function(controller){var subscribeToControllersEvents=["onPlayRequest","onPauseRequest","onStopRequest","onPreviousRequest","onNextRequest","onPlayStateChange","onMediaUpdate","onPlaylistUpdate","onCurrentMediaSet","onMediaResolved","onError"];YAHOO.mediaplayer.PlaylistManager.superclass.constructor.call(this,controller,subscribeToControllersEvents);this.EventManager.addEvents(["onPlaylistUpdate","onNextRequest","onCurrentMediaSet","onPlayRequest","onUsageAction","onStopRequest"]);this.initController(controller);this.controller=this.getController();this.delayedPlayMedia=null;this.playlistArray=[];this.allMedia=[];this.currentIndex=-1;this._insertQueue=[];};Y.extend(YAHOO.mediaplayer.PlaylistManager,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.PlaylistManager.prototype.refByName="playlistmanager";YAHOO.mediaplayer.PlaylistManager.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;
};YAHOO.mediaplayer.PlaylistManager.prototype.fireupdateAndResolve=function(mediaArray){this.EventManager.onPlaylistUpdate.fire(this.playlistArray);for(var i=0,ilen=mediaArray.length;i<ilen;i++){if(mediaArray[i].anchor){this.controller.mediaresolver.resolveStatic(mediaArray[i]);}}if(this.currentIndex>=0){this.EventManager.onCurrentMediaSet.fire(this.playlistArray[this.currentIndex]);if(this.controller.mediaengine.currentEngine&&this.controller.mediaengine.currentEngine.showPlayer){this.controller.mediaengine.currentEngine.showPlayer();}}};YAHOO.mediaplayer.PlaylistManager.prototype.createMediaObject=function(obj,type){var temp=null;if(type==="Track"){temp=new YAHOO.mediaplayer.Media.Track(this.controller);temp.setProperties(obj,false);}else{if(type==="Playlist"){temp=new YAHOO.mediaplayer.Playlist(this.controller);temp.anchor=obj.anchor;temp.mimeType=obj.mimeType;}}temp.nodes.inPage=temp.anchor&&Y.one(temp.anchor);this.allMedia[temp.id]=temp;return temp;};YAHOO.mediaplayer.PlaylistManager.prototype.getMediaById=function(id){if(id==null){return null;}return this.allMedia[id];};YAHOO.mediaplayer.PlaylistManager.prototype.getMediaIndex=function(media){if(media==null){return -1;}for(var i=0,ilen=this.playlistArray.length;i<ilen;i++){if(this.playlistArray[i]==media){return i;}}};YAHOO.mediaplayer.PlaylistManager.prototype.getMediaToPlay=function(requestedMedia){var media=requestedMedia?requestedMedia:this.getCurrentMedia();var mediaIndex;if(media instanceof YAHOO.mediaplayer.Playlist){if(media.mediaArray.length>0){var firstMediaIndex=this.getMediaIndex(media.mediaArray[0]);if(this.currentIndex>=firstMediaIndex&&this.currentIndex<firstMediaIndex+media.mediaArray.length){mediaIndex=this.currentIndex;}else{mediaIndex=firstMediaIndex;}}}else{mediaIndex=this.getMediaIndex(media);}if(mediaIndex==-1){return null;}return this.playlistArray[mediaIndex];};YAHOO.mediaplayer.PlaylistManager.prototype.onPlayRequest=function(o){var media=null,seek,mediaIndex,bNewPlay=true;this.delayedPlayMedia=null;if(o!=null){media=o.media;seek=o.seek;bNewPlay=o.bNewPlay;}if(media==null){mediaIndex=this.currentIndex;media=this.playlistArray[this.currentIndex];}else{mediaIndex=this.getMediaIndex(media);}if(this.currentIndex!=mediaIndex){this.currentIndex=mediaIndex;this.EventManager.onCurrentMediaSet.fire(this.playlistArray[this.currentIndex]);}var mediaToPlay=this.playlistArray[this.currentIndex];if(mediaToPlay.resolvingState==YAHOO.mediaplayer.MediaResolver.ResolvingState.FINISHED){YAHOO.mediaplayer.Controller.mediaengine.play(mediaToPlay,seek,bNewPlay);}else{YAHOO.mediaplayer.Controller.mediaengine.stop();this.delayedPlayMedia=mediaToPlay;this.controller.mediaresolver.resolveDynamic(mediaToPlay);}};YAHOO.mediaplayer.PlaylistManager.prototype.onPauseRequest=function(){YAHOO.mediaplayer.Controller.mediaengine.pause();};YAHOO.mediaplayer.PlaylistManager.prototype.onStopRequest=function(){YAHOO.mediaplayer.Controller.mediaengine.stop();};YAHOO.mediaplayer.PlaylistManager.prototype.onNextRequest=function(obj){if(!this.isCurrentMediaLastInPlaylist()){this.currentIndex++;var media=this.playlistArray[this.currentIndex];this.EventManager.onCurrentMediaSet.fire(media);if(this.controller.isPlayerPlaying()||this.controller.isPlayerBuffering()||this.controller.view.isPlayerContentTypeInterstitial()){var triggerType=(obj&&obj["TRIGGER_TYPE"])||"NEXT";this.EventManager.onPlayRequest.fire({media:media,"TRIGGER_TYPE":triggerType});}}};YAHOO.mediaplayer.PlaylistManager.prototype.onPreviousRequest=function(obj){if(this.currentIndex-1>=0){this.currentIndex--;var media=this.playlistArray[this.currentIndex];this.EventManager.onCurrentMediaSet.fire(media);if(this.controller.isPlayerPlaying()||this.controller.isPlayerBuffering()||this.controller.view.isPlayerContentTypeInterstitial()){var triggerType=(obj&&obj["TRIGGER_TYPE"])||"PREV";this.EventManager.onPlayRequest.fire({media:media,"TRIGGER_TYPE":triggerType});}}};YAHOO.mediaplayer.PlaylistManager.prototype.onPlayStateChange=function(o){if(o.media&&o.media!==this.getCurrentMedia()){return;}switch(o.newState){case YAHOO.mediaplayer.MediaEngine.PlayState.ENDED:if((YAHOO.mediaplayer.YMPParams.autoadvance===true)&&(!this.isCurrentMediaLastInPlaylist())&&(this.controller.view.getPlayerContentType()!==YAHOO.mediaplayer.View.PlayerContentType.INTERSTITIAL)){var me=this;var advanceToNextItem=function(){me.currentIndex++;var media=me.getPlaylistItem(me.currentIndex);me.EventManager.onCurrentMediaSet.fire(media);me.EventManager.onPlayRequest.fire({media:media,"TRIGGER_TYPE":"AUTO_ADVANCE"});};setTimeout(advanceToNextItem,1);}break;}};YAHOO.mediaplayer.PlaylistManager.prototype.onMediaUpdate=function(media){if(this.currentIndex==-1){var mediaIndex=this.getMediaIndex(media);if(mediaIndex!=-1){this.currentIndex=mediaIndex;this.EventManager.onCurrentMediaSet.fire(this.playlistArray[this.currentIndex]);if(YAHOO.mediaplayer.YMPParams.autoplay===true){this.EventManager.onPlayRequest.fire({media:this.playlistArray[this.currentIndex],"TRIGGER_TYPE":"AUTOPLAY"});}}}};YAHOO.mediaplayer.PlaylistManager.prototype.onPlaylistUpdate=function(playlist){if(playlist instanceof YAHOO.mediaplayer.Playlist){var playlistIndex=-1;for(var i=0,ilen=this.playlistArray.length;i<ilen;i++){if(this.playlistArray[i]==playlist){playlistIndex=i;}}if(playlistIndex!=-1){this.playlistArray.splice(playlistIndex,1);for(var i=playlist.mediaArray.length-1;i>=0;i--){this.playlistArray.splice(playlistIndex,0,playlist.mediaArray[i]);this.allMedia[playlist.mediaArray[i].id]=playlist.mediaArray[i];}if(this.currentIndex>=playlistIndex){this.currentIndex+=playlist.mediaArray.length-1;this.EventManager.onCurrentMediaSet.fire(this.playlistArray[this.currentIndex]);}}}};YAHOO.mediaplayer.PlaylistManager.prototype.clear=function(){this.playlistArray=null;this.playlistArray=[];this.currentIndex=-1;this.EventManager.onStopRequest.fire();this.EventManager.onPlaylistUpdate.fire(this.playlistArray);};YAHOO.mediaplayer.PlaylistManager.prototype.insertMedia=function(mediaToInsert){var sortingFunc=function(a,b){return(b.index-a.index);
};var mainPlaylistToTracks=this._mapTopLevelPlaylistToMedia();var mainPlaylistAppendIndex=mainPlaylistToTracks.length;for(var i=0,l=mediaToInsert.length;i<l;i++){if(isNaN(parseInt(mediaToInsert[i].index))){mediaToInsert[i].index=mainPlaylistAppendIndex++;}}var media2Resolve=[];var insertedAt=[];mediaToInsert.sort(sortingFunc);for(var i=0,l=mediaToInsert.length;i<l;i++){var mediaArray=mediaToInsert[i].mediaArray;media2Resolve=media2Resolve.concat(mediaArray);var mainPlaylistIndex=mediaToInsert[i].index;var playlistArrayIndex;if(mainPlaylistIndex>mainPlaylistToTracks.length-1){insertedAt.push(this.playlistArray.length);this.playlistArray=this.playlistArray.concat(mediaArray);}else{playlistArrayIndex=mainPlaylistToTracks[mainPlaylistIndex];this.playlistArray=this.playlistArray.slice(0,playlistArrayIndex).concat(mediaArray).concat(this.playlistArray.slice(playlistArrayIndex));insertedAt.push(playlistArrayIndex);}if(this.controller.bPlayerInteracted&&(playlistArrayIndex<=this.currentIndex)){this.currentIndex+=mediaArray.length;}}this.fireupdateAndResolve(media2Resolve);return insertedAt;};YAHOO.mediaplayer.PlaylistManager.prototype.createMediaAndInsert=function(itemsToInsert){var mediaToInsert=[];for(var i=0,outLen=itemsToInsert.length;i<outLen;i++){var itemsArray=itemsToInsert[i].itemsArray;var mediaArray=[];for(var o=0,inLen=itemsArray.length;o<inLen;o++){if(YAHOO.mediaplayer.MediaResolver.PlaylistMimeTypes[itemsArray[o].mimeType]){mediaArray.push(this.createMediaObject(itemsArray[o],"Playlist"));}else{mediaArray.push(this.createMediaObject(itemsArray[o],"Track"));}}mediaToInsert.push({"mediaArray":mediaArray,"index":itemsToInsert[i].index});}return this.insertMedia(mediaToInsert);};YAHOO.mediaplayer.PlaylistManager.prototype.insert=function(itemsArray,index){return this.createMediaAndInsert([{"itemsArray":itemsArray,"index":index}]);};YAHOO.mediaplayer.PlaylistManager.prototype.onCurrentMediaSet=function(media){if(this.controller.view.displayState!==YAHOO.mediaplayer.View.DisplayState.MAX){return;}this.controller.mediaresolver.resolveDynamic(media);};YAHOO.mediaplayer.PlaylistManager.prototype.onMediaResolved=function(media){this.controller.mediaresolver.getMetadata(media);if(!this.delayedPlayMedia){return;}if(this.delayedPlayMedia!=media){return;}YAHOO.mediaplayer.Controller.mediaengine.play(this.delayedPlayMedia,0,true);this.delayedPlayMedia=null;};YAHOO.mediaplayer.PlaylistManager.prototype.onError=function(obj){if((obj.code==4)&&obj.media){var media=obj.media;var mediaIndex=this.getMediaIndex(media);this.playlistArray.splice(mediaIndex,1);if(mediaIndex<this.currentIndex){this.currentIndex--;}}};YAHOO.mediaplayer.PlaylistManager.prototype.getCurrentMedia=function(){return this.playlistArray[this.currentIndex];};YAHOO.mediaplayer.PlaylistManager.prototype.getNextMedia=function(){if(!this.isCurrentMediaLastInPlaylist()){return this.playlistArray[this.currentIndex+1];}return null;};YAHOO.mediaplayer.PlaylistManager.prototype.isCurrentMediaLastInPlaylist=function(){if((this.getPlaylistCurrentIndex()+1)<this.getPlaylistLength()){return false;}return true;};YAHOO.mediaplayer.PlaylistManager.prototype.getPlaylistItem=function(index){return this.playlistArray[index];};YAHOO.mediaplayer.PlaylistManager.prototype.getPlaylistLength=function(){return this.playlistArray.length;};YAHOO.mediaplayer.PlaylistManager.prototype.getPlaylistCurrentIndex=function(){return this.currentIndex;};YAHOO.mediaplayer.PlaylistManager.prototype._mapTopLevelPlaylistToMedia=function(){var map=[];for(var i=0,l=this.playlistArray.length;i<l;i++){map.push(i);if(this.playlistArray[i].parent){i+=this.playlistArray[i].parent.mediaArray.length-1;}}return map;};YAHOO.mediaplayer.PlaylistManager.prototype.getMediaTopLevelIndex=function(media){var mainPlaylistTopTracks=this._mapTopLevelPlaylistToMedia();var index=this.getMediaIndex(media);for(var i=0,l=mainPlaylistTopTracks.length;i<l;i++){if(mainPlaylistTopTracks[i]===index){return i;}}return -1;};YAHOO.mediaplayer.MediaResolver=function(controller){var subscribeToControllersEvents=[];YAHOO.mediaplayer.MediaResolver.superclass.constructor.call(this,controller,subscribeToControllersEvents);this.EventManager.addEvents(["onPlaylistUpdate","onError","onMediaResolved"]);this.initController(controller);this.controller=this.getController();this.rhapsodyMediaCollection=[];this.ymuMediaCollection=[];};Y.extend(YAHOO.mediaplayer.MediaResolver,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.MediaResolver.prototype.refByName="mediaresolver";YAHOO.mediaplayer.MediaResolver.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.MediaResolver.PlaylistMimeTypes={"application/xspf+xml":true,"application/x-xspf+xml":true,"audio/x-mpegurl":true,"audio/x-scpls":true,"audio/pn-realaudio":true,"video/x-ms-asf":true,"video/ms-asf":true,"playlist/ptp":true};YAHOO.mediaplayer.MediaResolver.ResolvingState={NOTSTARTED:0,STARTED:1,FINISHED:2};YAHOO.mediaplayer.MediaResolver.prototype.isSimpleMedia=function(mimeType){if(mimeType&&mimeType.length>0){if(!YAHOO.mediaplayer.MediaResolver.PlaylistMimeTypes[mimeType]){return true;}}else{return false;}};YAHOO.mediaplayer.MediaResolver.prototype.resolveStatic=function(media){var temp;if(YAHOO.mediaplayer.MediaResolver.PlaylistMimeTypes[media.mimeType]){YAHOO.mediaplayer.SWFProxy.getPlayThisPage(media.anchor.href,{success:YAHOO.mediaplayer.Controller.mediaresolver.onPTPSuccess,failure:YAHOO.mediaplayer.Controller.mediaresolver.onPTPFail,argument:media,scope:this});return;}var props=this.getSimpleMediaProperties(media);switch(media.mimeType){case YAHOO.mediaplayer.Parser.MimeTypes.rhapsody:var rid=media.anchor.getAttribute("rid");var match=YAHOO.mediaplayer.Rhapsody.regex.track.exec(media.anchor.href);props.token=rid?rid:match[5];break;case YAHOO.mediaplayer.Parser.MimeTypes.yahoo:var match=YAHOO.mediaplayer.ymu.regex.track.exec(media.anchor.href);props.token=match[5];props.yTrackID=props.token;break;case YAHOO.mediaplayer.Parser.MimeTypes.youtube:var match=YAHOO.mediaplayer.Parser.regex.youtube.exec(media.anchor.href)||YAHOO.mediaplayer.Parser.regex.youtube_alt.exec(media.anchor.href);
props.token=match[2];props.videoId=props.token;props.thumbnail="http://img.youtube.com/vi/"+props.videoId+"/1.jpg";props.bIsVideo=true;break;case YAHOO.mediaplayer.Parser.MimeTypes.ymovies:var match=YAHOO.mediaplayer.Parser.regex.ymovies.exec(media.anchor.href);props.token=match[2];props.bIsVideo=true;break;case YAHOO.mediaplayer.Parser.MimeTypes.yvideo:var match=YAHOO.mediaplayer.Parser.regex.ywebplayer.exec(media.anchor.href);props.token=match[1];props.videoId=props.token;props.bIsVideo=true;break;}media.setProperties(props);};YAHOO.mediaplayer.MediaResolver.prototype.resolveDynamic=function(media){if(media.resolvingState!=YAHOO.mediaplayer.MediaResolver.ResolvingState.NOTSTARTED){return;}media.resolvingState=YAHOO.mediaplayer.MediaResolver.ResolvingState.STARTED;switch(media.mimeType){case YAHOO.mediaplayer.Parser.MimeTypes.ymovies:YAHOO.mediaplayer.SWFProxy.getYahooMovieTrailers(media.token,{success:YAHOO.mediaplayer.Controller.mediaresolver.onResolveSuccess,failure:YAHOO.mediaplayer.Controller.mediaresolver.onResolveFail,argument:{"media":media,"callback":YAHOO.mediaplayer.Controller.mediaresolver.onYahooMovieTrailersReady},scope:this});break;case YAHOO.mediaplayer.Parser.MimeTypes.yahoo:YAHOO.mediaplayer.SWFProxy.getMetadata([media.token],{success:YAHOO.mediaplayer.Controller.mediaresolver.onWsapiMetadataReady,failure:YAHOO.mediaplayer.Controller.mediaresolver.onResolveFail,argument:{media:media},scope:this},"yahoo","wsapi");break;default:this.mediaResolved(media);}};YAHOO.mediaplayer.MediaResolver.prototype.getMetadata=function(media){switch(media.mimeType){case YAHOO.mediaplayer.Parser.MimeTypes.rhapsody:YAHOO.mediaplayer.SWFProxy.getRhapMetadata([media.token],{success:YAHOO.mediaplayer.Controller.mediaresolver.onRhapsodyMetadataReady,failure:YAHOO.mediaplayer.Controller.mediaresolver.onMetadataFail,argument:{media:media},timeout:4000,scope:this});break;}};YAHOO.mediaplayer.MediaResolver.prototype.onMetadataFail=function(o){this.fireMetadataError(o.argument.media);};YAHOO.mediaplayer.MediaResolver.prototype.onWsapiMetadataReady=function(o){try{var jsonObject=Y.JSON.parse(o.responseText);var media=o.argument.media;var retTrack=jsonObject.Tracks.Track;if(!jsonObject||typeof(jsonObject)!="object"||(media.token.toLowerCase()!=retTrack.id.toLowerCase())){this.onResolveFail(o);return;}var rhapId,amgId;if(retTrack.Mappings&&typeof(retTrack.Mappings)==="object"){var trackMappings=Y.Lang.isArray(retTrack.Mappings.Mapping)?retTrack.Mappings.Mapping:[retTrack.Mappings.Mapping];for(var m=0;m<trackMappings.length;m++){var mapping=trackMappings[m];switch(mapping.catalogID){case YAHOO.mediaplayer.ymu.amgCatalogId:amgId=mapping.id;break;case YAHOO.mediaplayer.ymu.rhapsodyCatalogId:rhapId=mapping.id;break;}}}var props={};if(retTrack.Artist){var artistObj=null;artistObj=Y.Lang.isArray(retTrack.Artist)?retTrack.Artist[0]:retTrack.Artist;if(artistObj&&typeof(artistObj.name)==="string"&&artistObj.name.length>0){props.artistName=artistObj.name;props.yArtistID=artistObj.id;}}if(retTrack.Album&&retTrack.Album.Release&&typeof(retTrack.Album.Release.title)==="string"&&retTrack.Album.Release.title.length>0){props.albumName=retTrack.Album.Release.title;props.yAlbumID=retTrack.Album.Release.id;}if(typeof(retTrack.title)==="string"&&retTrack.title.length>0){props.title=retTrack.title;}if(retTrack.Album&&retTrack.Album.Release&&retTrack.Album.Release.Image){var images=Y.Lang.isArray(retTrack.Album.Release.Image)?retTrack.Album.Release.Image:[retTrack.Album.Release.Image];for(var k=0;k<retTrack.Album.Release.Image.length;k++){props.albumArt=retTrack.Album.Release.Image[k].url;if(parseInt(retTrack.Album.Release.Image[k].size)>100){break;}}}if(retTrack.Video&&retTrack.Video.id){props.yVideoID=retTrack.Video.id;}media.setProperties(props);if(YAHOO.mediaplayer.YMPParams.disablerhap25===false){if(!rhapId){this.fireResolveFail(media,"26");return;}else{props.token=rhapId;props.mimeType=YAHOO.mediaplayer.Parser.MimeTypes.rhapsody;var downloadFlag=parseInt(YAHOO.mediaplayer.ymu.rightsFlags.DOWNLOAD);if(downloadFlag!=0){var buyURL="http://mp3.rhapsody.com/goto?rcid="+rhapId.toLowerCase()+"&pcode="+YAHOO.mediaplayer.YMPParams.rhappcode+"&ocode="+YAHOO.mediaplayer.YMPParams.rhappcode+"&cpath=buylink&rsrc="+((YAHOO.mediaplayer.YMPParams.ypartner&&YAHOO.mediaplayer.YMPParams.ypartner.length>0)?YAHOO.mediaplayer.YMPParams.ypartner:"yahoo");props.buyURL=buyURL;}}}else{if(!amgId){this.fireResolveFail(media,"25");return;}else{props.token="http://sg1.allmusic.com/cg/smp.dll?link="+amgId+"&r=96.mp3";props.mimeType=YAHOO.mediaplayer.Parser.MimeTypes.amg;props.bIsSample=true;}}media.setProperties(props);this.mediaResolved(media);}catch(e){this.onResolveFail(o);}};YAHOO.mediaplayer.MediaResolver.prototype.fireMetadataError=function(media,errorArgs){var errorObj=new YAHOO.mediaplayer.Error("10",errorArgs);errorObj.media=media;errorObj.display=true;this.EventManager.onError.fire(errorObj);};YAHOO.mediaplayer.MediaResolver.prototype.onPTPSuccess=function(o){try{var json=Y.JSON.parse(o.responseText);var playlist=o.argument;if(json.playlist!=null){var temp=json.playlist.title;if(typeof(temp)==="string"){playlist.title=temp;}temp=json.playlist.info;if(typeof(temp)==="string"){playlist.info=temp;}playlist.url=playlist.anchor.href;if(json.playlist.track.length<=0){var errorObj=new YAHOO.mediaplayer.Error("5",null);errorObj.media=playlist;this.EventManager.onError.fire(errorObj);}for(var i=0,ilen=json.playlist.track.length;i<ilen;i++){var temp=new YAHOO.mediaplayer.Media.Track(YAHOO.mediaplayer.Controller);if(json.playlist.track[i].location.constructor==Array&&json.playlist.track[i].location.length>0){temp.mimeType=YAHOO.mediaplayer.Controller.parser.getMimeTypeFromExtension(json.playlist.track[i].location[0]);}temp.parent=playlist;playlist.mediaArray.push(temp);}this.EventManager.onPlaylistUpdate.fire(playlist);for(var i=0,ilen=json.playlist.track.length;i<ilen;i++){var props={};if(json.playlist.track[i].location&&json.playlist.track[i].location.constructor==Array&&json.playlist.track[i].location.length>0){props.token=json.playlist.track[i].location[0];
}if(json.playlist.track[i].type&&json.playlist.track[i].type.constructor==Array&&json.playlist.track[i].type.length>0){props.mimeType=json.playlist.track[i].type[0];}if(typeof(json.playlist.track[i].title)==="string"){props.title=json.playlist.track[i].title;}if(props.title==null||props.title==""){props.title=decodeURIComponent(props.token.substring(props.token.lastIndexOf("/")+1,props.token.length));}if(typeof(json.playlist.track[i].creator)==="string"){props.artistName=json.playlist.track[i].creator;}if(typeof(json.playlist.track[i].album)==="string"){props.albumName=json.playlist.track[i].album;}if(typeof(json.playlist.track[i].image)==="string"){props.albumArt=json.playlist.track[i].image;}if(props.mimeType===YAHOO.mediaplayer.Parser.MimeTypes.rhapsody||props.mimeType===YAHOO.mediaplayer.Parser.MimeTypes.yahoo){if(props.mimeType===YAHOO.mediaplayer.Parser.MimeTypes.rhapsody){match=YAHOO.mediaplayer.Rhapsody.regex.track.exec(props.token);this.rhapsodyMediaCollection[this.rhapsodyMediaCollection.length]=playlist.mediaArray[i];props.token=match[5];}else{match=YAHOO.mediaplayer.ymu.regex.track.exec(props.token);this.ymuMediaCollection[this.ymuMediaCollection.length]=playlist.mediaArray[i];props.token=match[5];props.yTrackID=props.token;}}playlist.mediaArray[i].setProperties(props);}}else{var errorObj=new YAHOO.mediaplayer.Error("5",null);errorObj.media=playlist;this.EventManager.onError.fire(errorObj);}}catch(e){}};YAHOO.mediaplayer.MediaResolver.prototype.onPTPFail=function(o){var errorObj=new YAHOO.mediaplayer.Error("4",null);errorObj.media=o.argument;this.EventManager.onError.fire(errorObj);};YAHOO.mediaplayer.MediaResolver.prototype.getSimpleMediaProperties=function(media){try{var props={};var href=YAHOO.mediaplayer.Util.trim(media.anchor.href);if(href.substr(0,24)==="http://us.lrd.yahoo.com/"){var intStart=href.indexOf("**http");if(typeof intStart=="number"&&intStart>0){intStart+=2;href=href.substr(intStart,href.length-intStart);href=decodeURIComponent(href);}}props.token=href;if(props.token==null||props.token==""){return null;}props.title=media.anchor.getAttribute("title");if(props.title==null||props.title==""){props.title=this.parseTextNode(media.anchor);if(props.title==""){props.title=decodeURIComponent(media.anchor.href.substring(media.anchor.href.lastIndexOf("/")+1,media.anchor.href.length));}}props.albumName=media.anchor.getAttribute("album");if(props.albumName==null){props.albumName="";}props.artistName=media.anchor.getAttribute("artist");if(props.artistName==null){props.artistName="";}var albumImg=media.anchor.getElementsByTagName("img")[0];if(albumImg!=null){props.albumArt=albumImg.src;}return props;}catch(e){return null;}};YAHOO.mediaplayer.MediaResolver.prototype.parseTextNode=function(elm){function normalizeText(str){return str.replace(/[\r\n\t]+/gm," ");}try{if(typeof(elm.innerText)==="string"){return normalizeText(elm.innerText);}if(elm.nodeType==3){return normalizeText(elm.nodeValue);}var textNodes=[],i=0;while(elm.childNodes[i]){textNodes.push(this.parseTextNode(elm.childNodes[i++]));}return textNodes.join("");}catch(e){return"";}};YAHOO.mediaplayer.MediaResolver.prototype.onRhapsodyMetadataReady=function(o){try{var respText=o.responseText;var media=o.argument.media;var jsonObject=Y.JSON.parse(o.responseText);if(!jsonObject||(typeof(jsonObject)!="object")||jsonObject.status.success!=true||jsonObject.status.blocked!=false||(media.token.toLowerCase()!=jsonObject.data[0].trackId.toLowerCase())){this.onMetadataFail(o);return;}var data=jsonObject.data;var props={};if(typeof(data[0].displayArtistName)==="string"&&data[0].displayArtistName!==""){props.artistName=data[0].displayArtistName;}if(typeof(data[0].displayAlbumName)==="string"&&data[0].displayAlbumName!==""){props.albumName=data[0].displayAlbumName;}if(typeof(data[0].name)==="string"&&data[0].name!==""){props.title=data[0].name;}if(data[0].album&&typeof(data[0].album.albumArt162X162Url)==="string"&&data[0].album.albumArt162X162Url!==""){props.albumArt=data[0].album.albumArt162X162Url;}if(typeof(data[0].purchaseInfo.url)==="string"&&data[0].purchaseInfo.url.length>0){props.buyURL="http://mp3.rhapsody.com/goto?rcid="+jsonObject.data[0].trackId.toLowerCase()+"&pcode="+YAHOO.mediaplayer.YMPParams.rhappcode+"&ocode="+YAHOO.mediaplayer.YMPParams.rhappcode+"&cpath=buylink&rsrc="+((YAHOO.mediaplayer.YMPParams.ypartner&&YAHOO.mediaplayer.YMPParams.ypartner.length>0)?YAHOO.mediaplayer.YMPParams.ypartner:"yahoo");}media.setProperties(props);}catch(e){this.onMetadataFail(o);}};YAHOO.mediaplayer.MediaResolver.prototype.mediaResolved=function(media){var props={};props.resolvingState=YAHOO.mediaplayer.MediaResolver.ResolvingState.FINISHED;media.setProperties(props);this.EventManager.onMediaResolved.fire(media);};YAHOO.mediaplayer.MediaResolver.prototype.onYahooMovieTrailersReady=function(jsonObject,argument){var media=argument.media;if(jsonObject.query.results==null){this.onResolveFail(o);return;}function getMovieAttributeArray(group,attr){var attrList=null;var attrArr=[];if(jsonObject.query.results.result[group]){attrList=jsonObject.query.results.result[group][attr];attrArr=Y.Lang.isArray(attrList)?attrList:[attrList];}return attrArr;}function getMainVideo(videoArr){var mainVideo=videoArr[0]||null;for(var i=0,l=videoArr.length;i<l;i++){if(videoArr[i].type.toLowerCase()==="trailer"){mainVideo=videoArr[i];break;}}return mainVideo;}function getVideoProps(video){return{thumbnail:video.thumbnail,duration:video.duration,bIsVideo:true,videoId:video.id,title:video.title,mimeType:YAHOO.mediaplayer.Parser.MimeTypes.yvideo};}var videoArr=getMovieAttributeArray("VideoList","Video");var mainVideo=getMainVideo(videoArr);if(mainVideo){media.setProperties(getVideoProps(mainVideo));}for(var i=0,l=videoArr.length;i<l;i++){if(mainVideo===videoArr[i]){continue;}var relatedMedia=getVideoProps(videoArr[i]);relatedMedia.resolvingState=YAHOO.mediaplayer.MediaResolver.ResolvingState.FINISHED;relatedMedia.relatedTo=media;media.relatedMedia.push(relatedMedia);
}var titles=getMovieAttributeArray("TitleList","Title");var movieName=titles[0]||null;media.title=movieName||media.title;if(mainVideo){this.mediaResolved(media);}else{if(movieName==null){this.onResolveFail(o);return;}media.contentFallbackFlag=true;var me=this;setTimeout(function(){YAHOO.mediaplayer.SWFProxy.searchYouTubeVideos(movieName+"+trailer",1,{success:YAHOO.mediaplayer.Controller.mediaresolver.onResolveSuccess,failure:YAHOO.mediaplayer.Controller.mediaresolver.onResolveFail,argument:{"media":media,"callback":YAHOO.mediaplayer.Controller.mediaresolver.onYouTubeVideosReady},scope:me});},1);}};YAHOO.mediaplayer.MediaResolver.prototype.onYouTubeVideosReady=function(jsonObject,argument){var props={};var media=argument.media;if(jsonObject.feed===null){this.onResolveFail(o);return;}media.videoId=jsonObject.feed.entry[0].id.$t.split(":").pop();media.mimeType=YAHOO.mediaplayer.Parser.MimeTypes.youtube;this.mediaResolved(media);};YAHOO.mediaplayer.MediaResolver.prototype.fireResolveFail=function(media,errorCode,errorArg){media.resolvingState=YAHOO.mediaplayer.MediaResolver.ResolvingState.FINISHED;var errorObj=new YAHOO.mediaplayer.Error(errorCode,errorArg);errorObj.media=media;errorObj.display=true;this.EventManager.onError.fire(errorObj);setTimeout(function(){media.resolvingState=YAHOO.mediaplayer.MediaResolver.ResolvingState.NOTSTARTED;},1);};YAHOO.mediaplayer.MediaResolver.prototype.onResolveFail=function(o){this.fireResolveFail(o.argument.media,(o.errorCode||"12"));};YAHOO.mediaplayer.MediaResolver.prototype.onResolveSuccess=function(o){try{var jsonObject=Y.JSON.parse(o.responseText);o.argument.callback.call(this,jsonObject,o.argument);}catch(e){this.onResolveFail(o);}};YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.Playlist=function(controller,obj){var subscribeToControllersEvents=[];YAHOO.mediaplayer.Playlist.superclass.constructor.call(this,controller,subscribeToControllersEvents);this.initController(controller);this.controller=this.getController();this.id=YAHOO.mediaplayer.Util.GUID(YAHOO.mediaplayer.Util.getRnd(0,1000));this.title="";this.url="";this.creator="";this.anchor=null;this.nodes={};this.mimeType="";this.info="";this.mediaArray=[];for(var props in obj){this[props]=obj[props];}};Y.extend(YAHOO.mediaplayer.Playlist,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.Playlist.prototype.refByName="playlist";YAHOO.mediaplayer.Playlist.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.Media=function(controller){var subscribeToControllersEvents=[];YAHOO.mediaplayer.Media.superclass.constructor.call(this,controller,subscribeToControllersEvents);this.EventManager.addEvents(["onMediaUpdate"]);this.initController(controller);this.controller=this.getController();this.id=YAHOO.mediaplayer.Util.GUID(YAHOO.mediaplayer.Util.getRnd(0,1000));this.token=null;this.title="";this.mimeType="";this.anchor=null;this.nodes={};this.parent=null;this.buyURL="";this.duration="";this.bIsVideo=false;this.bIsSample=false;this.thumbnail=null;this.relatedMedia=[];this.resolvingState=YAHOO.mediaplayer.MediaResolver.ResolvingState.NOTSTARTED;this.type=null;this.playbackEngine=null;this.contentFallbackFlag=false;};Y.extend(YAHOO.mediaplayer.Media,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.Media.prototype.refByName="media";YAHOO.mediaplayer.Media.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.Media.Types={AUDIO:0,VIDEO:1};YAHOO.mediaplayer.Media.prototype.setProperties=function(obj,fireEvent){for(var props in obj){this[props]=obj[props];}fireEvent=("undefined"!==typeof fireEvent)?fireEvent:true;if(fireEvent===true){this.EventManager.onMediaUpdate.fire(this);}};YAHOO.mediaplayer.Media.prototype.getType=function(){if(null===this.type){this.type=(this.bIsVideo)?YAHOO.mediaplayer.Media.Types.VIDEO:YAHOO.mediaplayer.Media.Types.AUDIO;}return this.type;};YAHOO.mediaplayer.Media.prototype.hasRelatedMedia=function(){return((this.relatedMedia.length>0)||(this.relatedTo&&(this.relatedTo.relatedMedia.length>1)));};YAHOO.mediaplayer.Media.prototype.getRelatedMedia=function(){if(!this.hasRelatedMedia()){return[];}if(this.relatedMedia.length>0){return this.relatedMedia;}var results=[];var relatedMedia=this.relatedTo.relatedMedia;for(var i=0;i<relatedMedia.length;i++){if(relatedMedia[i].videoId===this.videoId){continue;}results.push(relatedMedia[i]);}this.relatedMedia=results;return results;};YAHOO.namespace("YAHOO.mediaplayer.Media");YAHOO.mediaplayer.Media.Track=function(controller){YAHOO.mediaplayer.Media.Track.superclass.constructor.call(this,controller);this.albumName="";this.artistName="";this.albumArt="";};Y.extend(YAHOO.mediaplayer.Media.Track,YAHOO.mediaplayer.Media);YAHOO.mediaplayer.Media.Track.prototype.refByName="track";YAHOO.mediaplayer.Media.Track.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.MediaEngine=function(controller){var subscribeToControllersEvents=["onPlayStateChange","onVolumeChangeRequest"];YAHOO.mediaplayer.MediaEngine.superclass.constructor.call(this,controller,subscribeToControllersEvents);this.EventManager.addEvents(["onPlayStateChange","onMediaProgress","onError","onVolumeChange"]);this.initController(controller);this.controller=this.getController();this.currentEngine=null;this.currentMedia=null;this.players=[];this.currentPlayState=0;this.progressIntervalID=null;this.volumeCookieName=YAHOO.mediaplayer.YMPParams.volumecookiename||"YWP_VOLUME";var vol=YAHOO.mediaplayer.Util.getCookie(this.volumeCookieName);if("undefined"===typeof vol){vol=YAHOO.mediaplayer.Util.getCookie("YMP_VOLUME");}this.vol=("undefined"!==typeof vol)?vol:-1;if(this.vol<0||this.vol>1){this.vol=("undefined"!==typeof YAHOO.mediaplayer.YMPParams.volume?YAHOO.mediaplayer.YMPParams.volume:0.5);YAHOO.mediaplayer.Util.setCookie(this.volumeCookieName,this.vol);}this.playbackTimeout=20000;this.playbackTimeoutID=null;
};Y.extend(YAHOO.mediaplayer.MediaEngine,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.MediaEngine.prototype.refByName="mediaengine";YAHOO.mediaplayer.MediaEngine.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.MediaEngine.PlayState={STOPPED:0,PAUSED:1,PLAYING:2,BUFFERING:3,ENDED:4,AD_START:5,AD_PROGRESS:6,AD_ENDED:7};YAHOO.mediaplayer.MediaEngine.prototype.ErrorState={};YAHOO.mediaplayer.MediaEngine.prototype.play=function(media,seek,bNewPlay){if(typeof seek=="undefined"){seek=bNewPlay?0:this.getElapsed();}if(this.currentEngine!=null){if(this.currentMedia==media){this.currentEngine.setVolume(this.vol,true);this.currentEngine.play(media,seek);this.startPlaybackTimeout();return;}else{if(this.currentPlayState!=YAHOO.mediaplayer.MediaEngine.PlayState.STOPPED&&this.currentPlayState!=YAHOO.mediaplayer.MediaEngine.PlayState.ENDED){try{this.stop();}catch(e){}}}}this.currentMedia=media;this.setMediaEngine(media);if(this.currentEngine!=null){try{if(bNewPlay){this.changePlayState(YAHOO.mediaplayer.MediaEngine.PlayState.BUFFERING,this.currentEngine);}media.playbackEngine=this.currentEngine.refByName;this.currentEngine.setVolume(this.vol,true);this.currentEngine.play(media,seek);this.startPlaybackTimeout();}catch(e){}}};YAHOO.mediaplayer.MediaEngine.prototype.pause=function(){try{this.clearPlaybackTimeout();this.currentEngine.pause();}catch(e){}};YAHOO.mediaplayer.MediaEngine.prototype.stop=function(){try{this.currentEngine.stop();}catch(e){}this.clearPlaybackTimeout();};YAHOO.mediaplayer.MediaEngine.prototype.startPlaybackTimeout=function(){this.clearPlaybackTimeout();this.playbackTimeoutID=window.setTimeout(this.toString()+".checkSongPlayback()",this.playbackTimeout);};YAHOO.mediaplayer.MediaEngine.prototype.clearPlaybackTimeout=function(){if(this.playbackTimeoutID!=null){window.clearTimeout(this.playbackTimeoutID);this.playbackTimeoutID=null;}};YAHOO.mediaplayer.MediaEngine.prototype.checkSongPlayback=function(){var elapsed=this.currentEngine.getElapsed();if((elapsed==null)||(elapsed<=0)){this.handleError(11,null);}};YAHOO.mediaplayer.MediaEngine.prototype.getElapsed=function(){if(this.currentEngine!=null){return this.currentEngine.getElapsed();}return 0;};YAHOO.mediaplayer.MediaEngine.prototype.getDuration=function(){if(this.currentEngine!=null){return this.currentEngine.getDuration();}return 0;};YAHOO.mediaplayer.MediaEngine.prototype.fireProgress=function(media){var elapsed=this.currentEngine.getElapsed();var duration=this.currentEngine.getDuration();media.duration=duration;this.EventManager.onMediaProgress.fire({elapsed:elapsed,duration:duration,media:media});};YAHOO.mediaplayer.MediaEngine.prototype.changePlayState=function(newState,engine,obj){if(engine&&(this.currentEngine!==engine)){return;}switch(newState){case YAHOO.mediaplayer.MediaEngine.PlayState.AD_START:this.clearPlaybackTimeout();break;case YAHOO.mediaplayer.MediaEngine.PlayState.AD_ENDED:this.startPlaybackTimeout();break;}if((newState!=this.currentPlayState)||(newState===YAHOO.mediaplayer.MediaEngine.PlayState.AD_PROGRESS)){var oldState=this.currentPlayState;this.currentPlayState=newState;this.EventManager.onPlayStateChange.fire({media:this.currentMedia,oldState:oldState,newState:newState,data:obj});}};YAHOO.mediaplayer.MediaEngine.prototype.handleError=function(errorCode,args){this.clearPlaybackTimeout();var errorObj=new YAHOO.mediaplayer.Error(errorCode,args);errorObj.media=this.currentMedia;this.EventManager.onError.fire(errorObj);};YAHOO.mediaplayer.MediaEngine.prototype.setMediaEngine=function(media){switch(media.mimeType){case"audio/mp3":case"audio/mpeg":case"audio/mpeg3":case"audio/x-mpeg-3":case"audio/amg":switch(YAHOO.mediaplayer.Util.OS){case"Windows":switch(YAHOO.mediaplayer.Util.BROWSER){case"Firefox":case"Safari":case"Netscape":case"Mozilla":this.currentEngine=this.getAvailableMediaEngine(["FlashEngine","QTEngine","WMPEngine"]);break;case"MSIE":this.currentEngine=this.getAvailableMediaEngine(["FlashEngine","WMPEngineIE","QTEngine"]);break;case"Opera":this.currentEngine=this.getAvailableMediaEngine(["FlashEngine","QTEngine"]);break;default:this.currentEngine=this.getAvailableMediaEngine(["FlashEngine","QTEngine","WMPEngine"]);break;}break;case"Mac":switch(YAHOO.mediaplayer.Util.BROWSER){case"Firefox":case"Safari":case"Opera":case"Camino":case"Netscape":case"Mozilla":this.currentEngine=this.getAvailableMediaEngine(["FlashEngine","QTEngine"]);break;default:this.currentEngine=this.getAvailableMediaEngine(["FlashEngine","QTEngine"]);break;}break;case"Linux":this.currentEngine=this.getAvailableMediaEngine(["FlashEngine"]);break;default:}break;case"audio/wma":case"audio/x-ms-wma":case"audio/ms-wma":switch(YAHOO.mediaplayer.Util.OS){case"Windows":switch(YAHOO.mediaplayer.Util.BROWSER){case"Firefox":case"Safari":case"Netscape":case"Mozilla":case"Opera":this.currentEngine=this.getAvailableMediaEngine(["WMPEngine"]);break;case"MSIE":this.currentEngine=this.getAvailableMediaEngine(["WMPEngineIE"]);break;default:this.currentEngine=this.getAvailableMediaEngine(["WMPEngine"]);break;}break;case"Mac":switch(YAHOO.mediaplayer.Util.BROWSER){case"Firefox":case"Safari":case"Opera":case"Camino":case"Netscape":case"Mozilla":this.currentEngine=this.getAvailableMediaEngine(["QTEngine"]);break;default:this.currentEngine=this.getAvailableMediaEngine(["QTEngine"]);break;}break;case"Linux":break;default:}break;case"audio/wav":case"audio/x-wav":switch(YAHOO.mediaplayer.Util.OS){case"Windows":switch(YAHOO.mediaplayer.Util.BROWSER){case"MSIE":this.currentEngine=this.getAvailableMediaEngine(["QTEngine","WMPEngineIE"]);break;case"Firefox":case"Safari":case"Camino":case"Netscape":case"Mozilla":case"Opera":this.currentEngine=this.getAvailableMediaEngine(["QTEngine"]);break;default:this.currentEngine=this.getAvailableMediaEngine(["QTEngine"]);}break;case"Mac":this.currentEngine=this.getAvailableMediaEngine(["QTEngine"]);break;}break;case"audio/rhapsody":case"audio/yahoo":this.currentEngine=this.getAvailableMediaEngine(["RhapsodyEngine"]);
break;case"audio/mp4":switch(YAHOO.mediaplayer.Util.OS){case"Windows":switch(YAHOO.mediaplayer.Util.BROWSER){case"Firefox":case"Safari":case"Netscape":case"Mozilla":case"MSIE":case"Opera":this.currentEngine=this.getAvailableMediaEngine(["QTEngine"]);break;default:this.currentEngine=this.getAvailableMediaEngine(["QTEngine"]);break;}break;case"Mac":switch(YAHOO.mediaplayer.Util.BROWSER){case"Firefox":case"Safari":case"Opera":case"Camino":case"Netscape":case"Mozilla":this.currentEngine=this.getAvailableMediaEngine(["QTEngine"]);break;default:this.currentEngine=this.getAvailableMediaEngine(["QTEngine"]);break;}break;case"Linux":this.currentEngine=this.getAvailableMediaEngine(["QTEngine"]);break;default:}break;case"audio/unknown":switch(YAHOO.mediaplayer.Util.OS){case"Windows":this.currentEngine=this.getAvailableMediaEngine(["WMPEngine"]);break;}break;case"video/x-flv":this.currentEngine=this.getAvailableMediaEngine(["FlvEngine"]);break;case"video/youtube":this.currentEngine=this.getAvailableMediaEngine(["YouTubeEngine"]);break;case"video/yahoo":case"video/yahoomovies":this.currentEngine=this.getAvailableMediaEngine(["YEPEngine"]);break;default:switch(YAHOO.mediaplayer.Util.OS){case"Windows":switch(YAHOO.mediaplayer.Util.BROWSER){case"MSIE":this.currentEngine=this.getAvailableMediaEngine(["WMPEngineIE","QTEngine"]);break;case"Firefox":case"Safari":case"Camino":case"Netscape":case"Mozilla":this.currentEngine=this.getAvailableMediaEngine(["QTEngine","WMPEngine"]);break;case"Opera":this.currentEngine=this.getAvailableMediaEngine(["QTEngine"]);break;default:this.currentEngine=this.getAvailableMediaEngine(["QTEngine","WMPEngine"]);}break;case"Mac":this.currentEngine=this.getAvailableMediaEngine(["QTEngine"]);break;}break;}};YAHOO.mediaplayer.MediaEngine.prototype.getAvailableMediaEngine=function(engineList){if(YAHOO.mediaplayer.Util.BROWSER=="Firefox"&&YAHOO.mediaplayer.Util.BROWSER_VERSION==3){var plugin=document.getElementById("ymp-qt-engine");if(plugin){plugin.parentNode.removeChild(plugin);YAHOO.mediaplayer.Controller.qtengine=null;}}var lastEngineError;for(var i=0,ilen=engineList.length,engine,engineRefName;i<ilen;i++){try{engineRefName=engineList[i].toLowerCase();engine=YAHOO.mediaplayer.Controller[engineRefName];if(engine==null){engine=new YAHOO.mediaplayer[engineList[i]](this.controller);}if(engine.available){return engine;}}catch(e){lastEngineError=e;this.destroyEngine(YAHOO.mediaplayer.Controller[engineRefName]);}}Y.later(1,this,function(){if(!lastEngineError||!(lastEngineError instanceof YAHOO.mediaplayer.Error)){lastEngineError=new YAHOO.mediaplayer.Error("1",null);}lastEngineError.media=lastEngineError.media||this.currentMedia;this.EventManager.onError.fire(lastEngineError);});return null;};YAHOO.mediaplayer.MediaEngine.prototype.getVolume=function(){return this.vol;};YAHOO.mediaplayer.MediaEngine.prototype.onPlayStateChange=function(o){switch(o.newState){case YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING:if(o.media){o.media.duration=this.getDuration();}if(this.progressIntervalID==null){this.progressIntervalID=Y.later(1000,this,function(){this.fireProgress(o.media);},null,true);}break;default:if(this.progressIntervalID!=null){this.progressIntervalID.cancel();this.progressIntervalID=null;}this.clearPlaybackTimeout();break;}};YAHOO.mediaplayer.MediaEngine.prototype.onVolumeChangeRequest=function(vol){try{this.vol=Math.max(0,Math.min(1,vol));if(this.currentEngine!=null&&this.currentEngine.available){this.currentEngine.setVolume(this.vol);}YAHOO.mediaplayer.Util.setCookie(this.volumeCookieName,this.vol);this.EventManager.onVolumeChange.fire(this.vol);}catch(e){}};YAHOO.mediaplayer.MediaEngine.prototype.currentEngineSupportsSeek=function(){if(typeof this.currentEngine.seekSupported=="function"){return this.currentEngine.seekSupported();}return true;};YAHOO.mediaplayer.MediaEngine.prototype.getCurrentPlayState=function(){return this.currentPlayState;};YAHOO.mediaplayer.MediaEngine.prototype.destroyEngine=function(engine){engine.destroy&&engine.destroy();delete this.controller[engine.refByName];if(engine===this.currentEngine){this.currentEngine=null;}};YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.FlashEngine=function(controller){var subscribeToControllersEvents=[];YAHOO.mediaplayer.FlashEngine.superclass.constructor.call(this,controller,subscribeToControllersEvents);this.EventManager.addEvents(["onError"]);this.initController(controller);this.controller=this.getController();this.id="ymp-flash-engine";this.available=false;this.ready=false;this.currentMedia=null;this.vol=0.5;this.seek=null;this.init();};Y.extend(YAHOO.mediaplayer.FlashEngine,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.FlashEngine.prototype.refByName="flashengine";YAHOO.mediaplayer.FlashEngine.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.FlashEngine.prototype.init=function(){if(YAHOO.mediaplayer.SWFObject&&YAHOO.mediaplayer.SWFObject.hasPlayerVersion("9.0.0")){var dummyContainer=document.createElement("span");dummyContainer.id="dummy-flashengine";document.body.appendChild(dummyContainer);var flashVars={onLoad:this.toString()+".onLoad",timeout:20000};var params={allowScriptAccess:"always",allowNetworking:"all"};var attributes={id:this.id,name:this.id,style:"position:absolute; top:0; left:-30px;"};YAHOO.mediaplayer.SWFObject.embedSWF(YAHOO.mediaplayer.YMPParams.assetsroot+"/flash/flashsound.swf",dummyContainer.id,"1","1","9.0.0",false,flashVars,params,attributes);this.available=true;}else{throw (new YAHOO.mediaplayer.Error("27",null));}};YAHOO.mediaplayer.FlashEngine.prototype.onLoad=function(){this.ready=true;this.getSWF().flAddListener("PlayStateChange",this.toString()+".onPlayStateChange");this.getSWF().flAddListener("Error",this.toString()+".onError");if(this.currentMedia!=null){this.play(this.currentMedia,this.seek);}this.setVolume(this.vol);};YAHOO.mediaplayer.FlashEngine.prototype.play=function(media,seek){this.seek=seek;if(media!=null){this.currentMedia=media;
}if(this.ready){if(media!=null){this.getSWF().flLoadMedia(this.currentMedia.token);}this.getSWF().flPlay(this.seek);}};YAHOO.mediaplayer.FlashEngine.prototype.pause=function(){this.getSWF().flPause();};YAHOO.mediaplayer.FlashEngine.prototype.stop=function(organic){if(organic==null){organic=false;}this.getSWF().flStop(organic);};YAHOO.mediaplayer.FlashEngine.prototype.getElapsed=function(){return this.getSWF().flGetElapsed();};YAHOO.mediaplayer.FlashEngine.prototype.getDuration=function(){return this.getSWF().flGetDuration();};YAHOO.mediaplayer.FlashEngine.prototype.setVolume=function(vol){this.vol=vol;if(this.ready){this.getSWF().flSetVolume(vol);}};YAHOO.mediaplayer.FlashEngine.prototype.onError=function(args){YAHOO.mediaplayer.Controller.mediaengine.handleError(args,null);};YAHOO.mediaplayer.FlashEngine.prototype.onPlayStateChange=function(newState){YAHOO.mediaplayer.Controller.mediaengine.changePlayState(newState,this);};YAHOO.mediaplayer.FlashEngine.prototype.getSWF=function(){if(this.player==null){this.player=YAHOO.mediaplayer.SWFObject.getSWF(this.id);}return this.player;};YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.WMPEngine=function(controller){var subscribeToControllersEvents=[];YAHOO.mediaplayer.WMPEngine.superclass.constructor.call(this,controller,subscribeToControllersEvents);this.EventManager.addEvents([]);this.initController(controller);this.controller=this.getController();this.id="ymp-wmpff3-engine";this.version=null;this.player=null;this.available=false;this.currentState=null;this.currentMedia=null;this.ready=false;this.volume=null;this.naturalStop=true;this.seek=null;this.timeoutInterval=100;this.timeoutId=null;this.init();};Y.extend(YAHOO.mediaplayer.WMPEngine,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.WMPEngine.prototype.refByName="wmpff3engine";YAHOO.mediaplayer.WMPEngine.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.WMPEngine.prototype.PlayStateEnum={9:3,3:2,2:1,1:4,0:0};YAHOO.mediaplayer.WMPEngine.prototype.init=function(){if(!this.player){var pluginInstalled=false;if(YAHOO.mediaplayer.Util.detectPlugin("Windows Media Player Firefox","WMPlayer.OCX")!==null){pluginInstalled=true;}if(pluginInstalled===true){var dummyContainer=document.createElement("span");dummyContainer.id="dummy-wmpff3engine";document.body.appendChild(dummyContainer);var html="";if(YAHOO.mediaplayer.Util.BROWSER==="MSIE"){html="<object id='"+this.id+"' style='width:1px; height:1px; position:absolute; top:0; left:-30px; display:none;'"+" classid=CLSID:6BF52A52-394A-11D3-B153-00C04F79FAA6"+" type='application/x-oleobject'>"+"<param name='autostart' value='true'>"+"</object>";}else{if(YAHOO.mediaplayer.Util.BROWSER==="Firefox"||YAHOO.mediaplayer.Util.BROWSER==="Opera"||YAHOO.mediaplayer.Util.BROWSER==="Camino"||YAHOO.mediaplayer.Util.BROWSER==="Netscape"||YAHOO.mediaplayer.Util.BROWSER==="Mozilla"||YAHOO.mediaplayer.Util.BROWSER==="Unknown"){html="<object id='"+this.id+"' style='width:1px; height:1px;'"+"type='application/x-ms-wmp' data = ''>"+"<param name='URL' value='' /><param name='uiMode' value='none'>"+"</object>";}}html+='<script for="'+this.id+'" type="text/javascript" event="PlayStateChange(newState)">';html+="YAHOO.mediaplayer.Controller.wmpff3engine.onPlayStateChange(newState);";html+="<\/script>";html+='<script for="'+this.id+'" type="text/javascript" event="Error()">';html+="YAHOO.mediaplayer.Controller.wmpff3engine.onError();";html+="<\/script>";dummyContainer.innerHTML=html;this.currentState=0;setTimeout("YAHOO.mediaplayer.Controller.wmpff3engine.onLoad()",250);this.available=true;}else{this.available=false;if(YAHOO.mediaplayer.Util.BROWSER==="Firefox"){throw (new YAHOO.mediaplayer.Error("9",null));}}}};YAHOO.mediaplayer.WMPEngine.prototype.onLoad=function(){this.player=document.getElementById(this.id);this.version="WMPEngine "+this.player.versionInfo;this.ready=true;if(this.currentMedia!=null){if(typeof(this.volume)!=="number"){this.volume=0.5;}this.setVolume(this.volume);this.play(this.currentMedia);}};YAHOO.mediaplayer.WMPEngine.prototype.play=function(mediaObject,seek){if(typeof(seek)==="number"){this.seek=seek/1000;}if(this.currentState===this.PlayStateEnum[2]){this.player.controls.play();}else{if(mediaObject!=null){this.currentMedia=mediaObject;}if(this.ready){this.timeoutId=window.setTimeout("YAHOO.mediaplayer.Controller.wmpff3engine.checkPlayState()",this.timeoutInterval);this.player.URL=this.currentMedia.token;}}};YAHOO.mediaplayer.WMPEngine.prototype.pause=function(){this.player.controls.pause();};YAHOO.mediaplayer.WMPEngine.prototype.stop=function(){this.naturalStop=false;this.onPlayStateChange(0);if(this.timeoutId){window.clearTimeout(this.timeoutId);}this.player.controls.stop();};YAHOO.mediaplayer.WMPEngine.prototype.getElapsed=function(){if(this.player&&this.player.controls){return this.player.controls.currentPosition*1000;}else{return null;}};YAHOO.mediaplayer.WMPEngine.prototype.getDuration=function(){if(this.player&&this.player.controls&&this.player.controls.currentItem){return this.player.controls.currentItem.duration*1000;}else{return null;}};YAHOO.mediaplayer.WMPEngine.prototype.onPlayStateChange=function(newState){if(typeof(this.PlayStateEnum[newState])==="number"){this.currentState=this.PlayStateEnum[newState];if(this.currentState===2&&typeof(this.seek)==="number"){this.player.controls.currentPosition=this.seek;this.seek=null;}YAHOO.mediaplayer.Controller.mediaengine.changePlayState(this.PlayStateEnum[newState],this);}};YAHOO.mediaplayer.WMPEngine.prototype.setVolume=function(vol){this.volume=vol;if(this.player&&this.player.settings){this.player.settings.volume=parseInt(vol*100,10);}};YAHOO.mediaplayer.WMPEngine.prototype.getVolume=function(){return(this.player&&this.player.settings)?this.player.settings.volume/100:0;};YAHOO.mediaplayer.WMPEngine.prototype.onError=function(){try{if(this.player&&this.player.error&&this.player.error.errorCount>0){var error=null;var errorCode=String(this.player.error.item(0).errorCode);
switch(errorCode){case"C00D1197":case"80070037":case"800704CF":case"C00D001F":this.controller.mediaengine.handleError("1",null);break;case"800C2EE2":case"C00D000F":case"C00D1198":case"C00D1198":case"C00D11CB":this.controller.mediaengine.handleError("7",null);break;default:this.controller.mediaengine.handleError("3",null);break;}this.player.error.clearErrorQueue();this.stop();}}catch(ex){}this.onPlayStateChange(1);};YAHOO.mediaplayer.WMPEngine.prototype.checkPlayState=function(){window.clearTimeout(this.timeoutId);if(this.player&&this.player.error&&this.player.error.errorCount>0){this.onError(1);return;}else{if(this.player&&this.PlayStateEnum[this.player.playState]!==this.currentState){if(this.naturalStop===false&&this.player.playState==1){this.naturalStop=true;}else{this.onPlayStateChange(this.player.playState);}}}if(this.currentState>=1){this.timeoutId=window.setInterval("YAHOO.mediaplayer.Controller.wmpff3engine.checkPlayState()",this.timeoutInterval);}};YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.WMPEngineIE=function(controller){var subscribeToControllersEvents=[];YAHOO.mediaplayer.WMPEngineIE.superclass.constructor.call(this,controller,subscribeToControllersEvents);this.EventManager.addEvents([]);this.initController(controller);this.controller=this.getController();this.id="ymp-wmp-engine";this.version=null;this.player=null;this.available=false;this.currentState=null;this.currentMedia=null;this.ready=false;this.volume=null;this.seek=null;this.init();};Y.extend(YAHOO.mediaplayer.WMPEngineIE,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.WMPEngineIE.prototype.refByName="wmpengine";YAHOO.mediaplayer.WMPEngineIE.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.WMPEngineIE.prototype.PlayStateEnum={9:3,6:3,3:2,2:1,8:4,1:0};YAHOO.mediaplayer.WMPEngineIE.prototype.init=function(){if(!this.player){var pluginInstalled=false;if(YAHOO.mediaplayer.Util.detectPlugin("Windows Media Player Firefox","WMPlayer.OCX")!==null){pluginInstalled=true;}if(pluginInstalled===true){var dummyContainer=document.createElement("span");dummyContainer.id="dummy-wmpengine";document.body.appendChild(dummyContainer);var html="";if(YAHOO.mediaplayer.Util.BROWSER==="MSIE"){html="<object id='"+this.id+"' style='width:1px; height:1px; position:absolute; top:0; left:-30px; display:none;'"+" classid=CLSID:6BF52A52-394A-11D3-B153-00C04F79FAA6"+" type='application/x-oleobject'>"+"<param name='autostart' value='true'>"+"</object>";}else{if(YAHOO.mediaplayer.Util.BROWSER==="Firefox"||YAHOO.mediaplayer.Util.BROWSER==="Opera"||YAHOO.mediaplayer.Util.BROWSER==="Camino"||YAHOO.mediaplayer.Util.BROWSER==="Netscape"||YAHOO.mediaplayer.Util.BROWSER==="Mozilla"||YAHOO.mediaplayer.Util.BROWSER==="Unknown"){html="<object id='"+this.id+"' style='width:1px; height:1px;'"+"type='application/x-ms-wmp' data = ''>"+"<param name='URL' value='' /><param name='uiMode' value='none'>"+"</object>";}}html+='<script for="'+this.id+'" type="text/javascript" event="PlayStateChange(newState)">';html+="YAHOO.mediaplayer.Controller.wmpengine.onPlayStateChange(newState);";html+="<\/script>";html+='<script for="'+this.id+'" type="text/javascript" event="Error()">';html+="YAHOO.mediaplayer.Controller.wmpengine.onError();";html+="<\/script>";dummyContainer.innerHTML=html;this.currentState=0;setTimeout("YAHOO.mediaplayer.Controller.wmpengine.onLoad()",250);this.available=true;}else{this.available=false;if(YAHOO.mediaplayer.Util.BROWSER==="Firefox"){throw (new YAHOO.mediaplayer.Error("9",null));}}}};YAHOO.mediaplayer.WMPEngineIE.prototype.onLoad=function(){this.player=document.getElementById(this.id);this.version="WMP "+this.player.versionInfo;this.ready=true;if(this.currentMedia!=null){if(typeof(this.volume)!=="number"){this.volume=0.5;}this.setVolume(this.volume);this.play(this.currentMedia);}};YAHOO.mediaplayer.WMPEngineIE.prototype.play=function(mediaObject,seek){if(typeof(seek)==="number"){this.seek=seek/1000;}if(this.currentState===this.PlayStateEnum[2]){this.player.controls.play();}else{if(mediaObject!=null){this.currentMedia=mediaObject;}if(this.ready){this.player.URL=this.currentMedia.token;}}};YAHOO.mediaplayer.WMPEngineIE.prototype.pause=function(){this.player.controls.pause();};YAHOO.mediaplayer.WMPEngineIE.prototype.stop=function(){this.player.controls.stop();};YAHOO.mediaplayer.WMPEngineIE.prototype.getElapsed=function(){if(this.player&&this.player.controls){return this.player.controls.currentPosition*1000;}else{return null;}};YAHOO.mediaplayer.WMPEngineIE.prototype.getDuration=function(){if(this.player&&this.player.controls&&this.player.controls.currentItem){return this.player.controls.currentItem.duration*1000;}else{return null;}};YAHOO.mediaplayer.WMPEngineIE.prototype.onPlayStateChange=function(newState){if(typeof(this.PlayStateEnum[newState])==="number"){this.currentState=this.PlayStateEnum[newState];if(this.currentState===2&&typeof(this.seek)==="number"){this.player.controls.currentPosition=this.seek;this.seek=null;}YAHOO.mediaplayer.Controller.mediaengine.changePlayState(this.PlayStateEnum[newState],this);}};YAHOO.mediaplayer.WMPEngineIE.prototype.setVolume=function(vol){this.volume=vol;if(this.player){this.player.settings.volume=parseInt(vol*100,10);}};YAHOO.mediaplayer.WMPEngineIE.prototype.getVolume=function(){return this.player.settings.volume/100;};YAHOO.mediaplayer.WMPEngineIE.prototype.onError=function(){try{if(this.player.error.errorCount>0){var error=null;var errorCode=this.player.error.item(0).errorCode;errorCode=YAHOO.mediaplayer.Util.convertToHexadecimal(errorCode);switch(errorCode){case"C00D1197":case"80070037":case"800704CF":case"C00D001F":this.controller.mediaengine.handleError("1",null);break;case"800C2EE2":case"C00D000F":case"C00D1198":case"C00D1198":case"C00D11CB":this.controller.mediaengine.handleError("7",null);break;default:this.controller.mediaengine.handleError("3",null);break;}this.player.error.clearErrorQueue();this.stop();}}catch(ex){}this.onPlayStateChange(8);
};YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.QTEngine=function(controller){var subscribeToControllersEvents=[];YAHOO.mediaplayer.QTEngine.superclass.constructor.call(this,controller,subscribeToControllersEvents);this.EventManager.addEvents(["onVolumeChange"]);this.initController(controller);this.controller=this.getController();this.id="ymp-qt-engine";this.available=false;this.ready=false;this.currentMedia=null;this.player=null;this.version=null;this.volume=null;this.currentState=null;this.naturalStop=null;this.seek=null;this.init();this.timeOut=null;};Y.extend(YAHOO.mediaplayer.QTEngine,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.QTEngine.prototype.refByName="qtengine";YAHOO.mediaplayer.QTEngine.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.QTEngine.PlayStateEnum={qt_play:2,qt_buffer:3,qt_pause:1,qt_ended:4,qt_stopped:0};YAHOO.mediaplayer.QTEngine.prototype.init=function(){var pluginInstalled=false;if(YAHOO.mediaplayer.Util.detectPlugin("QuickTime Plug-in","QuickTime.QuickTime")!==null){pluginInstalled=true;}if(pluginInstalled===true){var dummyContainer=document.createElement("span");dummyContainer.id="dummy-qtengine";document.body.appendChild(dummyContainer);var html="";if(YAHOO.mediaplayer.Util.BROWSER==="MSIE"){html+='<object id="qt_event_source" classid="clsid:CB927D12-4FF7-4a9e-A169-56E4B8A75598"'+' codebase="http://www.apple.com/qtactivex/qtplugin.cab#version=7,2,1,0" ></object>'+'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B"'+' codebase="http://www.apple.com/qtactivex/qtplugin.cab#version=7,2,1,0"'+' width="0" height="0" type="audio/quicktime" id="'+this.id+'"'+' controller="false" style="behavior:url(#qt_event_source);">'+'<param name="controller" value="false"/><param name="src" value=""/><param name="postdomevents" value="true"/>'+"</object>";}else{html+="<embed width='1px' height='1px' "+"id='"+this.id+"' "+"name='"+this.id+"' "+"type='video/quicktime' "+"src='' "+"pluginspage='http://www.apple.com/quicktime/download/' "+"enablejavascript='true' "+"controller='false' "+"style='position:fixed; top:0; right:0;' "+"autoplay='true' postdomevents='true'"+"/>";}dummyContainer.innerHTML=html;this.timeOut=window.setTimeout("YAHOO.mediaplayer.Controller.qtengine.checkLoad();",500);this.currentState=YAHOO.mediaplayer.QTEngine.PlayStateEnum.qt_stopped;this.available=true;}else{this.available=false;}};YAHOO.mediaplayer.QTEngine.prototype.checkLoad=function(){var me=this;var getEventListenerFunction=function(listener){return function(){listener.apply(me,Array.prototype.slice.call(arguments));};};this.player=document.getElementById(this.id);if(this.player){this.version=this.player.GetQuickTimeVersion();if(this.version){this.ready=true;var changePlayStateListener=getEventListenerFunction(this.changePlayState);var onErrorListener=getEventListenerFunction(this.onError);var onVolumeChangeListener=getEventListenerFunction(this.onVolumeChangeHandler);if(document.addEventListener){this.player.addEventListener("qt_play",changePlayStateListener,false);this.player.addEventListener("qt_pause",changePlayStateListener,false);this.player.addEventListener("qt_error",onErrorListener,false);this.player.addEventListener("qt_ended",changePlayStateListener,false);this.player.addEventListener("qt_volumechange",onVolumeChangeListener,false);}else{this.player.attachEvent("onqt_play",changePlayStateListener);this.player.attachEvent("onqt_pause",changePlayStateListener);this.player.attachEvent("onqt_error",onErrorListener);this.player.attachEvent("onqt_ended",changePlayStateListener);this.player.attachEvent("onqt_volumechange",onVolumeChangeListener);}if(typeof(this.volume)!=="number"){this.volume=0.5;}this.setVolume(this.volume);this.play(this.currentMedia);}}};YAHOO.mediaplayer.QTEngine.prototype.play=function(mediaObj,seek){this.naturalStop=true;if(typeof(seek)==="number"){this.seek=seek;}if(this.currentState===YAHOO.mediaplayer.QTEngine.PlayStateEnum.qt_pause){this.player.Play();}else{if(mediaObj!=null){this.currentMedia=mediaObj;}if(this.ready){if(mediaObj!=null){this.changePlayState({type:"qt_buffer"});this.player.SetURL(mediaObj.token);this.changePlayState({type:"qt_play",force:true});}}}};YAHOO.mediaplayer.QTEngine.prototype.changePlayState=function(args){if((args.type==="qt_play")&&(("undefined"===typeof args.force)||(false===args.force))){if(typeof(YAHOO.mediaplayer.Controller.qtengine.seek)==="number"){YAHOO.mediaplayer.Controller.qtengine.player.SetTime((YAHOO.mediaplayer.Controller.qtengine.seek/1000)*YAHOO.mediaplayer.Controller.qtengine.player.GetTimeScale());YAHOO.mediaplayer.Controller.qtengine.seek=null;}YAHOO.mediaplayer.Controller.qtengine.setVolume(YAHOO.mediaplayer.Controller.qtengine.volume);}if(YAHOO.mediaplayer.Controller.qtengine.naturalStop===false&&args.type==="qt_pause"){YAHOO.mediaplayer.Controller.qtengine.currentState=YAHOO.mediaplayer.QTEngine.PlayStateEnum.qt_stopped;YAHOO.mediaplayer.Controller.qtengine.naturalStop=true;}else{YAHOO.mediaplayer.Controller.qtengine.currentState=YAHOO.mediaplayer.QTEngine.PlayStateEnum[args.type];YAHOO.mediaplayer.Controller.mediaengine.changePlayState(YAHOO.mediaplayer.Controller.qtengine.currentState,this);}};YAHOO.mediaplayer.QTEngine.prototype.onError=function(args){YAHOO.mediaplayer.Controller.mediaengine.handleError(3,null);};YAHOO.mediaplayer.QTEngine.prototype.getElapsed=function(){var progress=0;try{progress=this.player.GetTime()/this.player.GetTimeScale()*1000;}catch(e){return 0;}return isNaN(progress)?0:progress;};YAHOO.mediaplayer.QTEngine.prototype.getDuration=function(){var duration=0;try{duration=this.player.GetDuration()/this.player.GetTimeScale()*1000;}catch(e){return 0;}return isNaN(duration)?0:duration;};YAHOO.mediaplayer.QTEngine.prototype.pause=function(){this.player.Stop();};YAHOO.mediaplayer.QTEngine.prototype.stop=function(){this.naturalStop=false;try{this.player.Stop();}catch(e){}YAHOO.mediaplayer.Controller.mediaengine.changePlayState(0,this);
this.player.SetTime(0);};YAHOO.mediaplayer.QTEngine.prototype.setVolume=function(volume){try{this.volume=volume;if(!isNaN(volume)){this.player.SetVolume(parseInt(volume*768,10));}}catch(e){}};YAHOO.mediaplayer.QTEngine.prototype.getVolume=function(){return this.player.GetVolume()/768;};YAHOO.mediaplayer.QTEngine.prototype.onVolumeChangeHandler=function(eventObj){if(YAHOO.mediaplayer.Util.BROWSER=="Firefox"&&YAHOO.mediaplayer.Util.BROWSER_VERSION==3){YAHOO.mediaplayer.Controller.qtengine.volume=YAHOO.mediaplayer.Controller.qtengine.getVolume();YAHOO.mediaplayer.Controller.qtengine.EventManager.onVolumeChange.fire(YAHOO.mediaplayer.Controller.qtengine.getVolume());}};YAHOO.mediaplayer.QTEngine.prototype.seekSupported=function(){var currentMediaMimeType=this.currentMedia.mimeType;if(currentMediaMimeType===YAHOO.mediaplayer.Parser.MimeTypes.wma||currentMediaMimeType==="audio/wma"||currentMediaMimeType==="audio/ms-wma"){return false;}else{return true;}};YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.RhapsodyEngine=function(controller){var subscribeToControllersEvents=[];YAHOO.mediaplayer.RhapsodyEngine.superclass.constructor.call(this,controller,subscribeToControllersEvents);this.initController(controller);this.controller=this.getController();this.id="ymp-rhapsody-engine";this.available=false;this.ready=false;this.currentMedia=null;this.vol=0.5;this.seek=null;this.swfURL="http://playback-ns.rhapsody.com/-static/players/engine/yahoo/rhapsodyPlaybackEngine.swf";if(YAHOO.mediaplayer.YMPParams&&YAHOO.mediaplayer.YMPParams.yahootest===true){this.swfURL="http://playback-ns.rhapsody.com/-static/players/engine/yahootest/rhapsodyPlaybackEngine.swf";}this.init();};Y.extend(YAHOO.mediaplayer.RhapsodyEngine,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.RhapsodyEngine.prototype.refByName="rhapsodyengine";YAHOO.mediaplayer.RhapsodyEngine.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.RhapsodyEngine.prototype.init=function(){if(YAHOO.mediaplayer.SWFObject.hasPlayerVersion("9.0.0")){var dummyContainer=document.createElement("span");dummyContainer.id="dummy-rhapsodyengine";document.body.appendChild(dummyContainer);var flashVars={env:"production",fp_context:"popout",pcode:YAHOO.mediaplayer.YMPParams.rhappcode,onEngineReady:"YAHOO.mediaplayer.Controller.rhapsodyengine.onEngineReady"};var params={allowScriptAccess:"always",allowNetworking:"all"};var attributes={id:this.id,name:this.id,style:"position:absolute; top:0; left:-30px;"};YAHOO.mediaplayer.SWFObject.embedSWF(this.swfURL,dummyContainer.id,"1","1","9.0.0",false,flashVars,params,attributes);this.available=true;}else{throw (new YAHOO.mediaplayer.Error("27",null));}};YAHOO.mediaplayer.RhapsodyEngine.prototype.onEngineReady=function(){this.ready=true;this.setVolume(this.vol,true);this.getSWF().addListener("onPlayStateChanged",this.toString()+".onPlayStateChange");this.getSWF().addListener("onTrackClosed",this.toString()+".onTrackClosed");this.getSWF().addListener("onError",this.toString()+".onError");if(this.currentMedia!=null){this.play(this.currentMedia,this.seek);}};YAHOO.mediaplayer.RhapsodyEngine.prototype.play=function(media,seek){this.seek=seek;if(media!=null){this.currentMedia=media;}if(this.ready){if(media!=null){var currentTrackID=this.getSWF().getCurrentTrackId();if(currentTrackID!=null&&currentTrackID.toLowerCase()==this.currentMedia.token.toLowerCase()){this.getSWF().doPlay();}else{this.getSWF().doPlayTrack(this.currentMedia.token);this.controller.logger.logPlay(this.currentMedia.token);}}else{this.getSWF().doPlay();this.controller.logger.logPlay(this.currentMedia.token);}if(this.seek!==null&&this.seek!==undefined){this.getSWF().setPosition(seek);}}};YAHOO.mediaplayer.RhapsodyEngine.prototype.pause=function(){this.getSWF().doPause();};YAHOO.mediaplayer.RhapsodyEngine.prototype.stop=function(){this.getSWF().doStop();this.currentMedia=null;};YAHOO.mediaplayer.RhapsodyEngine.prototype.getElapsed=function(){return this.getSWF().getPosition();};YAHOO.mediaplayer.RhapsodyEngine.prototype.getDuration=function(){return this.getSWF().getTrackLength();};YAHOO.mediaplayer.RhapsodyEngine.prototype.setVolume=function(vol,storeInCookie){if(storeInCookie==null){storeInCookie=false;}this.vol=vol;if(this.ready){this.getSWF().setVolume(vol,storeInCookie);}};YAHOO.mediaplayer.RhapsodyEngine.prototype.onError=function(errorCode){switch(errorCode){case 3:case 5:errorCode="7";break;case 4:errorCode="13";break;case 6:errorCode="14";break;case 7:errorCode="15";break;case 8:errorCode="16";break;case 9:errorCode="17";break;case 10:errorCode="18";break;case 13:errorCode="19";break;case 15:errorCode="20";break;case 1:case 2:case 11:case 12:case 14:default:errorCode="3";}YAHOO.mediaplayer.Controller.mediaengine.handleError(errorCode,null);};YAHOO.mediaplayer.RhapsodyEngine.prototype.onPlayStateChange=function(oldState,newState){switch(newState){case 0:newState=YAHOO.mediaplayer.MediaEngine.PlayState.STOPPED;break;case 1:case 2:case 3:newState=YAHOO.mediaplayer.MediaEngine.PlayState.BUFFERING;break;case 4:newState=YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING;break;case 5:newState=YAHOO.mediaplayer.MediaEngine.PlayState.PAUSED;break;}YAHOO.mediaplayer.Controller.mediaengine.changePlayState(newState,this);};YAHOO.mediaplayer.RhapsodyEngine.prototype.onTrackClosed=function(){if(YAHOO.mediaplayer.Controller.mediaengine.currentPlayState!==YAHOO.mediaplayer.MediaEngine.PlayState.BUFFERING){YAHOO.mediaplayer.Controller.mediaengine.changePlayState(YAHOO.mediaplayer.MediaEngine.PlayState.ENDED,this);}};YAHOO.mediaplayer.RhapsodyEngine.prototype.getSWF=function(){if(this.player==null){this.player=YAHOO.mediaplayer.SWFObject.getSWF(this.id);}return this.player;};YAHOO.mediaplayer.RhapsodyEngine.prototype.seekSupported=function(){return false;};YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.Rhapsody=function(controller){var subscribeToControllersEvents=["onPlayStateChange"];YAHOO.mediaplayer.Rhapsody.superclass.constructor.call(this,controller,subscribeToControllersEvents);
this.initController(controller);this.controller=this.getController();this.stickwallShownAt=-1;this.playsAfterZero=0;};Y.extend(YAHOO.mediaplayer.Rhapsody,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.Rhapsody.prototype.refByName="rhapsody";YAHOO.mediaplayer.Rhapsody.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.Rhapsody.regex={track:/http(\:|%3A)\/\/([^:\/\s]+\.rhapsody\.com)\/(player|goto)(\?|%3F)rcid=(tra\.[0-9]+).*$/i};YAHOO.mediaplayer.Rhapsody.prototype.getFreePlays=function(){return YAHOO.mediaplayer.Controller.rhapsodyengine.getSWF().getAccountProperty("freePlaysRemaining");};YAHOO.mediaplayer.Rhapsody.prototype.getSubType=function(){return YAHOO.mediaplayer.Controller.rhapsodyengine.getSWF().getAccountProperty("subscriptionType");};YAHOO.mediaplayer.Rhapsody.prototype.timeForStickwall=function(){var currentSubType=this.getSubType();var currentFreePlays=this.getFreePlays();if(currentSubType==null||currentSubType=="RHAPSODY_25"){if(currentFreePlays>0&&currentFreePlays<25&&(currentFreePlays%5)==0){if(this.stickwallShownAt!=currentFreePlays){this.stickwallShownAt=currentFreePlays;return true;}}else{if(currentFreePlays<=0&&(this.playsAfterZero%10)==0){if(this.stickwallShownAt!=this.playsAfterZero){this.stickwallShownAt=this.playsAfterZero;return true;}}}}return false;};YAHOO.mediaplayer.Rhapsody.rightsFlags={STREAM:2,DOWNLOAD_PORTABLE:16,DOWNLOAD_NONPORTABLE:32,PURCHASEDRMFREE:512};YAHOO.mediaplayer.Rhapsody.prototype.onPlayStateChange=function(obj){if(obj&&obj.media&&obj.media.mimeType===YAHOO.mediaplayer.Parser.MimeTypes.rhapsody&&obj.newState===YAHOO.mediaplayer.MediaEngine.PlayState.ENDED&&this.getFreePlays()<=0){this.playsAfterZero++;}};YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.ymu=function(controller){var subscribeToControllersEvents=[];YAHOO.mediaplayer.ymu.superclass.constructor.call(this,controller,subscribeToControllersEvents);this.initController(controller);this.controller=this.getController();};Y.extend(YAHOO.mediaplayer.ymu,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.ymu.prototype.refByName="ymu";YAHOO.mediaplayer.ymu.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.ymu.regex={track:/http(\:|%3A)\/\/([^:\/\s]+\.yahoo\.com)\/.*(track|tracks)(.*--|\/)(\d+$)$/};YAHOO.mediaplayer.ymu.rhapsodyCatalogId="157431055";YAHOO.mediaplayer.ymu.amgCatalogId="205754011";YAHOO.mediaplayer.ymu.rightsFlags={STREAM:128,DOWNLOAD:32,DOANLOADALBUM:64};YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.FlvEngine=function(controller){var subscribeToControllersEvents=[];YAHOO.mediaplayer.FlvEngine.superclass.constructor.call(this,controller,subscribeToControllersEvents);this.initController(controller);this.controller=this.getController();this.id="ymp-flv-engine";this.available=false;this.ready=false;this.currentMedia=null;this.vol=0.5;this.seek=null;this.init();};Y.extend(YAHOO.mediaplayer.FlvEngine,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.FlvEngine.prototype.refByName="flvengine";YAHOO.mediaplayer.FlvEngine.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.FlvEngine.prototype.init=function(){if(YAHOO.mediaplayer.SWFObject.hasPlayerVersion("9.0.0")){var dummyContainer=document.createElement("span");dummyContainer.id="dummy-flvengine";document.body.appendChild(dummyContainer);var flashVars={onLoad:this.toString()+".onLoad",timeout:20000};var params={allowScriptAccess:"always",allowNetworking:"all"};var attributes={id:this.id,name:this.id,style:"position:absolute; top:0; left:-30px;"};YAHOO.mediaplayer.SWFObject.embedSWF(YAHOO.mediaplayer.YMPParams.assetsroot+"/flash/flvplayer.swf",dummyContainer.id,"1","1","9.0.0",false,flashVars,params,attributes);this.available=true;}else{throw (new YAHOO.mediaplayer.Error("27",null));}};YAHOO.mediaplayer.FlvEngine.prototype.onLoad=function(){this.ready=true;this.getSWF().flAddListener("PlayStateChange",this.toString()+".onPlayStateChange");this.getSWF().flAddListener("Error",this.toString()+".onError");if(this.currentMedia!=null){this.play(this.currentMedia,this.seek);}this.setVolume(this.vol);};YAHOO.mediaplayer.FlvEngine.prototype.play=function(media,seek){this.seek=seek;if(media!=null){this.currentMedia=media;}if(this.ready){if(media!=null){this.getSWF().flLoadMedia(this.currentMedia.token);}this.getSWF().flPlay(this.seek);}};YAHOO.mediaplayer.FlvEngine.prototype.pause=function(){this.getSWF().flPause();};YAHOO.mediaplayer.FlvEngine.prototype.stop=function(organic){if(organic==null){organic=false;}this.getSWF().flStop(organic);};YAHOO.mediaplayer.FlvEngine.prototype.getElapsed=function(){var elapsed=this.getSWF().flGetElapsed()*1000;return elapsed;};YAHOO.mediaplayer.FlvEngine.prototype.getDuration=function(){var duration=this.getSWF().flGetDuration()*1000;return duration;};YAHOO.mediaplayer.FlvEngine.prototype.setVolume=function(vol){this.vol=vol;if(this.ready){this.getSWF().flSetVolume(vol);}};YAHOO.mediaplayer.FlvEngine.prototype.onError=function(args){YAHOO.mediaplayer.Controller.mediaengine.handleError(args,null);};YAHOO.mediaplayer.FlvEngine.prototype.onPlayStateChange=function(newState){YAHOO.mediaplayer.Controller.mediaengine.changePlayState(newState,this);};YAHOO.mediaplayer.FlvEngine.prototype.getSWF=function(){if(this.player==null){this.player=YAHOO.mediaplayer.SWFObject.getSWF(this.id);}return this.player;};YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.VideoEngine=function(controller){var subscribeToControllersEvents=["onTrayOpen"];YAHOO.mediaplayer.VideoEngine.superclass.constructor.call(this,controller,subscribeToControllersEvents);this.EventManager.addEvents([]);this.initController(controller);this.controller=this.getController();this._timestamp=(new Date()).getTime();this.videoPlayerId+="-"+this._timestamp;this._videoPlayer=null;this.version=null;this.internalPlayer=null;this.available=false;this.volume=null;this.embedDetails={params:{allowScriptAccess:"always",wmode:"opaque"},attributes:{id:this.videoPlayerId},url:null,flashvars:null};
this.playerCB=null;this.currentMedia=null;this.isShimEnabled=false;this._shim=this.controller.view._nodeCache.videoEmbeds.one(".ywp-video-embed-shim");};Y.extend(YAHOO.mediaplayer.VideoEngine,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.VideoEngine.prototype.refByName="videoengine";YAHOO.mediaplayer.VideoEngine.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.VideoEngine.prototype.unitConversions={"seek":function(val){return val;},"getElapsed":function(val){return val;},"getDuration":function(val){return val;},"setVolume":function(val){return val;},"getVolume":function(val){return val;}};YAHOO.mediaplayer.VideoEngine.prototype.getPlayer=function(){return this.internalPlayer;};YAHOO.mediaplayer.VideoEngine.prototype.init=function(){if(this.getPlayer()){return;}if(this.playerCB){var me=this;var oldCB=window[this.playerCB.name];window[this.playerCB.name]=function(){me.playerCB.callback.apply(me,arguments);if(oldCB){oldCB(args);}};}var videoPane=this.controller.view._nodeCache.videoEmbeds;var videoPaneRegion=this.controller.view._nodeCache.videoPane.get("region");if(YAHOO.mediaplayer.SWFObject&&YAHOO.mediaplayer.SWFObject.hasPlayerVersion("9.0.0")){var videoPlayerContainerId="ywp-video-container-"+this._timestamp;var videoPlayerContainer=Y.Node.create('<div id="'+videoPlayerContainerId+'"></div>');videoPane.prepend(videoPlayerContainer);YAHOO.mediaplayer.SWFObject.embedSWF(this.embedDetails.url,videoPlayerContainerId,videoPaneRegion.width,videoPaneRegion.height,"9.0.0",null,this.embedDetails.flashVars,this.embedDetails.params,this.embedDetails.attributes);this._videoPlayer=Y.one("#"+this.videoPlayerId);this.showPlayer();this.available=true;}else{throw (new YAHOO.mediaplayer.Error("27",null));}};YAHOO.mediaplayer.VideoEngine.prototype.initPlayer=function(){this.internalPlayer=document.getElementById(this.videoPlayerId);if(this.volume!=null){this.setVolume(this.volume);}if(this.currentMedia){var media=this.currentMedia;this.currentMedia=null;this.play(media);}};YAHOO.mediaplayer.VideoEngine.prototype.pause=function(){if(!this.getPlayer()){return;}if(!this.commandsMapping["pause"]){return;}this.getPlayer()[this.commandsMapping["pause"]]();};YAHOO.mediaplayer.VideoEngine.prototype.stop=function(){if(!this.commandsMapping["stop"]){return;}this.currentMedia=null;this.getPlayer()[this.commandsMapping["stop"]]();};YAHOO.mediaplayer.VideoEngine.prototype.play=function(mediaObject,seek){if(!this.getPlayer()){this.currentMedia=mediaObject;return;}this.showPlayer();if(mediaObject==this.currentMedia){this.resume();}else{this.playById(mediaObject.videoId);this.currentMedia=mediaObject;}if(typeof(seek)==="number"){try{this.seek(seek);}catch(e){}}};YAHOO.mediaplayer.VideoEngine.prototype.seek=function(seek){if(!this.getPlayer()){return;}if(!this.commandsMapping["seek"]){return;}var convertedSeek=this.unitConversions["seek"](seek);var seekCmd=this.commandsMapping["seek"];this.getPlayer()[seekCmd](convertedSeek);};YAHOO.mediaplayer.VideoEngine.prototype.resume=function(){if(!this.getPlayer()){return;}if(!this.commandsMapping["resume"]){return;}this.getPlayer()[this.commandsMapping["resume"]]();};YAHOO.mediaplayer.VideoEngine.prototype.getElapsed=function(){if(!this.getPlayer()){return null;}if(!this.commandsMapping["getElapsed"]){return null;}var elapsedTime=this.getPlayer()[this.commandsMapping["getElapsed"]]();return this.unitConversions["getElapsed"](elapsedTime);};YAHOO.mediaplayer.VideoEngine.prototype.getDuration=function(){if(!this.getPlayer()){return null;}if(!this.commandsMapping["getDuration"]){return null;}var duration=this.getPlayer()[this.commandsMapping["getDuration"]]();return this.unitConversions["getDuration"](duration);};YAHOO.mediaplayer.VideoEngine.prototype.setVolume=function(vol){this.volume=vol;if(!this.getPlayer()){return null;}if(!this.commandsMapping["setVolume"]){return;}var convertedVol=this.unitConversions["setVolume"](vol);var setVolCmd=this.commandsMapping["setVolume"];this.getPlayer()[setVolCmd](convertedVol);};YAHOO.mediaplayer.VideoEngine.prototype.getVolume=function(){if(!this.getPlayer()){return null;}if(!this.commandsMapping["getVolume"]){return null;}var vol=this.getPlayer()[this.commandsMapping["getVolume"]]();return this.unitConversions["getVolume"](vol);};YAHOO.mediaplayer.VideoEngine.prototype.onPlayStateChange=function(newState,obj){if(typeof(this.PlayStateEnum[newState])==="number"){YAHOO.mediaplayer.Controller.mediaengine.changePlayState(this.PlayStateEnum[newState],this,obj);}};YAHOO.mediaplayer.VideoEngine.prototype.showPlayer=function(){if(this.isShimEnabled){this._shim.setStyle("display","block");}else{this._shim.setStyle("display","none");}this.controller.view.changeVideoPaneMode(YAHOO.mediaplayer.View.VideoPaneMode.VIDEO_SHOWING,this._videoPlayer);};YAHOO.mediaplayer.VideoEngine.prototype.onError=function(errorCode){var code=(typeof(this.ErrorEnum[errorCode])==="number")?this.ErrorEnum[errorCode]:3;YAHOO.mediaplayer.Controller.mediaengine.handleError(code,null);};YAHOO.mediaplayer.VideoEngine.prototype.destroy=function(){var player=this.getPlayer();player&&Y.one(player).remove(true);};YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.YouTubeEngine=function(controller){this.videoPlayerId="ywp-youtube-player";YAHOO.mediaplayer.YouTubeEngine.superclass.constructor.call(this,controller);this.embedDetails.url="http://www.youtube.com/apiplayer?version=3&enablejsapi=1&playerapiid=ytplayer&autoplay=1";this.playerCB={"name":"onYouTubePlayerReady","callback":this.onReady};this.init();};Y.extend(YAHOO.mediaplayer.YouTubeEngine,YAHOO.mediaplayer.VideoEngine);YAHOO.mediaplayer.YouTubeEngine.prototype.refByName="youtubeengine";YAHOO.mediaplayer.YouTubeEngine.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.YouTubeEngine.prototype.commandsMapping={"pause":"pauseVideo","stop":"pauseVideo","resume":"playVideo","getElapsed":"getCurrentTime","getDuration":"getDuration","setVolume":"setVolume","getVolume":"getVolume"};
YAHOO.mediaplayer.YouTubeEngine.prototype.unitConversions={"getElapsed":function(val){return val*1000;},"getDuration":function(val){return val*1000;},"setVolume":function(val){return parseInt(val*100,10);},"getVolume":function(val){return val/100;}};YAHOO.mediaplayer.YouTubeEngine.prototype.PlayStateEnum={5:3,3:3,1:2,2:1,0:4};YAHOO.mediaplayer.YouTubeEngine.prototype.ErrorEnum={150:28,101:28,100:1};YAHOO.mediaplayer.YouTubeEngine.prototype.onReady=function(){this.initPlayer();this.getPlayer().addEventListener("onStateChange",this.toString()+".onPlayStateChange");this.getPlayer().addEventListener("onError",this.toString()+".onError");};YAHOO.mediaplayer.YouTubeEngine.prototype.playById=function(id){if(!this.getPlayer()){return;}this.getPlayer().loadVideoById(id,0);};YAHOO.mediaplayer.YouTubeEngine.prototype.seek=function(seek){if(!this.getPlayer()){return;}this.getPlayer().seekTo(seek/1000,true);};YAHOO.mediaplayer.YouTubeEngine.prototype.stop=function(){this.pause();this.currentMedia=null;YAHOO.mediaplayer.Controller.mediaengine.changePlayState(YAHOO.mediaplayer.MediaEngine.PlayState.STOPPED,this);};YAHOO.mediaplayer.YouTubeEngine.prototype.getElapsed=function(){if(!this.getPlayer()){return null;}var duration=this.getDuration();var elapsed=this.getPlayer().getCurrentTime()*1000;if((duration>0)&&((duration-elapsed)/1000)<1){YAHOO.mediaplayer.Controller.mediaengine.changePlayState(YAHOO.mediaplayer.MediaEngine.PlayState.ENDED,this);}return elapsed;};YAHOO.mediaplayer.YouTubeEngine.prototype.onError=function(errorCode){if(this.getPlayer()&&(this.getPlayer().getPlayerState()===-1)){Y.later(1,this,function(){this.controller.mediaengine.destroyEngine(this);});}YAHOO.mediaplayer.YouTubeEngine.superclass.onError.call(this,errorCode);};YAHOO.mediaplayer.YouTubeEngine.prototype.onPlayStateChange=function(newState){if((newState===-1)&&this.controller.isPlayerPlaying()){newState=2;}YAHOO.mediaplayer.YouTubeEngine.superclass.onPlayStateChange.call(this,newState);};YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.YEPEngine=function(controller){this.videoPlayerId="ywp-yep-player";YAHOO.mediaplayer.YEPEngine.superclass.constructor.call(this,controller);this.isShimEnabled=true;this.embedDetails.url="http://d.yimg.com/nl/ypp/playtheweb/player.swf";this.embedDetails.flashVars={eventHandler:"onYEPPlayerStateChange",autoPlay:1};this.playerCB={"name":"onYEPPlayerStateChange","callback":this.onPlayStateChange};this.init();};Y.extend(YAHOO.mediaplayer.YEPEngine,YAHOO.mediaplayer.VideoEngine);YAHOO.mediaplayer.YEPEngine.prototype.refByName="yepengine";YAHOO.mediaplayer.YEPEngine.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.YEPEngine.prototype.commandsMapping={"pause":"pauseMedia","stop":"stopMedia","resume":"playMedia","getElapsed":"getPlayheadTime","setVolume":"setVolume","getVolume":"getVolume","seek":"seekMedia"};YAHOO.mediaplayer.YEPEngine.prototype.unitConversions={"getElapsed":function(val){return val*1000;},"setVolume":function(val){return parseInt(val*100,10);},"getVolume":function(val){return val/100;},"seek":function(val){return val/1000;}};YAHOO.mediaplayer.YEPEngine.prototype.PlayStateEnum={"onPlaybackStart":2,"onPlaybackResume":2,"onPlaybackPause":1,"onPlaybackStop":0,"onPlaylistComplete":4,"onAdPlaybackStart":5,"onAdPlaybackProgress":6,"onAdPlaybackComplete":7};YAHOO.mediaplayer.YEPEngine.prototype.ErrorEnum={"onPlaybackError":3};YAHOO.mediaplayer.YEPEngine.prototype.playById=function(id){if(!this.getPlayer()){return;}if(this.getPlayer().getPlaylist().count>0){this.getPlayer().clearPlaylist();}this.getPlayer().addToPlaylist({mediaId:id},0,1);var me=this;};YAHOO.mediaplayer.YEPEngine.prototype.getDuration=function(){if(!this.getPlayer()){return;}var media=this.getPlayer().getCurrentVideo();var duration=media.duration;return(duration=="")?0:duration*1000;};YAHOO.mediaplayer.YEPEngine.prototype.stop=function(){if(this.controller.admanager.adIsPlaying()){return this.stopAd();}if(!this.getPlayer()){return;}YAHOO.mediaplayer.YEPEngine.superclass.stop.call(this);if(this.getPlayer().getPlaylist().count>0){this.getPlayer().clearPlaylist();}};YAHOO.mediaplayer.YEPEngine.prototype.stopAd=function(){this.onPlayStateChange("onPlaybackStop");this.controller.mediaengine.destroyEngine(this);};YAHOO.mediaplayer.YEPEngine.prototype.setVolume=function(vol){var player=this.getPlayer();if(player){player.setIsMuted(false);}YAHOO.mediaplayer.YEPEngine.superclass.setVolume.call(this,vol);};YAHOO.mediaplayer.YEPEngine.prototype.onPlayStateChange=function(newState,pItem){if(newState=="onPlayerReady"){this.initPlayer();return;}if(newState=="onPlaybackError"){var me=this;setTimeout(function(){me.onError(newState);},1);return;}YAHOO.mediaplayer.YEPEngine.superclass.onPlayStateChange.call(this,newState,{"remainingTime":pItem&&pItem.remaining});};if(YAHOO.mediaplayer.DisplayStrings==null){(function(){var defaultLocale="en-US";var locales={"en-US":{"AMG_SAMPLE_TEXT":"sample","AMG_SAMPLE_TIME":":30","BTN_CLOSE":"Close player","BTN_CLOSE_NOTIFICATION":"Close this notification","BTN_EXPAND_PLAYER":"Expand Player","BTN_EXPAND_VIDEO":"Expand video","BTN_CONTINUOUS_PLAY":"Continuous playback","BTN_NEXT":"Next","BTN_PIP_EXPAND":"Return to video","BTN_PLAYLIST":"Playlist","BTN_PLAYLIST_MAXCOUNT":"99+","BTN_PLAY":"Play","BTN_PAUSE":"Pause","BTN_PREVIOUS":"Previous","BTN_SEEK":"Seek","BTN_TRAY_CONTENT_CLOSE":"Close","BTN_VOLUME":"Volume","BTN_EXPAND_XL":"View Larger Size","BTN_COLLAPSE_XL":"View Normal Size","BUFFERING":"Buffering...","BUY":"Buy this song","ERROR_TYPE_0":"An error occurred and we're not able to play this item.","ERROR_TYPE_1":"Sorry but this item is no longer available.","ERROR_TYPE_2":"Playback timed out and we're not able to play this item.","ERROR_TYPE_3":"This item is not available to play in your region.","ERROR_TYPE_4":"The full length song is not available. <a href='http://help.yahoo.com/l/us/yahoo/music/webplayer/samples.html' target='_blank'>More info &raquo;</a>","ERROR_27":"Adobe&reg; Flash&reg; is required to play this item. Download and install Flash <a rel='external' target='_blank' href='http://get.adobe.com/flashplayer/'>here</a>.","ERROR_28":"Embedding was disabled by request.","WATCH_ON_YOUTUBE":"Watch on YouTube","TRY_AGAIN":"Try Again","FIND_ON_PAGE":"Find this on the page","KEEP_MUSIC_GOING":"Keep the music going with Rhapsody Premier!","VIDEO_LOADING":"Loading...","MORE_FREE_PLAYS":"You have {0} more free {1} left. <br /><em>{2}</em>","NO_MORE_FREE_PLAYS":"You have no more free plays. <br /><em>{0}</em>","PLAYS_LEFT":"plays left","RESOLVING_TRACK":"Loading track...","RESOLVING_PLAYLIST":"Loading playlist...","SEEK_TIME":"{0}{1}{2}","TIME_OVER_HOUR":"{0}:{1}:{2}","TIME_UNDER_HOUR":"{0}:{1}","SEEK_TIME_SEPARATOR":"/","SUBSCRIBE_NOW":"Subscribe Now","TOOLTIP_CLOSE":"Close WebPlayer","TOOLTIP_CONTINUOUS_PLAY":"Continue playing in new window","TOOLTIP_META_SECONDARY":"{0} - {1}","TOOLTIP_NEXT":"Next Item (Shift+Arrow Right)","TOOLTIP_PAUSE":"Pause (Ctrl+Shift+Space)","TOOLTIP_PLAY":"Play (Ctrl+Shift+Space)","TOOLTIP_PREVIOUS":"Previous Item (Shift+Arrow Left)","TOOLTIP_VOLUME_THUMB":"Volume {0}% (Shift+Arrow Up/Down)","TOOLTIP_TOP_LOGO":"Learn more about Yahoo! WebPlayer","TOOLTIP_TOP_PLAYLIST":"View current playlist","TOOLTIP_TRAY_CONTENT_CLOSE":"Close {0} panel","TOOLTIP_TRAY_PLAYLIST":"View current playlist","TOOLTIP_PIP_EXPAND":"Return to video","TOOLTIP_PLAYER_MAXIMIZE":"Expand Player","TOOLTIP_PLAYER_MINIMIZE":"Minimize Player","TOOLTIP_EXPAND_XL":"View Larger Size","TOOLTIP_COLLAPSE_XL":"View Normal Size","TRAY_CONTENT_TYPE_0":"playlist","TRAY_CONTENT_TYPE_1":"related","PLAYLIST_HEADER":"PLAYLIST ({0})","WATCH":"watch","AD_COUNTDOWN_MAIN":"<em>Ad:</em> Your video will start in <span>{0} seconds</span>","AD_COUNTDOWN_UP_NEXT":"Up next={0}","INTERSTITIAL_REPLAY_LAST_MEDIA":"Replay","INTERSTITIAL_PLAYING_NEXT_COUNTDOWN":"Playing next in: {0}","INTERSTITIAL_PAUSE_NEXT_COUNTDOWN":"pause","INTERSTITIAL_UP_NEXT":"Up Next","INTERSTITIAL_NEXT_IN_PLAYLIST":"Next in playlist","INTERSTITIAL_PLAY_VIDEO":"Play Video","INTERSTITIAL_RELATED_VIDEOS":"Related Videos","INTERSTITIAL_MORE_VIDEOS":'More "{0}" Videos',"ACCESSIBILITY_PLAYING":"Playing {0}","ACCESSIBILITY_PAUSED":"Paused","ACCESSIBILITY_PLAYER_CONTROLS":"Player controls","ACCESSIBILITY_SKIP_TO_PLAYER":"Skip to Yahoo! WebPlayer","TOOLTIP_PAGE_PLAY_AUDIO":"Play Audio","TOOLTIP_PAGE_PAUSE_AUDIO":"Pause Audio","TOOLTIP_PAGE_PLAY_VIDEO":"Play Video","TOOLTIP_PAGE_PAUSE_VIDEO":"Pause Video","RELATED_HEADER":"Related Videos ({0})","BTN_BUY":"BUY"}};
var currentLocale=YAHOO.mediaplayer.YMPParams.locale||defaultLocale;YAHOO.mediaplayer.DisplayStrings=locales[currentLocale]||locales[defaultLocale];}());}YAHOO.mediaplayer.View=function(controller){YAHOO.mediaplayer.View.superclass.constructor.call(this,controller,["onTogglePlayer","onVolumeChange","onPlayStateChange","onCurrentMediaSet","onMediaUpdate","onPlayRequest","onSeekStart","onPlaylistUpdate","onError","onMediaProgress","onPlayerExpand","onPlayerCollapse","onLastMediaEnded","onMediaResolved"]);this.displayState=YAHOO.mediaplayer.View.DisplayState.MIN;this.displaySize=YAHOO.mediaplayer.View.DisplaySize.NORMAL;this.trayDisplayState=YAHOO.mediaplayer.View.TrayDisplayState.CLOSED;this.trayContentType=YAHOO.mediaplayer.View.TrayContentType.EMPTY;this._playerContentType=YAHOO.mediaplayer.View.PlayerContentType.NORMAL;this._currentHoverItem=null;this._playerBottom;this._ignoreFirstKeyPress;this._interstitial;this._topMostYTEmbedTimeout=null;this._newRelatedForMedia={};this.EventManager.addEvents(["onVolumeChangeRequest","onTogglePlayer","onPlayRequest","onPauseRequest","onNextRequest","onPreviousRequest","onStopRequest","onPlayerClosed","onUsageAction","onPlayerExpand","afterPlayerExpand","onPlayerCollapse","afterPlayerCollapse"]);this.initController(controller);this.controller=this.getController();this.playlistManager=this.controller.playlistmanager;this._inQuirksMode=(document.compatMode=="BackCompat");if(this.controller.isExperimentalModeEnabled()){Y.one("body").addClass("ywp-expt-mode");}this._injectCSS(YAHOO.mediaplayer.CSS.webplayer,YAHOO.mediaplayer.CSS.xl,YAHOO.mediaplayer.CSS.themes.xl,YAHOO.mediaplayer.CSS.themes[YAHOO.mediaplayer.YMPParams.theme],YAHOO.mediaplayer.CSS.yui.widget,YAHOO.mediaplayer.CSS.yui.slider);if((Y.UA.ie>0)&&this._inQuirksMode){this._injectCSS(YAHOO.mediaplayer.CSS.quirks);}this._injectMarkup("body",YAHOO.mediaplayer.ViewMarkup);this._cacheDOMNodes();this._doQuirksModeSpecificChanges();this._doIESpecificChanges();this._setPlayerLocation();this._createSliders();this._createFadeManager();this._createAdManager();this._createAnims();this._createInterstitial();this._onWindowResizeHandler=null;this._registerHandlers();this._initVolume();this._hideBodyErrorIcon();this._injectSkip2PlayerLink();if(YAHOO.mediaplayer.YMPParams.displaystate!==YAHOO.mediaplayer.View.DisplayState.NOUI){this._nodeCache.container.removeClass("ywp-hidden");}this.setDisplayState(YAHOO.mediaplayer.YMPParams.displaystate,{"animated":false});};Y.extend(YAHOO.mediaplayer.View,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.View.prototype.refByName="view";YAHOO.mediaplayer.View.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.View.DisplayState={HIDDEN:-1,MIN:0,MAX:1,NOUI:3};YAHOO.mediaplayer.View.DisplaySize={NORMAL:0,XL:1};YAHOO.mediaplayer.View.TrayDisplayState={INVALID:-1,OPEN:0,OPENING:1,CLOSING:2,CLOSED:3};YAHOO.mediaplayer.View.VideoPaneMode={HIDDEN:0,QUEUED:1,BUFFERING:2,ERROR:3,VIDEO_SHOWING:4};YAHOO.mediaplayer.View.TrayContentType={EMPTY:-1,PLAYLIST:0,RELATED:1};YAHOO.mediaplayer.View.PlayerContentType={NORMAL:0,INTERSTITIAL:1};YAHOO.mediaplayer.View.Playlist={MaxCount:99,Templates:{"arrow":'<span class="ymp-mod ywp-playlist-arrow"></span>',"item":'<li class="ywp-clearfix">'+'<a class="ywp-ellipsis ywp-clearfix" href="#">'+"{arrowOrNot}"+"{numberOrNot}"+'<span class="ywp-mod ywp-ellipsis ywp-playlist-item">{itemText}</span>'+'<span class="ywp-mod ywp-track-btns"></span>'+"</a>"+"{nestedOrNot}"+"</li>","nested":'<ul class="ywp-playlist-nested"></ul>',"number":'<span class="ywp-mod ywp-playlist-number">{number}.</span>',"error":'<span class="ywp-mod ywp-track-btns-item ywp-track-error ywp-error-level-error"></span>',"findOnPage":'<span class="ywp-mod ywp-track-btns-item ywp-find-on-page" title="'+YAHOO.mediaplayer.DisplayStrings.FIND_ON_PAGE+'"></span>'}};YAHOO.mediaplayer.View.Related={Templates:{"item":'<li class="ywp-clearfix">'+'<a class="ywp-clearfix">'+'<span class="ywp-related-img ywp-mod">'+'<img class="ywp-related-thumbnail ywp-mod" src="{thumbnail}"></img>'+'<span class="ywp-related-hover-play">'+"<span>"+YAHOO.mediaplayer.DisplayStrings.INTERSTITIAL_PLAY_VIDEO+"</span>"+"</span>"+"</span>"+'<span class="ywp-related-info ywp-mod">'+'<span class="ywp-related-title">{title}</span>'+'<span class="ywp-related-duration">{duration}</span>'+"</span>"+"</a>"+"</li>","durationWrapperFormat":"({0})"}};YAHOO.mediaplayer.View.Templates={"skip2Player":'<a href="#" class="ywp-position-offscreen">'+YAHOO.mediaplayer.DisplayStrings.ACCESSIBILITY_SKIP_TO_PLAYER+"</a>","amazonSearch":"http://www.amazon.com/gp/search?ie=UTF8&tag={amazonid}&index=blended&linkCode=ur2&camp=1789&creative=9325&keywords={title}"};YAHOO.mediaplayer.View.PlayerLocationConfig={bottom:[{selector:"div#meebo > m",bottomPadding:20},{selector:"div.wibiya_toolbar_holder",bottomPadding:5},{selector:"div#adx_al",bottomPadding:10},{selector:"div > img#adx_al",bottomPadding:10},{selector:"iframe[src*='grelated_bar_iframe']",bottomPadding:10}],"timeoutInterval":500,"retries":5,"maxBottom":100};YAHOO.mediaplayer.View.AnimationConfig={body:{expandDuration:250,collapseDuration:150,peekDuration:250},buffering:{tickDelay:100},errorBubble:{showDelay:350,hideDelay:350},expandArrow:{duration:1000},fade:{mouseLeaveFadeDelay:500,inactivityFadeDelay:2000,playbackFadeDelay:5000,fadeInDuration:10,fadeOutDuration:500,commonNodes:{fadeTo:50},audioNodes:{fadeTo:50},videoNodes:{fadeTo:0}},trayContent:{showDuration:150,hideDuration:150},trayPanel:{showDuration:150,hideDuration:150},volume:{showDelay:150,hideDelay:50}};YAHOO.mediaplayer.View.PaneSizes={};YAHOO.mediaplayer.View.PaneSizes[YAHOO.mediaplayer.View.DisplaySize.NORMAL]={mediaContentPane:{contentShowing:{width:205,height:116,marginLeft:15,marginRight:15,marginBottom:120,marginTop:30},contentHidden:{width:435,height:245,marginLeft:0,marginRight:0,marginBottom:0,marginTop:20}},buttonLists:{contentShowing:{width:0,marginTop:30},contentHidden:{width:55,marginTop:20}},infoArea:{contentShowing:{marginRight:10},contentHidden:{marginRight:0}},playlist:{contentShowing:{width:300,marginTop:30,marginRight:10},contentHidden:{width:0,marginTop:20,marginRight:0}},mediaContentThumbnail:[{min:50,size:70},{min:110,size:130},{min:150,size:170}]};
YAHOO.mediaplayer.View.XLConfig={padding:100,videoPlayerWidthRatio:16,videoPlayerHeightRatio:9,needToMarkYTIframes:true};YAHOO.mediaplayer.View.InterstitialConfig={countdownStartValue:7,countdownInterval:1000,startAnimation:{duration:500,opacityTo:100},audioAlbumArtOptimalDimMap:[{min:50,size:116}]};YAHOO.mediaplayer.View.inPageImagePlayButtonConfig={imgSize:{min:70,small:150}};YAHOO.mediaplayer.View.prototype._injectCSS=function(){var i,l,cssArr=Array.prototype.slice.call(arguments);for(i=0,l=cssArr.length;i<l;++i){if("string"===typeof cssArr[i]){YAHOO.mediaplayer.Util.addCSS(cssArr[i]);}}};YAHOO.mediaplayer.View.prototype._injectMarkup=function(to,content){Y.one(to).append(content);};YAHOO.mediaplayer.View.prototype.getDisplayState=function(){return this.displayState;};YAHOO.mediaplayer.View.prototype.setDisplayState=function(displayState,opts){if(YAHOO.mediaplayer.YMPParams.displaystate===YAHOO.mediaplayer.View.DisplayState.NOUI){return;}switch(displayState){case YAHOO.mediaplayer.View.DisplayState.MIN:this._expandCollapsePlayer(false,opts);break;case YAHOO.mediaplayer.View.DisplayState.MAX:this._expandCollapsePlayer(true,opts);break;case YAHOO.mediaplayer.View.DisplayState.HIDDEN:opts=opts||{};opts.animated=false;this._expandCollapsePlayer(false,opts);this._nodeCache.expandBtn.addClass("ywp-btn-expand-collapse-player-hidden");break;default:return;}this.displayState=displayState;};YAHOO.mediaplayer.View.prototype.getDisplaySize=function(){return this.displaySize;};YAHOO.mediaplayer.View.prototype._createSliders=function(){new YAHOO.mediaplayer.VolumeSlider(this.controller,YAHOO.mediaplayer.View.AnimationConfig.volume,{volumeBtn:this._nodeCache.volumeBtn.ancestor("a"),volumeSlider:this._nodeCache.volumeSlider,container:this._nodeCache.container});this._seekSlider=new YAHOO.mediaplayer.SeekSlider(this.controller,{animConfig:YAHOO.mediaplayer.View.AnimationConfig.buffering,width:this._getSeekSliderSize()},{seekSection:this._nodeCache.seekSection,seekSlider:this._nodeCache.seekSlider,seekTime:this._nodeCache.seekTime,bufferingEl:this._nodeCache.bufferingEl,metaWrapper:this._nodeCache.metaDataArea});};YAHOO.mediaplayer.View.prototype._createFadeManager=function(){this._fadeManager=new YAHOO.mediaplayer.FadeManager(this.controller,YAHOO.mediaplayer.View.AnimationConfig.fade,{commonFadeNodes:new Y.NodeList((Y.UA.ie!==8)?[this._nodeCache.logoBtn]:""),videoFadeNodes:new Y.NodeList([this._nodeCache.headerBtns,this._nodeCache.playerBody,this._nodeCache.playbackControls,this._nodeCache.displayControls,this._nodeCache.infoArea,this._nodeCache.volumeSlider]).concat(this._nodeCache.trayBtnLists),audioFadeNodes:new Y.NodeList([this._nodeCache.headerBtns,this._seekSlider.getThumb()]),container:this._nodeCache.container});};YAHOO.mediaplayer.View.prototype._createAdManager=function(){new YAHOO.mediaplayer.AdManager(this.controller,{adCountdown:this._nodeCache.adCountdown,trackGroup:this._nodeCache.trackGroup,nodesToHide:new Y.NodeList([this._nodeCache.playlistBtns.item(1)]),nodesToDisable:new Y.NodeList([this._nodeCache.playPauseBtn.get("parentNode")])});};YAHOO.mediaplayer.View.prototype._createAnims=function(){this._bodyExpandCollapseAnim=new Y.Anim({"node":this._nodeCache.container});this._expandArrowAnim=new Y.Anim({"node":this._nodeCache.expandArrow,"duration":YAHOO.mediaplayer.View.AnimationConfig.expandArrow.duration/1000,"easing":Y.Easing.easeOut,"to":{"opacity":0.2},iterations:"infinite",direction:"alternate"});this._expandArrowAnim.on("end",function(){this._nodeCache.expandArrow.setStyle("opacity","1");},this);this._trayContentAnims={mediaContentPane:new Y.Anim({"node":this._nodeCache.mediaContentPane}),trayInfoArea:new Y.Anim({"node":this._nodeCache.trayInfoArea}),leftButtonList:new Y.Anim({"node":this._nodeCache.trayBtnLists.item(1)}),rightButtonList:new Y.Anim({"node":this._nodeCache.trayBtnLists.item(0)})};this._trayDisplayStateAnim=new Y.Anim({"node":this._nodeCache.tray,"easing":Y.Easing.easeOut});this._findOnPageScrollAnim=new Y.Anim({"node":window,"duration":0.2,"easing":Y.Easing.easeOut});};YAHOO.mediaplayer.View.prototype._createInterstitial=function(){this._interstitial=new YAHOO.mediaplayer.Interstitial(this.controller,YAHOO.mediaplayer.View.InterstitialConfig,this._nodeCache.container);};YAHOO.mediaplayer.View.prototype.startInterstitial=function(arg){if(!this.isPlayerContentTypeInterstitial()){this.changePlayerDisplaySize(YAHOO.mediaplayer.View.DisplaySize.NORMAL);this._playerContentType=YAHOO.mediaplayer.View.PlayerContentType.INTERSTITIAL;this.changeVideoPaneMode(YAHOO.mediaplayer.View.VideoPaneMode.HIDDEN);this._interstitial.start(arg);}};YAHOO.mediaplayer.View.prototype.isPlayerContentTypeInterstitial=function(){return(this.getPlayerContentType()===YAHOO.mediaplayer.View.PlayerContentType.INTERSTITIAL);};YAHOO.mediaplayer.View.prototype.getPlayerContentType=function(){return this._playerContentType;};YAHOO.mediaplayer.View.prototype.resetPlayerContentType=function(){this._playerContentType=YAHOO.mediaplayer.View.PlayerContentType.NORMAL;};YAHOO.mediaplayer.View.prototype._cacheDOMNodes=function(){this._nodeCache=this._nodeCache||{};this._nodeCache.container=Y.one(".ywp-container");this._nodeCache.player=this._nodeCache.container.one(".ywp-player");this._nodeCache.trayWrapper=this._nodeCache.container.one(".ywp-tray-wrapper");this._nodeCache.tray=this._nodeCache.trayWrapper.one(".ywp-tray");this._nodeCache.header=this._nodeCache.container.one(".ywp-hdr");this._nodeCache.playerBody=this._nodeCache.container.one(".ywp-body");this._nodeCache.headerBtns=this._nodeCache.container.one(".ywp-hdr-btns");this._nodeCache.playbackControls=this._nodeCache.container.one(".ywp-playback-controls");this._nodeCache.playbackControlsBtns=this._nodeCache.playbackControls.all("a");this._nodeCache.displayControls=this._nodeCache.container.one(".ywp-display-controls");this._nodeCache.logoBtn=this._nodeCache.container.one(".ywp-hdr-logo");this._nodeCache.expandBtn=this._nodeCache.container.one(".ywp-btn-expand-player");
this._nodeCache.volumeBtn=this._nodeCache.container.one(".ywp-btn-volume");this._nodeCache.playPauseBtn=this._nodeCache.container.one(".ywp-btn-play");this._nodeCache.nextBtn=this._nodeCache.container.one(".ywp-btn-next");this._nodeCache.prevBtn=this._nodeCache.container.one(".ywp-btn-prev");this._nodeCache.playerCloseBtn=this._nodeCache.container.one(".ywp-btn-player-close");this._nodeCache.contPlayBtn=this._nodeCache.container.one(".ywp-btn-cont-play");this._nodeCache.playlistBtns=this._nodeCache.container.all(".ywp-body-playlist, .ywp-tray-playlist");this._nodeCache.playlistCounts=this._nodeCache.container.all(".ywp-hdr .ywp-playlist-count, .ywp-tray-playlist .ywp-playlist-count");this._nodeCache.expandCollapseXLBtn=this._nodeCache.container.one(".ywp-btn-expand-xl");this._nodeCache.relatedBtn=this._nodeCache.container.one(".ywp-tray-related");this._nodeCache.relatedCount=this._nodeCache.container.one(".ywp-tray-related .ywp-playlist-count");this._nodeCache.buyBtn=this._nodeCache.container.one(".ywp-btn-buy");this._nodeCache.volumeSlider=this._nodeCache.container.one(".ywp-volume-slider-hidden");this._nodeCache.seekSlider=this._nodeCache.container.one(".ywp-seek-slider");this._nodeCache.seekSection=this._nodeCache.container.one(".ywp-seek");this._nodeCache.seekTime=this._nodeCache.container.one(".ywp-seek-time");this._nodeCache.bufferingEl=this._nodeCache.container.one(".ywp-buffering-hidden");this._nodeCache.infoArea=this._nodeCache.container.one(".ywp-info");this._nodeCache.trackGroup=this._nodeCache.container.one(".ywp-track-group");this._nodeCache.metaDataArea=this._nodeCache.container.one(".ywp-meta");this._nodeCache.metaPrimary=this._nodeCache.container.one(".ywp-meta-primary");this._nodeCache.metaSecondary=this._nodeCache.container.one(".ywp-meta-secondary");this._nodeCache.thumbnail=this._nodeCache.container.one(".ywp-thumbnail");this._nodeCache.thumbnailDefaults=this._nodeCache.container.all(".ywp-body .ywp-thumbnail-default-img, .ywp-tray .ywp-thumbnail-default-img");this._nodeCache.thumbnailImgs=new Y.NodeList([new Image,new Image]).addClass("ywp-thumbnail-img");this._nodeCache.trackBtns=this._nodeCache.container.one(".ywp-track-btns");this._nodeCache.bodyErrorIcon=this._nodeCache.container.one(".ywp-track-error");this._nodeCache.errorBubble=this._nodeCache.container.one(".ywp-error-bubble");this._nodeCache.mediaContentPane=this._nodeCache.container.one(".ywp-media-content-pane");this._nodeCache.videoQueued=this._nodeCache.container.one(".ywp-video-queued");this._nodeCache.videoBuffering=this._nodeCache.container.one(".ywp-video-buffering");this._nodeCache.videoError=this._nodeCache.container.one(".ywp-video-error");this._nodeCache.videoEmbeds=this._nodeCache.container.one(".ywp-video-embeds");this._nodeCache.videoPane=this._nodeCache.container.one(".ywp-video-pane");this._nodeCache.videoQueuedHeader=this._nodeCache.container.one(".ywp-video-queued-header");this._nodeCache.videoQueuedPlay=this._nodeCache.container.one(".ywp-video-queued-play");this._nodeCache.videoErrorMessage=this._nodeCache.videoError.one(".ywp-video-error-message");this._nodeCache.videoErrorLink=this._nodeCache.videoError.one(".ywp-video-error-link");this._nodeCache.audioHdrBtns=this._nodeCache.container.one(".ywp-audio-hdr-btns");this._nodeCache.audioPane=this._nodeCache.container.one(".ywp-audio-pane");this._nodeCache.playlist=this._nodeCache.container.one(".ywp-playlist");this._nodeCache.playlistPane=this._nodeCache.playlist.one(".ywp-content-pane");this._nodeCache.playlistHeader=this._nodeCache.playlist.one(".ywp-content-pane-header");this._nodeCache.related=this._nodeCache.container.one(".ywp-related");this._nodeCache.relatedPane=this._nodeCache.related.one(".ywp-content-pane");this._nodeCache.relatedHeader=this._nodeCache.related.one(".ywp-content-pane-header");this._nodeCache.trayInfoArea=this._nodeCache.container.one(".ywp-tray-info");this._nodeCache.trayBtnLists=this._nodeCache.container.all(".ywp-button-list");this._nodeCache.trayCloseBtns=this._nodeCache.container.all(".ywp-media-content-pane .ywp-tray-content-close, .ywp-tray-content-pane .ywp-tray-content-close");this._nodeCache.trayContentPanes=new Y.NodeList([this._nodeCache.playlist,this._nodeCache.related]);this._nodeCache.adCountdown=this._nodeCache.container.one(".ywp-ad-countdown");this._nodeCache.expandArrow=this._nodeCache.expandBtn.one("span");this._nodeCache.ariaAnnouncements=this._nodeCache.container.one(".ywp-aria-announcements");this._nodeCache.xlShim=Y.one(".ywp-xl-shim");this._nodeCache.inPageTarget;};YAHOO.mediaplayer.View.prototype._registerHandlers=function(){this._nodeCache.expandBtn.on("click",function(e){this.EventManager.onTogglePlayer.fire({},this);},this);this._nodeCache.playPauseBtn.get("parentNode").on("click",this.onPlayPauseClicked,this);this._nodeCache.nextBtn.get("parentNode").on("click",this.onNextClicked,this);this._nodeCache.prevBtn.get("parentNode").on("click",this.onPrevClicked,this);this._nodeCache.expandCollapseXLBtn.get("parentNode").on("click",this.onExpandCollapseXLClicked,this);this._nodeCache.playerCloseBtn.on("click",this.onPlayerCloseClicked,this);this._nodeCache.contPlayBtn.on("click",this.onContPlayClicked,this);this._errorBubbleToggleHandler=null;this._nodeCache.bodyErrorIcon.on("mouseover",this.onErrorMouseOver,this);this._nodeCache.bodyErrorIcon.on("mouseout",this.onErrorMouseOut,this);this._nodeCache.errorBubble.on("mouseover",this.onErrorMouseOver,this);this._nodeCache.errorBubble.on("mouseout",this.onErrorMouseOut,this);this._nodeCache.videoQueuedPlay.on("click",this.onQueuedPlayClicked,this);var kc=YAHOO.mediaplayer.Util.keycodes;var doc=Y.one(document);doc.on("key",function(e){e.preventDefault();this.onPlayPauseClicked();},"down:"+kc.KEY_SPACE+"+ctrl+shift",this);doc.on("key",function(e){e.preventDefault();this.onNextClicked();},"down:"+kc.KEY_RIGHT+"+shift",this);doc.on("key",function(e){e.preventDefault();this.onPrevClicked();},"down:"+kc.KEY_LEFT+"+shift",this);this._nodeCache.playlistBtns.on("click",this.onPlaylistBtnClicked,this);
this._nodeCache.trayCloseBtns.on("click",this.onTrayCloseBtnClicked,this);this._nodeCache.container.on("click",this.onPlayerClicked,this);Y.delegate("click",this.onPlaylistItemClicked,this._nodeCache.playlistPane,"li",this);if(Y.UA.ie>0){if((Y.UA.ie<=6)||this._inQuirksMode){Y.one("window").on("scroll",this.onWindowScroll,this);}this._nodeCache.container.on("selectstart",function(e){e.preventDefault();},this);}this._nodeCache.playlistPane.setAttribute("tabindex","-1");this._nodeCache.playlistPane.on(["keydown","keypress"],this.onTrayContentKeyScrollDelegate,this);this._nodeCache.playlistPane.on("blur",function(){this._resetCurrentHoverItem();},this);this._removePageTargetTimeout=null;this._blinkPageTargetTimeout=null;this._nodeCache.logoBtn.on("click",function(){this.EventManager.onUsageAction.fire(["HOMEPAGE_LINK"]);},this);this._nodeCache.playbackControls.on(["keydown","keypress"],this.onControlsKeyNavigation,this);doc.on("key",this.onEscapePressed,"down:"+kc.KEY_ESCAPE,this);this._nodeCache.relatedBtn.on("click",this.onRelatedBtnClicked,this);Y.delegate("click",this.onRelatedItemClicked,this._nodeCache.relatedPane,"li",this);};YAHOO.mediaplayer.View.prototype.onControlsKeyNavigation=function(e){var kc=YAHOO.mediaplayer.Util.keycodes;if((e.shiftKey)||((e.keyCode!==kc.KEY_LEFT)&&(e.keyCode!==kc.KEY_RIGHT))||this._shouldIgnoreFirstKeyPress(e.type)){return;}this._nodeCache.playbackControlsBtns.item(0).setAttribute("tabindex","-1");if(e.keyCode===kc.KEY_LEFT){this._nodeCache.playbackControlsBtns.unshift(this._nodeCache.playbackControlsBtns.pop());}else{this._nodeCache.playbackControlsBtns.push(this._nodeCache.playbackControlsBtns.shift());}this._nodeCache.playbackControlsBtns.item(0).setAttribute("tabindex","0").focus();};YAHOO.mediaplayer.View.prototype._shouldIgnoreFirstKeyPress=function(eventType){if(eventType==="keypress"&&this._ignoreFirstKeyPress){this._ignoreFirstKeyPress=false;return true;}else{if(eventType==="keydown"){this._ignoreFirstKeyPress=true;}else{this._ignoreFirstKeyPress=false;}}return false;};YAHOO.mediaplayer.View.prototype._initVolume=function(){if(this.controller.mediaengine.getVolume()<=0){this.muteVolumeButton();}};YAHOO.mediaplayer.View.prototype.muteVolumeButton=function(){this._nodeCache.volumeBtn.replaceClass("ywp-btn-volume","ywp-btn-volume-muted");};YAHOO.mediaplayer.View.prototype.unMuteVolumeButton=function(){this._nodeCache.volumeBtn.replaceClass("ywp-btn-volume-muted","ywp-btn-volume");};YAHOO.mediaplayer.View.prototype.onVolumeChange=function(val){this[(val>0?"unMute":"mute")+"VolumeButton"]();};YAHOO.mediaplayer.View.prototype.onTogglePlayer=function(){if(this.getDisplayState()===YAHOO.mediaplayer.View.DisplayState.MIN){this.expandPlayer();}else{this.collapsePlayer();}};YAHOO.mediaplayer.View.prototype.onPlayPauseClicked=function(e,media){if(this.controller.isPlayerPlaying()){this.EventManager.onPauseRequest.fire();}else{this.EventManager.onPlayRequest.fire({"TRIGGER_TYPE":"PLAYER_PLAY_BUTTON"});}};YAHOO.mediaplayer.View.prototype.onQueuedPlayClicked=function(e){this.EventManager.onPlayRequest.fire({"TRIGGER_TYPE":"VIDEO_QUEUED_PLAY"});};YAHOO.mediaplayer.View.prototype.onTrayCloseBtnClicked=function(e){this.switchTrayContentType(YAHOO.mediaplayer.View.TrayContentType.EMPTY);};YAHOO.mediaplayer.View.prototype.onPlaylistBtnClicked=function(e){this._nodeCache.playlistCounts.removeClass("ywp-playlist-count-new");this.switchTrayContentType(YAHOO.mediaplayer.View.TrayContentType.PLAYLIST);};YAHOO.mediaplayer.View.prototype.onNextClicked=function(e){this.EventManager.onNextRequest.fire({"TRIGGER_TYPE":"PLAYER_NEXT"});};YAHOO.mediaplayer.View.prototype.onPrevClicked=function(e){this.EventManager.onPreviousRequest.fire({"TRIGGER_TYPE":"PLAYER_PREV"});};YAHOO.mediaplayer.View.prototype.onPlayerCloseClicked=function(e){this._closePlayer();};YAHOO.mediaplayer.View.prototype.onPlayerClicked=function(e){if((YAHOO.mediaplayer.View.DisplaySize.XL===this.getDisplaySize())&&((e.target===this._nodeCache.container)||(e.target===this._nodeCache.player)||(e.target===this._nodeCache.header))){this.changePlayerDisplaySize(YAHOO.mediaplayer.View.DisplaySize.NORMAL);}this.controller.bPlayerInteracted=true;if("external"!==e.target.getAttribute("rel")){e.halt();}};YAHOO.mediaplayer.View.prototype.onContPlayClicked=function(e){var contplayForm=this._nodeCache.container.one("form.ywp-contplay");contplayForm.one('[name="vol"]').set("value",this.controller.mediaengine.getVolume());contplayForm.one('[name="seek"]').set("value",this.controller.mediaengine.getElapsed());if(this.controller.isPlayerPlaying()){contplayForm.one('[name="token"]').set("value",this.playlistManager.getCurrentMedia().token);}if(YAHOO.mediaplayer.YMPParams.build_number){contplayForm.one('[name="build_number"]').set("value",encodeURIComponent(YAHOO.mediaplayer.YMPParams.build_number));}this._closePlayer();var prevAnchor,anchor,anchorHTML="";Y.each(this.playlistManager.playlistArray,function(item){anchor=item.anchor||item.parent.anchor;if(anchor&&anchor!==prevAnchor){anchorHTML+='<a href="'+anchor.href+'"'+(anchor.className?' class="'+anchor.className+'"':"")+((anchor.rid||item.mimeType===YAHOO.mediaplayer.Parser.MimeTypes.rhapsody)?' rid="'+(anchor.rid||item.token)+'"':"")+(item.mimeType&&!anchor.type?' type="'+item.mimeType+'"':"");Y.each(["type","title","artist","album"],function(attr,val){if(val=anchor.getAttribute(attr)){anchorHTML+=" "+attr+'="'+val+'"';}});anchorHTML+=">"+anchor.innerHTML+"</a>";}prevAnchor=anchor;});contplayForm.one('[name="trackhtml"]').set("value",anchorHTML);contplayForm.set("action",YAHOO.mediaplayer.YMPParams.wsroot+"/contplay/1.0/index.php?url="+encodeURIComponent(window.location.href));contplayForm.submit();};YAHOO.mediaplayer.View.prototype.onPlaylistUpdate=function(playlist){var length=this.playlistManager.getPlaylistLength();this._setPlaylistCountText(this._nodeCache.playlistCounts,length);this._nodeCache.playlistHeader.set("text",Y.substitute(YAHOO.mediaplayer.DisplayStrings.PLAYLIST_HEADER,{0:this.playlistManager.getPlaylistLength()}));
if(playlist instanceof YAHOO.mediaplayer.Playlist){this._renderNestedPlaylist(playlist);}else{this._renderPlaylist(playlist,this._nodeCache.playlistPane);}};YAHOO.mediaplayer.View.prototype._renderNestedPlaylist=function(playlist){var trayNode=playlist.nodes.playlistTray;var title=trayNode.one(".ywp-playlist-item");var nested=trayNode.one(".ywp-playlist-nested");title.set("text",playlist.title);this.firefoxSetEllipsis(title);this._renderPlaylist(playlist.mediaArray,nested);};YAHOO.mediaplayer.View.prototype._renderPlaylist=function(playlist,root){root=root||this._nodeCache.playlistPane;var fragment=Y.Node.create("<span></span>");var bIsRoot=Y.Node.getDOMNode(root)===Y.Node.getDOMNode(this._nodeCache.playlistPane);var currentItemNumber=1;for(var i=0,l=playlist.length;i<l;++i){var el=playlist[i];var bIsPlaylist=(el instanceof YAHOO.mediaplayer.Playlist);if((el.parent instanceof YAHOO.mediaplayer.Playlist)&&bIsRoot){el=el.parent;bIsPlaylist=true;i+=el.mediaArray.length-1;}var itemText=el.title||YAHOO.mediaplayer.DisplayStrings["RESOLVING_"+(bIsPlaylist?"PLAYLIST":"TRACK")];var numberOrNot=bIsRoot?Y.substitute(YAHOO.mediaplayer.View.Playlist.Templates.number,{"number":currentItemNumber}):"";var arrowOrNot=bIsPlaylist?YAHOO.mediaplayer.View.Playlist.Templates.arrow:"";var nestedOrNot=bIsPlaylist?YAHOO.mediaplayer.View.Playlist.Templates.nested:"";var html=Y.substitute(YAHOO.mediaplayer.View.Playlist.Templates.item,{"arrowOrNot":arrowOrNot,"itemText":itemText,"nestedOrNot":nestedOrNot,"numberOrNot":numberOrNot});var yNode=Y.Node.create(html);el.nodes.playlistTray=yNode;yNode.setData("media-id",el.id);if(bIsPlaylist){yNode.setData("playlist-collapsed",true);}fragment.append(yNode);currentItemNumber++;if(el.mediaArray&&el.mediaArray.length>0){this._renderNestedPlaylist(el);}}root.empty();root.append(fragment.get("children"));fragment.destroy();fragment=null;};YAHOO.mediaplayer.View.prototype.onError=function(errorObj){var currentMedia=this.playlistManager.getCurrentMedia();var errorIsForCurrentMedia=(errorObj.media&&(errorObj.media===currentMedia));if(errorObj.level>YAHOO.mediaplayer.ErrorDefinitions.Levels.WARNING){var currentErrorIcon=this._addPlaylistItemBtn(errorObj.media,".ywp-track-error",YAHOO.mediaplayer.View.Playlist.Templates.error);if(currentErrorIcon.wasAdded){currentErrorIcon.node.on("mouseover",this.onErrorMouseOver,this);currentErrorIcon.node.on("mouseout",this.onErrorMouseOut,this);}currentErrorIcon.node.show();this._setNodeErrorObj(currentErrorIcon.node,errorObj);(errorObj.media instanceof YAHOO.mediaplayer.Playlist)&&this._resetCurrentHoverItem(errorObj.media);if(errorIsForCurrentMedia){this._nodeCache.player.addClass("ywp-player-error");if(currentMedia.getType()===YAHOO.mediaplayer.Media.Types.VIDEO){this._setVideoError(errorObj);}}}if(errorIsForCurrentMedia&&(errorObj.level>YAHOO.mediaplayer.ErrorDefinitions.Levels.INFO)){if(errorObj.level==YAHOO.mediaplayer.ErrorDefinitions.Levels.WARNING){this._nodeCache.bodyErrorIcon.replaceClass("ywp-error-level-error","ywp-error-level-warning");}else{this._nodeCache.bodyErrorIcon.replaceClass("ywp-error-level-warning","ywp-error-level-error");}this._setNodeErrorObj(this._nodeCache.bodyErrorIcon,errorObj);this._showHideInfoAreaNode(this._nodeCache.bodyErrorIcon,true);}};YAHOO.mediaplayer.View.prototype.onMediaProgress=function(e){if(this._nodeCache.bodyErrorIcon.getStyle("display")!=="none"){var errorObj=this._getNodeErrorObj(this._nodeCache.bodyErrorIcon);if(errorObj.code==11){this._hideBodyErrorIcon();this._hidePlaylistErrorIcon(this.playlistManager.getCurrentMedia());}}};YAHOO.mediaplayer.View.prototype.collapsePlayer=function(opts){this.setDisplayState(YAHOO.mediaplayer.View.DisplayState.MIN,opts);};YAHOO.mediaplayer.View.prototype.expandPlayer=function(opts){this.setDisplayState(YAHOO.mediaplayer.View.DisplayState.MAX,opts);};YAHOO.mediaplayer.View.prototype._expandCollapsePlayer=function(bShouldExpand,opts){if(typeof bShouldExpand!=="boolean"){return;}if((bShouldExpand&&this.displayState===YAHOO.mediaplayer.View.DisplayState.MAX)||(!bShouldExpand&&this.displayState===YAHOO.mediaplayer.View.DisplayState.MIN)){return;}this._nodeCache.expandBtn.removeClass("ywp-btn-expand-collapse-player-hidden");if(!bShouldExpand){this.EventManager.onPlayerCollapse.fire();}else{this.EventManager.onPlayerExpand.fire();}opts=opts||{};Y.mix(opts,{"animated":true});var bIsLTR=this._nodeCache.container.hasClass("ywp-ltr");var container=this._nodeCache.container;var expandBtn=this._nodeCache.expandBtn;var expandBtnWidth=expandBtn.get("region").width;var containerWidth=container.get("region").width;var animTo={};var executeCallback=function(){if("function"===typeof opts.callback){opts.callback.apply(this,Array.prototype.slice.call(arguments));}};var collapseEndActions=function(callback){container.replaceClass("ywp-expanded","ywp-collapsed");if(this.controller.isPlayerPlaying()){this._expandArrowAnim.run();}expandBtn.replaceClass("ywp-btn-collapse-player","ywp-btn-expand-player");expandBtn.set("title",YAHOO.mediaplayer.DisplayStrings.TOOLTIP_PLAYER_MAXIMIZE);};var expandEndActions=function(){expandBtn.replaceClass("ywp-btn-expand-player","ywp-btn-collapse-player");expandBtn.set("title",YAHOO.mediaplayer.DisplayStrings.TOOLTIP_PLAYER_MINIMIZE);container.replaceClass("ywp-collapsed","ywp-expanded");this._expandArrowAnim.stop();};if(bIsLTR){animTo.left=(bShouldExpand?"0px":-containerWidth+(opts.animated?-20:expandBtnWidth)+"px");}else{animTo.right=(bShouldExpand?"0px":-containerWidth+(opts.animated?-20:expandBtnWidth)+"px");}if(!opts.animated){this._nodeCache.container.setStyles(animTo);if(!bShouldExpand){collapseEndActions.call(this);this.displayState=YAHOO.mediaplayer.View.DisplayState.MIN;this.EventManager.afterPlayerCollapse.fire();}else{expandEndActions.call(this);this.displayState=YAHOO.mediaplayer.View.DisplayState.MAX;this.EventManager.afterPlayerExpand.fire();}executeCallback.call(this);return;}this._bodyExpandCollapseAnim.stop();if(this._bodyExpandCollapseAnim.endHandler){try{this._bodyExpandCollapseAnim.endHandler.detach();
}catch(e){}this._bodyExpandCollapseAnim.endHandler=null;}var duration=bShouldExpand?YAHOO.mediaplayer.View.AnimationConfig.body.expandDuration:YAHOO.mediaplayer.View.AnimationConfig.body.collapseDuration;this._bodyExpandCollapseAnim.set("duration",duration/1000);this._bodyExpandCollapseAnim.set("to",animTo);if(bShouldExpand){expandEndActions.call(this);}this._bodyExpandCollapseAnim.endHandler=this._bodyExpandCollapseAnim.on("end",function(){if(bShouldExpand){this.displayState=YAHOO.mediaplayer.View.DisplayState.MAX;executeCallback.call(this);this.EventManager.afterPlayerExpand.fire();}else{collapseEndActions.call(this);try{this._bodyExpandCollapseAnim.endHandler.detach();}catch(e){}this._bodyExpandCollapseAnim.endHandler=null;this._bodyExpandCollapseAnim.set("duration",YAHOO.mediaplayer.View.AnimationConfig.body.peekDuration/1000);this._bodyExpandCollapseAnim.set("to",bIsLTR?{"left":-containerWidth+expandBtnWidth+"px"}:{"right":-containerWidth+expandBtnWidth+"px"});this._bodyExpandCollapseAnim.endHandler=this._bodyExpandCollapseAnim.on("end",function(){this.displayState=YAHOO.mediaplayer.View.DisplayState.MIN;this.EventManager.afterPlayerCollapse.fire();},this);this._bodyExpandCollapseAnim.run();}},this);this._bodyExpandCollapseAnim.run();};YAHOO.mediaplayer.View.prototype.onPlayStateChange=function(o){var mediaNode=this._getInPageMediaNode(o.media);var changeInPageBtnState=function(newState){var inPageBtn=mediaNode&&mediaNode.get("parentNode").one(".ywp-page-btn");if(inPageBtn){var currentState=(newState==="play")?"pause":"play";inPageBtn.replaceClass("ywp-page-btn-"+currentState,"ywp-page-btn-"+newState);var mediaType=(YAHOO.mediaplayer.Media.Types.VIDEO===o.media.getType())?"VIDEO":"AUDIO";inPageBtn.setAttribute("title",YAHOO.mediaplayer.DisplayStrings["TOOLTIP_PAGE_"+newState.toUpperCase()+"_"+mediaType]);}};this._fadeManager.fadeIn();if(o.newState===YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING){this._fadeManager.enableIfNeeded(true);}else{this._fadeManager.disable();}switch(o.newState){case YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING:this._nodeCache.playPauseBtn.replaceClass("ywp-btn-play","ywp-btn-pause");this._nodeCache.playPauseBtn.setContent(YAHOO.mediaplayer.DisplayStrings.BTN_PAUSE);this._nodeCache.playPauseBtn.get("parentNode").set("title",YAHOO.mediaplayer.DisplayStrings.TOOLTIP_PAUSE);changeInPageBtnState("pause");if(this.getDisplayState()===YAHOO.mediaplayer.View.DisplayState.MIN){this._expandArrowAnim.run();}if(YAHOO.mediaplayer.Media.Types.VIDEO===o.media.getType()){this.changeVideoPaneMode(YAHOO.mediaplayer.View.VideoPaneMode.VIDEO_SHOWING);}this._nodeCache.ariaAnnouncements.set("text",Y.substitute(YAHOO.mediaplayer.DisplayStrings.ACCESSIBILITY_PLAYING,{0:o.media.title}));break;case YAHOO.mediaplayer.MediaEngine.PlayState.STOPPED:if(this.playlistManager.getCurrentMedia().getType()===YAHOO.mediaplayer.Media.Types.VIDEO){this.changeVideoPaneMode(YAHOO.mediaplayer.View.VideoPaneMode.HIDDEN);this.changeVideoPaneMode(YAHOO.mediaplayer.View.VideoPaneMode.QUEUED);}case YAHOO.mediaplayer.MediaEngine.PlayState.PAUSED:this._nodeCache.ariaAnnouncements.set("text",YAHOO.mediaplayer.DisplayStrings.ACCESSIBILITY_PAUSED);case YAHOO.mediaplayer.MediaEngine.PlayState.ENDED:this._nodeCache.playPauseBtn.replaceClass("ywp-btn-pause","ywp-btn-play");this._nodeCache.playPauseBtn.setContent(YAHOO.mediaplayer.DisplayStrings.BTN_PLAY);this._nodeCache.playPauseBtn.get("parentNode").set("title",YAHOO.mediaplayer.DisplayStrings.TOOLTIP_PLAY);changeInPageBtnState("play");this._expandArrowAnim.stop();break;}};YAHOO.mediaplayer.View.prototype.onCurrentMediaSet=function(media){var playlistTrayItem=media.nodes.playlistTray;if(playlistTrayItem.hasClass("ywp-playlist-item-selected")){return;}this._nodeCache.nextBtn.get("parentNode").removeClass("ywp-btn-disabled");this._nodeCache.prevBtn.get("parentNode").removeClass("ywp-btn-disabled");if(media===this.playlistManager.getPlaylistItem(0)){this._nodeCache.prevBtn.get("parentNode").addClass("ywp-btn-disabled");}if(media===this.playlistManager.getPlaylistItem(this.playlistManager.getPlaylistLength()-1)){this._nodeCache.nextBtn.get("parentNode").addClass("ywp-btn-disabled");}if(playlistTrayItem){this._nodeCache.playlistPane.all("li").removeClass("ywp-playlist-item-selected");if(media.parent){this._expandPlaylist(media.parent);}playlistTrayItem.addClass("ywp-playlist-item-selected");if(this.trayContentType===YAHOO.mediaplayer.View.TrayContentType.PLAYLIST){this._scrollPlaylistItemToView(media);}}this.changeVideoPaneMode(YAHOO.mediaplayer.View.VideoPaneMode.HIDDEN);this._hideBodyErrorIcon();if(!(media instanceof YAHOO.mediaplayer.Playlist)){this._adjustPlayerToCurrentMediaType();this._updateUIWithMediaMetadata();}this._resetCurrentHoverItem();if(media.nodes.inPage||(media.parent&&media.parent.nodes.inPage)){this._addPlaylistItemBtn(media,".ywp-find-on-page",YAHOO.mediaplayer.View.Playlist.Templates.findOnPage);}this._showRelatedBtnIfNeeded();};YAHOO.mediaplayer.View.prototype._adjustPlayerToCurrentMediaType=function(){var media=this.playlistManager.getCurrentMedia();this._adjustTrayStateToMediaType(media);switch(media.getType()){case YAHOO.mediaplayer.Media.Types.VIDEO:var currentPlayState=this.controller.mediaengine.currentPlayState;if((currentPlayState!=YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING)&&(currentPlayState!=YAHOO.mediaplayer.MediaEngine.PlayState.BUFFERING)){this.changeVideoPaneMode(YAHOO.mediaplayer.View.VideoPaneMode.QUEUED);}else{this.changeVideoPaneMode(YAHOO.mediaplayer.View.VideoPaneMode.VIDEO_SHOWING);}this._nodeCache.mediaContentPane.replaceClass("ywp-media-content-audio","ywp-media-content-video");this._nodeCache.player.replaceClass("ywp-player-mode-audio","ywp-player-mode-video");break;case YAHOO.mediaplayer.Media.Types.AUDIO:this.changePlayerDisplaySize(YAHOO.mediaplayer.View.DisplaySize.NORMAL);this._nodeCache.mediaContentPane.replaceClass("ywp-media-content-video","ywp-media-content-audio");this._nodeCache.player.replaceClass("ywp-player-mode-video","ywp-player-mode-audio");
break;default:break;}};YAHOO.mediaplayer.View.prototype._adjustTrayStateToMediaType=function(media,opts){var gotoModeFunc=(YAHOO.mediaplayer.Media.Types.VIDEO===media.getType())?this._gotoVideoMode:this._gotoAudioMode;gotoModeFunc.call(this,opts);};YAHOO.mediaplayer.View.prototype._getInPageMediaNode=function(media){return(media.parent===null)?media.nodes.inPage:media.parent.nodes.inPage;};YAHOO.mediaplayer.View.prototype._addInPagePlayButton=function(mediaID,media){var anchor=media.anchor;var mimeType=media.mimeType;var mediaNode=media.nodes.inPage;if(anchor===null){anchor=media.parent.anchor;mimeType=media.parent.mimeType;mediaNode=media.parent.nodes.inPage;}mediaNode.wrap("<span></span>");var spanNode=mediaNode.get("parentNode");if(mediaNode.hasClass("ywp-entity-link")){var entity=spanNode.get("parentNode").one(".ywp-entity");entity.remove();spanNode.append(entity);}var mediaType=(YAHOO.mediaplayer.Media.Types.VIDEO===media.getType())?"video":"audio";spanNode.addClass("ywp-page-play-pause ywp-page-"+mediaType);var urlAfterHashRemoval=YAHOO.mediaplayer.Util.removeHashFromUrl(anchor.href,"play");var linkContainsVisibleImage=this.controller.parser.doesLinkContainVisibleImage(anchor);var bShouldTakeOverLink=((urlAfterHashRemoval.length<anchor.href.length)||(YAHOO.mediaplayer.YMPParams.playlink===true)||(YAHOO.mediaplayer.YMPParams.playlink=="media-only"&&(YAHOO.mediaplayer.Util.inArray(mimeType,YAHOO.mediaplayer.Parser.MediaOnlyPlaylinkModeMimeTypes)||(YAHOO.mediaplayer.YMPParams.imagelinkconf.playimage&&linkContainsVisibleImage)||mediaNode.hasClass("ywp-entity-link"))));if(bShouldTakeOverLink){anchor.href=urlAfterHashRemoval;spanNode.addClass("ywp-link-hover");if(this.controller.isPlayerOnNetwork()){mediaNode.addClass("yltnofollow");}}var em=Y.Node.create("<em></em>");em.addClass("ywp-page-btn ywp-page-btn-play");em.setAttribute("title",YAHOO.mediaplayer.DisplayStrings["TOOLTIP_PAGE_PLAY_"+mediaType.toUpperCase()]);if(linkContainsVisibleImage){spanNode.addClass("ywp-page-img-link");if(YAHOO.mediaplayer.YMPParams.imagelinkconf.addplayicon){var img=mediaNode.one("img");var width=parseInt(img.getComputedStyle("width"),10);var height=parseInt(img.getComputedStyle("height"),10);var minDim=Math.min(width,height);if(minDim>YAHOO.mediaplayer.View.inPageImagePlayButtonConfig.imgSize.min){img.wrap('<span class="ywp-page-img-wrapper"></span>');var imgWrapper=img.get("parentNode");if(minDim<YAHOO.mediaplayer.View.inPageImagePlayButtonConfig.imgSize.small){imgWrapper.addClass("ywp-page-img-small");}imgWrapper.append(em);this.centerElementInContainer(imgWrapper,em);}}}else{spanNode.prepend(em);}spanNode.setData("media-id",mediaID);Y.on("click",this.onPageMediaClick,(bShouldTakeOverLink?spanNode:em),this,mediaID);};YAHOO.mediaplayer.View.prototype.onMediaUpdate=function(media){var trayItem=media.nodes.playlistTray&&media.nodes.playlistTray.one(".ywp-playlist-item");if(trayItem){trayItem.set("text",media.title);this.firefoxSetEllipsis(trayItem);}var mediaID=(media.parent===null)?media.id:media.parent.id;var mediaNode=this._getInPageMediaNode(media);if(mediaNode){var mediaIDFromCache=mediaNode.get("parentNode").getData("media-id");if("undefined"===typeof mediaIDFromCache){this._addInPagePlayButton(mediaID,media);}else{if(mediaIDFromCache!==mediaID){mediaNode.get("parentNode").setData("media-id",mediaID);}}}var currentMedia=this.playlistManager.getCurrentMedia();if(media===currentMedia){this._updateUIWithMediaMetadata();}};YAHOO.mediaplayer.View.prototype.onPageMediaClick=function(e,mediaID){e.halt();var media=this.playlistManager.getMediaById(mediaID);var currentMedia=this.playlistManager.getCurrentMedia();if(this.controller.isPlayerPlaying()&&((media===currentMedia)||(media===currentMedia.parent))){this.EventManager.onPauseRequest.fire(media);}else{this.EventManager.onPlayRequest.fire({media:media,"TRIGGER_TYPE":"PAGE_MEDIA_CLICK"});}};YAHOO.mediaplayer.View.prototype.onPlayRequest=function(obj){var media=(obj&&obj.media)?obj.media:this.playlistManager.getCurrentMedia();if("undefined"===typeof media){return;}if(media.parent){this._expandPlaylist(media.parent);}if(obj.TRIGGER_TYPE==="SEEK"){return;}if(this.isPlayerContentTypeInterstitial()){this._interstitial.end();}if(obj.bNewPlay){this._hideBodyErrorIcon();this._hidePlaylistErrorIcon(media);}if((YAHOO.mediaplayer.Media.Types.VIDEO===media.getType())&&!this.controller.isPlayerPlaying()){this.changeVideoPaneMode(YAHOO.mediaplayer.View.VideoPaneMode.BUFFERING);}var displayState=this.getDisplayState();var mediaType=media.getType();if((displayState===YAHOO.mediaplayer.View.DisplayState.HIDDEN)||((displayState===YAHOO.mediaplayer.View.DisplayState.MIN)&&(this.controller.playerShouldExpandOnPlayback()||(YAHOO.mediaplayer.Media.Types.VIDEO===mediaType)))){this._adjustTrayStateToMediaType(media,{"animated":false});this.setDisplayState(YAHOO.mediaplayer.View.DisplayState.MAX);}};YAHOO.mediaplayer.View.prototype._updateUIWithMediaMetadata=function(){var currentMedia=this.playlistManager.getCurrentMedia();this._nodeCache.metaPrimary.set("text",currentMedia.title);this._nodeCache.metaPrimary.set("title",currentMedia.title);this.firefoxSetEllipsis(this._nodeCache.metaPrimary);if(YAHOO.mediaplayer.Media.Types.VIDEO===currentMedia.getType()){this._nodeCache.videoQueuedHeader.set("text",currentMedia.title);this.firefoxSetEllipsis(this._nodeCache.videoQueuedHeader);}var bGotAlbumName=(currentMedia.albumName&&currentMedia.albumName.length>0);var bGotArtistName=(currentMedia.artistName&&currentMedia.artistName.length>0);var metaSecondaryContent="";if(bGotAlbumName&&bGotArtistName){metaSecondaryContent=Y.substitute(YAHOO.mediaplayer.DisplayStrings.TOOLTIP_META_SECONDARY,{0:currentMedia.albumName,1:currentMedia.artistName});}else{if(bGotAlbumName||bGotArtistName){metaSecondaryContent=bGotAlbumName?currentMedia.albumName:currentMedia.artistName;}}if(metaSecondaryContent.length>0){this._nodeCache.metaSecondary.show();}else{this._nodeCache.metaSecondary.hide();}this._nodeCache.metaSecondary.set("text",metaSecondaryContent);
this._nodeCache.metaSecondary.set("title",metaSecondaryContent);this.firefoxSetEllipsis(this._nodeCache.metaSecondary);this._updateThumbnail();if(this._shouldShowBuyButton(currentMedia)){var buyURL;if(currentMedia.buyURL){buyURL=currentMedia.buyURL;}else{buyURL=Y.substitute(YAHOO.mediaplayer.View.Templates.amazonSearch,{"amazonid":YAHOO.mediaplayer.YMPParams.amazonid,"title":encodeURIComponent(currentMedia.title)});}this._nodeCache.buyBtn.set("href",buyURL);this._showHideInfoAreaNode(this._nodeCache.buyBtn,true);}else{this._showHideInfoAreaNode(this._nodeCache.buyBtn,false);}};YAHOO.mediaplayer.View.prototype._updateThumbnail=function(){var thumbItems={TRAY:0,BODY:1};var me=this;var currentMedia=this.playlistManager.getCurrentMedia();var showDefaultThumbnail=function(item){me._nodeCache.thumbnailImgs.item(item).remove();me._nodeCache.thumbnailDefaults.item(item).show();};var showThumbnail=function(item){me._nodeCache.thumbnailDefaults.item(item).hide();me._nodeCache.thumbnailImgs.item(item).set("src",currentMedia.albumArt);var container=(item==thumbItems.BODY)?me._nodeCache.thumbnail:me._nodeCache.audioPane;container.appendChild(me._nodeCache.thumbnailImgs.item(item));};var onImgDimsReady=function(imgDims){var optimalDim=this.getOptimalDim(YAHOO.mediaplayer.View.PaneSizes[this.getDisplaySize()].mediaContentThumbnail,imgDims);if(optimalDim===-1){showDefaultThumbnail(thumbItems.TRAY);}else{var scaledDims=this.getScaledDims({width:optimalDim,height:optimalDim},imgDims);var thumbImg=me._nodeCache.thumbnailImgs.item(thumbItems.TRAY);this.centerElementInContainer(this._nodeCache.audioPane,thumbImg,scaledDims);showThumbnail(thumbItems.TRAY);}};if(YAHOO.mediaplayer.Media.Types.AUDIO===currentMedia.getType()){currentMedia.albumArt=currentMedia.albumArt||YAHOO.mediaplayer.YMPParams.defaultalbumart;if(("string"===typeof currentMedia.albumArt)&&(currentMedia.albumArt.length>0)){showThumbnail(thumbItems.BODY);this.getImgDims(currentMedia.albumArt,onImgDimsReady,this);}else{showDefaultThumbnail(thumbItems.BODY);showDefaultThumbnail(thumbItems.TRAY);}this._showHideInfoAreaNode(this._nodeCache.thumbnail,true);}else{this._showHideInfoAreaNode(this._nodeCache.thumbnail,false);}};YAHOO.mediaplayer.View.prototype._syncMetadataAreaWidth=function(){this._seekSlider.setWidth(this._getSeekSliderSize());};YAHOO.mediaplayer.View.prototype._getSeekSliderSize=function(){var thumbnailWidth=this._nodeCache.thumbnail.get("region").width;var infoAreaWidth=this._nodeCache.infoArea.get("region").width;var metaLeftMargin=parseInt(this._nodeCache.metaDataArea.getComputedStyle("marginLeft"),10);var trackBtnsWidth=this._nodeCache.trackBtns.get("region").width;return(infoAreaWidth-thumbnailWidth-metaLeftMargin-trackBtnsWidth);};YAHOO.mediaplayer.View.prototype._gotoVideoMode=function(opts){if(this.isTrayEmpty()){this._changeTrayDisplayState(YAHOO.mediaplayer.View.TrayDisplayState.OPEN,opts);}};YAHOO.mediaplayer.View.prototype._gotoAudioMode=function(opts){if(this.isTrayEmpty()){this._changeTrayDisplayState(YAHOO.mediaplayer.View.TrayDisplayState.CLOSED,opts);}};YAHOO.mediaplayer.View.prototype._changeTrayDisplayState=function(state,opts){if(state===this.trayDisplayState){return;}opts=opts||{};if("undefined"===typeof opts.animated){opts.animated=true;}if(this._trayDisplayStateAnim.endHandler){try{this._trayDisplayStateAnim.endHandler.detach();}catch(e){}this._trayDisplayStateAnim.endHandler=null;}this._trayDisplayStateAnim.stop();var duration,to,toHeight;if(state===YAHOO.mediaplayer.View.TrayDisplayState.OPEN){toHeight=this._nodeCache.mediaContentPane.get("region").height+parseInt(this._nodeCache.mediaContentPane.getComputedStyle("marginTop"),10)+parseInt(this._nodeCache.mediaContentPane.getComputedStyle("marginBottom"),10);duration=YAHOO.mediaplayer.View.AnimationConfig.trayPanel.showDuration;to={"height":toHeight+"px"};this._nodeCache.container.addClass("ywp-tray-open");this.trayDisplayState=YAHOO.mediaplayer.View.TrayDisplayState.OPENING;}else{duration=YAHOO.mediaplayer.View.AnimationConfig.trayPanel.hideDuration;to={"height":((Y.UA.ie>0)&&this._inQuirksMode)?"1px":"0"};this._nodeCache.container.removeClass("ywp-tray-open");this.trayDisplayState=YAHOO.mediaplayer.View.TrayDisplayState.CLOSING;}this._trayDisplayStateAnim.set("duration",duration/1000);this._trayDisplayStateAnim.set("to",to);this._trayDisplayStateAnim.endHandler=this._trayDisplayStateAnim.on("end",function(){this.trayDisplayState=state;if("function"===typeof opts.callback){opts.callback.apply(this,Array.prototype.slice.call(arguments));}},this);if(!opts.animated){this._nodeCache.tray.setStyles(to);}else{this._trayDisplayStateAnim.run();}};YAHOO.mediaplayer.View.prototype.changeVideoPaneMode=function(mode,player){var paneToShow;switch(mode){case YAHOO.mediaplayer.View.VideoPaneMode.ERROR:paneToShow=this._nodeCache.videoError;case YAHOO.mediaplayer.View.VideoPaneMode.HIDDEN:this._nodeCache.videoEmbeds.removeClass("ywp-video-showing");this._nodeCache.videoEmbeds.all("object").removeClass("ywp-current-video-player");break;case YAHOO.mediaplayer.View.VideoPaneMode.VIDEO_SHOWING:this._nodeCache.videoEmbeds.addClass("ywp-video-showing");player&&player.addClass("ywp-current-video-player");break;case YAHOO.mediaplayer.View.VideoPaneMode.QUEUED:paneToShow=this._nodeCache.videoQueued;break;case YAHOO.mediaplayer.View.VideoPaneMode.BUFFERING:paneToShow=this._nodeCache.videoBuffering;break;default:break;}this._nodeCache.videoQueued.hide();this._nodeCache.videoBuffering.hide();this._nodeCache.videoError.hide();if(paneToShow){paneToShow.show();}};YAHOO.mediaplayer.View.prototype._setVideoError=function(errorObj){this.changePlayerDisplaySize(YAHOO.mediaplayer.View.DisplaySize.NORMAL);this._nodeCache.videoErrorMessage.set("innerHTML",errorObj.getDisplayMessage());if(errorObj.link){this._nodeCache.videoErrorLink.show();this._nodeCache.videoErrorLink.set("text",errorObj.link);if((errorObj.code===28)&&errorObj.media&&errorObj.media.videoId){if(this._videoErrorLinkHandler){this._videoErrorLinkHandler.detach();
this._videoErrorLinkHandler=null;}this._nodeCache.videoErrorLink.setAttribute("href","http://www.youtube.com/watch?v="+errorObj.media.videoId);}else{this._videoErrorLinkHandler=this._videoErrorLinkHandler||this._nodeCache.videoErrorLink.on("click",function(e){e.halt();this.EventManager.onPlayRequest.fire({"TRIGGER_TYPE":"VIDEO_ERROR_LINK"});},this);this._nodeCache.videoErrorLink.setAttribute("href","#");}}else{this._nodeCache.videoErrorLink.hide();}this.changeVideoPaneMode(YAHOO.mediaplayer.View.VideoPaneMode.ERROR);};YAHOO.mediaplayer.View.prototype.firefoxSetEllipsis=function(node){if(Y.DOM.ellipsis.nativeSupport){return;}node.ellipsis({"remember":false});};YAHOO.mediaplayer.View.prototype._closePlayer=function(){this.collapsePlayer({"animated":false,"callback":function(){this.EventManager.onStopRequest.fire();if(YAHOO.mediaplayer.Media.Types.VIDEO===this.playlistManager.getCurrentMedia().getType()){this.changeVideoPaneMode(YAHOO.mediaplayer.View.VideoPaneMode.QUEUED);}this.EventManager.onPlayerClosed.fire();}});};YAHOO.mediaplayer.View.prototype._showHideInfoAreaNode=function(node,bShouldShow){bShouldShow?node.show():node.hide();this._syncMetadataAreaWidth();};YAHOO.mediaplayer.View.prototype._hidePlaylistErrorIcon=function(media){if("undefined"===typeof media){media=this.playlistManager.getCurrentMedia();}var errorIcon=(media&&media.nodes.playlistTray.one(".ywp-track-error"));if(errorIcon){errorIcon.hide();}this._hideErrorBubble();};YAHOO.mediaplayer.View.prototype._hideBodyErrorIcon=function(){this._showHideInfoAreaNode(this._nodeCache.bodyErrorIcon,false);this._hideErrorBubble();this._nodeCache.player.removeClass("ywp-player-error");};YAHOO.mediaplayer.View.prototype.onErrorMouseOver=function(e){this._cancelBubbleToggleHandler();if(!e.currentTarget.hasClass("ywp-error-bubble")){this._errorBubbleToggleHandler=Y.later(YAHOO.mediaplayer.View.AnimationConfig.errorBubble.showDelay,this,this._showErrorBubble,e.target);}};YAHOO.mediaplayer.View.prototype.onErrorMouseOut=function(e){this._cancelBubbleToggleHandler();this._errorBubbleToggleHandler=Y.later(YAHOO.mediaplayer.View.AnimationConfig.errorBubble.hideDelay,this,this._hideErrorBubble);};YAHOO.mediaplayer.View.prototype._cancelBubbleToggleHandler=function(){if(null!==this._errorBubbleToggleHandler){this._errorBubbleToggleHandler.cancel();this._errorBubbleToggleHandler=null;}};YAHOO.mediaplayer.View.prototype._showErrorBubble=function(errorIconNode){var errorMsgElm=this._nodeCache.errorBubble.one(".ywp-error-msg");var errorObj=this._getNodeErrorObj(errorIconNode);errorMsgElm.set("innerHTML",errorObj.getDisplayMessage());this._nodeCache.errorBubble.show();var errorIconRegion=errorIconNode.get("region");var containerRegion=this._nodeCache.container.get("region");var errorBubbleRegion=this._nodeCache.errorBubble.get("region");var errorBubbleLeft=errorIconRegion.left-containerRegion.left-(errorBubbleRegion.width/2)+(errorIconRegion.width/2);var errorBubbleBottom=containerRegion.bottom-errorIconRegion.top;this._nodeCache.errorBubble.setStyle("left",errorBubbleLeft+"px");this._nodeCache.errorBubble.setStyle("bottom",errorBubbleBottom+"px");};YAHOO.mediaplayer.View.prototype._hideErrorBubble=function(){this._nodeCache.errorBubble.hide();};YAHOO.mediaplayer.View.prototype._getNodeErrorObj=function(node){var errorID=node.getData("error-id");return errorID?YAHOO.mediaplayer.ErrorCollection[errorID]:null;};YAHOO.mediaplayer.View.prototype._setNodeErrorObj=function(node,errorObj){node.setData("error-id",errorObj.id);};YAHOO.mediaplayer.View.prototype.switchTrayContentType=function(contentType,opts){if(this.trayContentType===contentType){return;}opts=opts||{};if("undefined"===typeof opts.animated){opts.animated=true;}var toShow,bShow=true;switch(contentType){case YAHOO.mediaplayer.View.TrayContentType.PLAYLIST:toShow=this._nodeCache.playlist;break;case YAHOO.mediaplayer.View.TrayContentType.RELATED:toShow=this._nodeCache.related;break;case YAHOO.mediaplayer.View.TrayContentType.EMPTY:bShow=false;break;default:return;break;}var tca=this._trayContentAnims;var ac=YAHOO.mediaplayer.View.AnimationConfig;var ps=YAHOO.mediaplayer.View.PaneSizes[this.getDisplaySize()];var duration=ac.trayContent[(bShow?"show":"hide")+"Duration"]/1000;if(YAHOO.mediaplayer.Media.Types.AUDIO===this.playlistManager.getCurrentMedia().getType()){duration=0.001;}var showingOrHidden="content"+(bShow?"Showing":"Hidden");if(tca.endHandler){try{tca.endHandler.detach();}catch(e){}tca.endHandler=null;}if(opts.animated){tca.mediaContentPane.stop().set("duration",duration).set("to",ps.mediaContentPane[showingOrHidden]).run();Y.each(["left","right"],function(list){tca[list+"ButtonList"].stop().set("duration",duration).set("to",ps.buttonLists[showingOrHidden]).run();});}else{this._nodeCache.mediaContentPane.setStyles(ps.mediaContentPane[showingOrHidden]);this._nodeCache.trayBtnLists.setStyles(ps.buttonLists[showingOrHidden]);}if(!bShow){tca.endHandler=tca.mediaContentPane.on("end",function(){this._nodeCache.trayContentPanes.hide();this._nodeCache.tray.removeClass("ywp-tray-pip");this._nodeCache.headerBtns.setStyle("visibility","visible");this._nodeCache.trayBtnLists.setStyle("visibility","visible");},this);if(!opts.animated){tca.endHandler.evt.fire();}}else{this._populateContentPane(contentType,this.playlistManager.getCurrentMedia());this._nodeCache.trayContentPanes.removeClass("ywp-active-content-pane");toShow.addClass("ywp-active-content-pane");toShow.show();var contentTypeText=YAHOO.mediaplayer.DisplayStrings["TRAY_CONTENT_TYPE_"+contentType];this._nodeCache.trayCloseBtns.item(1).set("title",Y.substitute(YAHOO.mediaplayer.DisplayStrings.TOOLTIP_TRAY_CONTENT_CLOSE,{0:contentTypeText}));this._nodeCache.headerBtns.setStyle("visibility","hidden");this._nodeCache.trayBtnLists.setStyle("visibility","hidden");this._nodeCache.tray.addClass("ywp-tray-pip");this._scrollPlaylistItemToCenter(this.playlistManager.getCurrentMedia());}this.trayContentType=contentType;if(!this.isTrayEmpty()){this._changeTrayDisplayState(YAHOO.mediaplayer.View.TrayDisplayState.OPEN,opts);
this._fadeManager.disable();}else{this._adjustTrayStateToMediaType(this.playlistManager.getCurrentMedia(),opts);this._fadeManager.enableIfNeeded();}};YAHOO.mediaplayer.View.prototype.getCurrentTrayContentType=function(){return this.trayContentType;};YAHOO.mediaplayer.View.prototype.isTrayEmpty=function(){return(this.getCurrentTrayContentType()===YAHOO.mediaplayer.View.TrayContentType.EMPTY);};YAHOO.mediaplayer.View.prototype.onPlaylistItemClicked=function(e,media){e.halt();var playlistItem=e.target.hasClass("ywp-find-on-page")?e.target.ancestor("li"):e.currentTarget;media=media||this.playlistManager.getMediaById(playlistItem.getData("media-id"));if(!media){return;}if(e.target.hasClass("ywp-find-on-page")){this._findOnPage(media);return;}if(media instanceof YAHOO.mediaplayer.Playlist){this.isPlaylistCollapsed(media)?this._expandPlaylist(media):this._collapsePlaylist(media);}else{this.EventManager.onPlayRequest.fire({"media":media,"TRIGGER_TYPE":"PLAYLIST_TITLE"});}};YAHOO.mediaplayer.View.prototype._findOnPage=function(media){var offestFromTop=50;var targetTimeout=4;var inPageImg,inPageImgWrapper;var inPageNode=this._getInPageMediaNode(media);var inPageNodeParent=inPageNode.get("parentNode");var isImageLink=inPageNodeParent.hasClass("ywp-page-img-link");if(isImageLink){inPageImgWrapper=inPageNode.one(".ywp-page-img-wrapper");inPageImg=inPageImgWrapper.one("img");offestFromTop=offestFromTop+parseInt(inPageImg.getComputedStyle("height"),10);}var scrollTo=inPageNode.getY()-offestFromTop;this._findOnPageScrollAnim.set("to",{"scroll":[0,scrollTo]});this._findOnPageScrollAnim.run();var removePageTarget=function(){if(null!==this._removePageTargetTimeout){this._removePageTargetTimeout.cancel();this._removePageTargetTimeout=null;}if(null!==this._blinkPageTargetTimeout){this._blinkPageTargetTimeout.cancel();this._blinkPageTargetTimeout=null;}if(this._nodeCache.inPageTarget){this._nodeCache.inPageTarget.removeClass("ywp-btn-page-target");}};removePageTarget.call(this);this._nodeCache.inPageTarget=inPageImgWrapper||inPageNodeParent.one(".ywp-page-btn");this._nodeCache.inPageTarget.addClass("ywp-btn-page-target");if(isImageLink){this._blinkPageTargetTimeout=Y.later(500,this,function(){this._nodeCache.inPageTarget.toggleClass("ywp-btn-page-target");},null,true);}this._removePageTargetTimeout=Y.later(targetTimeout*1000,this,function(){removePageTarget.call(this);});};YAHOO.mediaplayer.View.prototype._expandPlaylist=function(playlist){var playlistNode=playlist.nodes.playlistTray;var currentMedia=this.playlistManager.getCurrentMedia();if(playlistNode.hasClass("ywp-playlist-item-selected")){playlistNode.removeClass("ywp-playlist-item-selected");currentMedia.nodes.playlistTray.addClass("ywp-playlist-item-selected");}playlistNode.one(".ywp-playlist-arrow").addClass("ywp-playlist-arrow-open");playlistNode.one(".ywp-playlist-nested").addClass("ywp-playlist-nested-open");playlistNode.setData("playlist-collapsed",false);if(!Y.DOM.ellipsis.nativeSupport){playlistNode.all(".ywp-playlist-item").each(this.firefoxSetEllipsis,this);}};YAHOO.mediaplayer.View.prototype._collapsePlaylist=function(playlist){var playlistNode=playlist.nodes.playlistTray;var currentMedia=this.playlistManager.getCurrentMedia();if(currentMedia.parent===playlist){currentMedia.nodes.playlistTray.removeClass("ywp-playlist-item-selected");playlistNode.addClass("ywp-playlist-item-selected");}playlistNode.one(".ywp-playlist-arrow").removeClass("ywp-playlist-arrow-open");playlistNode.one(".ywp-playlist-nested").removeClass("ywp-playlist-nested-open");playlistNode.setData("playlist-collapsed",true);};YAHOO.mediaplayer.View.prototype.isPlaylistCollapsed=function(playlist){return playlist.nodes.playlistTray.getData("playlist-collapsed");};YAHOO.mediaplayer.View.prototype._getPlaylistNodeToScrollTo=function(media){var playlistTrayItem=media.nodes.playlistTray;if(media.parent&&this.isPlaylistCollapsed(media.parent)){playlistTrayItem=media.parent.nodes.playlistTray;}return playlistTrayItem.one("a");};YAHOO.mediaplayer.View.prototype._scrollPlaylistItemToView=function(media){var playlistTrayItem=this._getPlaylistNodeToScrollTo(media);if(!playlistTrayItem){return;}var scrollTop=this._nodeCache.playlistPane.get("scrollTop");var scrollOffest=playlistTrayItem.getY()-this._nodeCache.playlistPane.getY();var playlistRegion=this._nodeCache.playlistPane.get("region");var trayItemRegion=playlistTrayItem.get("region");if(scrollOffest>(playlistRegion.height-trayItemRegion.height)){this._nodeCache.playlistPane.set("scrollTop",scrollTop+scrollOffest-playlistRegion.height+trayItemRegion.height);}if(scrollOffest<0){this._nodeCache.playlistPane.set("scrollTop",scrollTop+scrollOffest);}};YAHOO.mediaplayer.View.prototype._scrollPlaylistItemToCenter=function(media){var playlistTrayItem=this._getPlaylistNodeToScrollTo(media);if(!playlistTrayItem){return;}var playlistRegion=this._nodeCache.playlistPane.get("region");var trayItemRegion=playlistTrayItem.get("region");var scrollOffest=playlistTrayItem.getY()-this._nodeCache.playlistPane.getY();var scrollTop=this._nodeCache.playlistPane.get("scrollTop");var scrollTo=scrollTop+scrollOffest-(playlistRegion.height/2)+(trayItemRegion.height/2);this._nodeCache.playlistPane.set("scrollTop",scrollTo);};YAHOO.mediaplayer.View.prototype.onWindowScroll=function(e){if(Y.UA.ie<=6){this._nodeCache.container.addClass("ywp-ie6-fixed-position");this._nodeCache.container.removeClass("ywp-ie6-fixed-position");}else{if(Y.UA.ie>=7&&this._inQuirksMode){var scrollYOffset=this._nodeCache.container.get("docScrollY");var newBottom=this._playerBottom-scrollYOffset;this._nodeCache.container.setStyle("bottom",newBottom+"px");}}};YAHOO.mediaplayer.View.prototype.onTrayContentKeyScrollDelegate=function(e){if(e.shiftKey){return;}if(this._shouldIgnoreFirstKeyPress(e.type)){return;}var kc=YAHOO.mediaplayer.Util.keycodes;switch(e.keyCode){case kc.KEY_ENTER:this.onPlaylistItemClicked(e,this._currentHoverItem);break;case kc.KEY_DOWN:this.onTrayContentKeyScroll(e,1);break;
case kc.KEY_UP:this.onTrayContentKeyScroll(e,-1);break;}};YAHOO.mediaplayer.View.prototype.onTrayContentKeyScroll=function(e,direction){e.preventDefault();var scrollingUp=(-1===direction)?true:false;var currentHoverItem=this._currentHoverItem||this.playlistManager.getCurrentMedia();var isPlaylist=(currentHoverItem instanceof YAHOO.mediaplayer.Playlist)&&(currentHoverItem.mediaArray.length>0);var getNextHoverItem=Y.bind(function(item,direction){var itemIndex=this.playlistManager.getMediaIndex(item)+direction;itemIndex=Math.min(this.playlistManager.getPlaylistLength()-1,Math.max(0,itemIndex));var nextHoverItem=this.playlistManager.getPlaylistItem(itemIndex);var nextHoverMediaParent=nextHoverItem.parent;return(nextHoverMediaParent&&((isPlaylist&&(itemIndex===0))||(!scrollingUp&&(currentHoverItem.parent!==nextHoverMediaParent))||this.isPlaylistCollapsed(nextHoverMediaParent)))?nextHoverMediaParent:nextHoverItem;},this);var nextHoverItem;if(isPlaylist){if(!scrollingUp&&!this.isPlaylistCollapsed(currentHoverItem)){nextHoverItem=currentHoverItem.mediaArray[0];}else{var index=scrollingUp?0:currentHoverItem.mediaArray.length-1;nextHoverItem=getNextHoverItem(currentHoverItem.mediaArray[index],direction);}}else{var currentHoverMediaParent=currentHoverItem.parent;if(currentHoverMediaParent&&scrollingUp&&currentHoverMediaParent.mediaArray[0]===currentHoverItem){nextHoverItem=currentHoverMediaParent;}else{nextHoverItem=getNextHoverItem(currentHoverItem,direction);}}this._resetCurrentHoverItem(currentHoverItem);nextHoverItem.nodes.playlistTray.one("a").addClass("ywp-playlist-item-hover");this._scrollPlaylistItemToView(nextHoverItem);this._currentHoverItem=nextHoverItem;};YAHOO.mediaplayer.View.prototype._resetCurrentHoverItem=function(currentHoverItem){currentHoverItem=currentHoverItem||this._currentHoverItem;if(currentHoverItem){currentHoverItem.nodes.playlistTray.one("a").removeClass("ywp-playlist-item-hover");this._currentHoverItem=null;}};YAHOO.mediaplayer.View.prototype._addPlaylistItemBtn=function(media,selector,template){var wasAdded=false;var trackBtns=media.nodes.playlistTray&&media.nodes.playlistTray.one(".ywp-track-btns");if(trackBtns){var node=trackBtns.one(selector);if(!node){node=Y.Node.create(template);trackBtns.append(node);wasAdded=true;}}return{"node":node,"wasAdded":wasAdded};};YAHOO.mediaplayer.View.prototype._setPlayerLocation=function(){this._playerBottom=parseInt(this._nodeCache.container.getComputedStyle("bottom"),10);var playerLocationConfig=YAHOO.mediaplayer.View.PlayerLocationConfig;var bottomLocationConfig=playerLocationConfig.bottom;var el,retries=playerLocationConfig.retries;var adjustBottomLocation=function(){for(var i=0,l=bottomLocationConfig.length;i<l;i++){if(el=Y.one(bottomLocationConfig[i].selector)){var height=parseInt(el.getComputedStyle("height"),10);height=isNaN(height)?0:height;this._playerBottom=Math.max(this._playerBottom,height+bottomLocationConfig[i].bottomPadding);if(this._playerBottom<playerLocationConfig.maxBottom){this._nodeCache.container.setStyle("bottom",this._playerBottom+"px");return;}}}if(retries>0){Y.later(playerLocationConfig.timeoutInterval,this,adjustBottomLocation);}--retries;};adjustBottomLocation.call(this);};YAHOO.mediaplayer.View.prototype.getImgDims=function(src,onImgDimsReady,context){if(!(src&&onImgDimsReady&&context)){return;}var img=document.createElement("img");img.onload=function(){img=null;onImgDimsReady.call(context,{width:this.width,height:this.height});};img.src=src;};YAHOO.mediaplayer.View.prototype.getOptimalDim=function(optimalDimMap,dims){var largerSide=Math.max(dims.width,dims.height);var optimalDim=-1;for(var l=optimalDimMap.length-1;l>=0;l--){if(largerSide>=optimalDimMap[l].min){optimalDim=optimalDimMap[l].size;break;}}return optimalDim;};YAHOO.mediaplayer.View.prototype.getScaledDims=function(optimalDims,dims){var width=dims.width;var height=dims.height;var widthRatio=optimalDims.width/width;var heightRatio=optimalDims.height/height;var ratio=Math.min(widthRatio,heightRatio);var scaledWidth=Math.round(width*ratio);var scaledHeight=Math.round(height*ratio);return{width:scaledWidth,height:scaledHeight};};YAHOO.mediaplayer.View.prototype.centerElementInContainer=function(container,element,dims){dims=dims||{};var eleStyles={};var width=dims.width||(parseInt(element.getComputedStyle("width"),10));var height=dims.height||(parseInt(element.getComputedStyle("height"),10));eleStyles.left=Math.round((parseInt(container.getComputedStyle("width"),10)-width)/2);eleStyles.top=Math.round((parseInt(container.getComputedStyle("height"),10)-height)/2);if(dims.width){eleStyles.width=width;}if(dims.height){eleStyles.height=height;}element.setStyles(eleStyles);};YAHOO.mediaplayer.View.prototype.onPlayerExpand=function(){if(YAHOO.mediaplayer.YMPParams.wmodeoverride){this._findNFixTopMostYTEmbeds();Y.one(window).on("scroll",this.onWindowScrollWhenPlayerExpanded,this);}};YAHOO.mediaplayer.View.prototype.onPlayerCollapse=function(){if(YAHOO.mediaplayer.Media.Types.VIDEO===this.playlistManager.getCurrentMedia().getType()){if(this.controller.admanager.adIsPlaying()){Y.later(1,this,function(){this.EventManager.onStopRequest.fire();});}else{this.EventManager.onPauseRequest.fire();}}YAHOO.mediaplayer.YMPParams.wmodeoverride&&Y.one(window).detach("scroll",this.onWindowScrollWhenPlayerExpanded,this);};YAHOO.mediaplayer.View.prototype._fixPlayerShimInIE=function(){var playerShims=new Y.NodeList([this._nodeCache.container.one(".ywp-player-shim"),this._nodeCache.xlShim]);playerShims.on("load",function(e){var shim=e.target;Y.Node.getDOMNode(shim).contentWindow.document.body.style.backgroundColor="transparent";if(this._inQuirksMode||(Y.UA.ie<8)){shim.setStyle("height","10000px");}},this);};YAHOO.mediaplayer.View.prototype.changePlayerDisplaySize=function(displaySize){if(this.displaySize===displaySize){return;}switch(displaySize){case YAHOO.mediaplayer.View.DisplaySize.XL:if(YAHOO.mediaplayer.View.XLConfig.needToMarkYTIframes){this._markYTTopMostIframes();YAHOO.mediaplayer.View.XLConfig.needToMarkYTIframes=false;
}this.switchTrayContentType(YAHOO.mediaplayer.View.TrayContentType.EMPTY,{"animated":false});this.displaySize=YAHOO.mediaplayer.View.DisplaySize.XL;Y.one("body").addClass("ywp-body-xl-mode");this._nodeCache.container.addClass("ywp-xl-mode");this._nodeCache.xlShim.addClass("ywp-xl-shim-on");this._fitXLPlayerToBrowser();this._onWindowResizeHandler=Y.on("windowresize",this._fitXLPlayerToBrowser,this);this._nodeCache.expandCollapseXLBtn.replaceClass("ywp-btn-expand-xl","ywp-btn-collapse-xl");this._nodeCache.expandCollapseXLBtn.get("parentNode").set("title",YAHOO.mediaplayer.DisplayStrings.TOOLTIP_COLLAPSE_XL);this.EventManager.onUsageAction.fire(["XL_OPEN",this.playlistManager.getCurrentMedia()]);break;case YAHOO.mediaplayer.View.DisplaySize.NORMAL:this.displaySize=YAHOO.mediaplayer.View.DisplaySize.NORMAL;this._onWindowResizeHandler.detach();this._nodeCache.container.removeClass("ywp-xl-mode");this._nodeCache.xlShim.removeClass("ywp-xl-shim-on");Y.one("body").removeClass("ywp-body-xl-mode");this._nodeCache.player.setStyles({top:"",left:"",width:""});this._nodeCache.tray.setStyle("height","");this._nodeCache.mediaContentPane.setStyles({width:"",height:""});this._nodeCache.playerBody.setStyle("filter","");this.trayDisplayState=YAHOO.mediaplayer.View.TrayDisplayState.INVALID;this._adjustTrayStateToMediaType(this.playlistManager.getCurrentMedia(),{"animated":false});this._nodeCache.expandCollapseXLBtn.replaceClass("ywp-btn-collapse-xl","ywp-btn-expand-xl");this._nodeCache.expandCollapseXLBtn.get("parentNode").set("title",YAHOO.mediaplayer.DisplayStrings.TOOLTIP_EXPAND_XL);break;}};YAHOO.mediaplayer.View.prototype._fitXLPlayerToBrowser=function(){var mediaContentPane=this._nodeCache.mediaContentPane;var videoDimensions=this._getXLVideoDimensions();this._nodeCache.tray.setStyle("height","100%");mediaContentPane.setStyle("marginTop","");var XLConfig=YAHOO.mediaplayer.View.XLConfig;if(!XLConfig.minVideoSize){XLConfig.minVideoSize={width:parseInt(mediaContentPane.getComputedStyle("minWidth"),10),height:parseInt(mediaContentPane.getComputedStyle("minHeight"),10)};}if(!XLConfig.maxVideoSize){XLConfig.maxVideoSize={width:parseInt(mediaContentPane.getComputedStyle("maxWidth"),10),height:parseInt(mediaContentPane.getComputedStyle("maxHeight"),10)};}var width=Math.min(Math.max(videoDimensions.width,XLConfig.minVideoSize.width),XLConfig.maxVideoSize.width);var height=Math.min(Math.max(videoDimensions.height,XLConfig.minVideoSize.height),XLConfig.maxVideoSize.height);mediaContentPane.setStyle("width",width+"px");mediaContentPane.setStyle("height",height+"px");this._nodeCache.player.setStyle("width",width+"px");this.centerElementInContainer(this._nodeCache.container,this._nodeCache.player);};YAHOO.mediaplayer.View.prototype._getXLVideoDimensions=function(){var winHeight=this._nodeCache.container.get("winHeight");var winWidth=this._nodeCache.container.get("winWidth");var XLConfig=YAHOO.mediaplayer.View.XLConfig;if(!XLConfig.playerBottomHeight){var bodyRegion=this._nodeCache.playerBody.get("region");var trayMarginBottom=parseInt(this._nodeCache.trayWrapper.getComputedStyle("marginBottom"),10);XLConfig.playerBottomHeight=bodyRegion.height+trayMarginBottom;}var optimalDims={height:winHeight-XLConfig.playerBottomHeight-XLConfig.padding,width:winWidth-XLConfig.padding};var dims={width:XLConfig.videoPlayerWidthRatio,height:XLConfig.videoPlayerHeightRatio};return this.getScaledDims(optimalDims,dims);};YAHOO.mediaplayer.View.prototype._markYTTopMostIframes=function(){Y.all("iframe").each(function(node){var src=node.get("src");if((src.indexOf("http://www.youtube.com/embed")>-1)&&!src.match(/wmode=(opaque|transparent)/)){node.addClass("ptw-topmost-youtube");}});};YAHOO.mediaplayer.View.prototype.onEscapePressed=function(){if(YAHOO.mediaplayer.View.DisplaySize.XL===this.getDisplaySize()){this.changePlayerDisplaySize(YAHOO.mediaplayer.View.DisplaySize.NORMAL);}};YAHOO.mediaplayer.View.prototype.onExpandCollapseXLClicked=function(){if(YAHOO.mediaplayer.View.DisplaySize.XL===this.getDisplaySize()){this.changePlayerDisplaySize(YAHOO.mediaplayer.View.DisplaySize.NORMAL);}else{this.changePlayerDisplaySize(YAHOO.mediaplayer.View.DisplaySize.XL);}};YAHOO.mediaplayer.View.prototype.onLastMediaEnded=function(){this.changePlayerDisplaySize(YAHOO.mediaplayer.View.DisplaySize.NORMAL);};YAHOO.mediaplayer.View.prototype._injectSkip2PlayerLink=function(){var skip2PlayerLink=Y.Node.create(YAHOO.mediaplayer.View.Templates.skip2Player);skip2PlayerLink.on("click",function(){this._nodeCache.container.focus();},this);Y.one("body").prepend(skip2PlayerLink);};YAHOO.mediaplayer.View.prototype._doQuirksModeSpecificChanges=function(){if(this._inQuirksMode){this._nodeCache.container.addClass("ywp-quirks-mode");}};YAHOO.mediaplayer.View.prototype._doIESpecificChanges=function(){if(Y.UA.ie>0){this._fixPlayerShimInIE();if(Y.UA.ie<9){this._nodeCache.container.addClass("ywp-lte-ie8");}if(Y.UA.ie<7){this._nodeCache.container.addClass("ywp-lte-ie6");}}};YAHOO.mediaplayer.View.prototype._findNFixTopMostYTEmbeds=function(){Y.all("iframe").each(function(iframe){var src=iframe.getAttribute("src");if("undefined"===typeof iframe.getData("ywp-is-top-most-yt-embed")){var isTopMostYTEmbed=((src.indexOf("http://www.youtube.com/embed")>-1)&&!src.match(/wmode=(opaque|transparent)/))?true:false;iframe.setData("ywp-is-top-most-yt-embed",isTopMostYTEmbed);}if(iframe.getData("ywp-is-top-most-yt-embed")&&iframe.inViewportRegion()){var newSrc=YAHOO.mediaplayer.Util.appendParamToUrl(src,"wmode","opaque");iframe.setAttribute("src",newSrc);iframe.setData("ywp-is-top-most-yt-embed",false);}},this);};YAHOO.mediaplayer.View.prototype.onWindowScrollWhenPlayerExpanded=function(){if(this._topMostYTEmbedTimeout){this._topMostYTEmbedTimeout.cancel();}this._topMostYTEmbedTimeout=Y.later(200,this,function(e){this._findNFixTopMostYTEmbeds();this._topMostYTEmbedTimeout=null;});if(Y.UA.ie===7){this._nodeCache.container.addClass("dummy").removeClass("dummy");}};YAHOO.mediaplayer.View.prototype._populateContentPane=function(contentType,media){switch(contentType){case YAHOO.mediaplayer.View.TrayContentType.RELATED:this._populateRelatedPane(media);
break;}};YAHOO.mediaplayer.View.prototype._populateRelatedPane=function(media){var relatedMedia=media.getRelatedMedia();var root=this._nodeCache.relatedPane;var fragment=Y.Node.create("<span></span>");for(var i=0;i<relatedMedia.length;i++){var formatedDuration=YAHOO.mediaplayer.Util.formatTime(relatedMedia[i].duration,{"ignoreZero":true,"wrapperFormat":YAHOO.mediaplayer.View.Related.Templates.durationWrapperFormat});var html=Y.substitute(YAHOO.mediaplayer.View.Related.Templates.item,{"title":relatedMedia[i].title,"thumbnail":relatedMedia[i].thumbnail,"duration":formatedDuration});var yNode=Y.Node.create(html);yNode.setData("related-media",relatedMedia[i]);fragment.append(yNode);}root.empty();root.append(fragment.get("children"));fragment.destroy();fragment=null;this._setRelatedTitle(media,relatedMedia.length);};YAHOO.mediaplayer.View.prototype._setRelatedTitle=function(media,numOfRelated){var title=media.relatedTo?media.relatedTo.title:media.title;var headerText=Y.substitute(YAHOO.mediaplayer.DisplayStrings.RELATED_HEADER,{0:numOfRelated});var relatedHeader=this._nodeCache.relatedHeader;relatedHeader.set("text",headerText);relatedHeader.show();this.firefoxSetEllipsis(relatedHeader);};YAHOO.mediaplayer.View.prototype.onRelatedItemClicked=function(e){e.halt();var pm=this.playlistManager;var relatedMedia=e.currentTarget.getData("related-media");var currentMediaTopLevelIndex=pm.getMediaTopLevelIndex(pm.getCurrentMedia());pm.createMediaAndInsert([{"itemsArray":[relatedMedia],"index":currentMediaTopLevelIndex+1}]);var insertedMedia=pm.getPlaylistItem(pm.getPlaylistCurrentIndex()+1);this._newRelatedForMedia[insertedMedia.id]=false;this.EventManager.onPlayRequest.fire({media:insertedMedia,"TRIGGER_TYPE":"RELATED_ITEM"});this.switchTrayContentType(YAHOO.mediaplayer.View.TrayContentType.EMPTY);};YAHOO.mediaplayer.View.prototype.onMediaResolved=function(media){if(media!==this.playlistManager.getCurrentMedia()){return;}if(media.hasRelatedMedia()){this._newRelatedForMedia[media.id]=true;}this._showRelatedBtnIfNeeded();};YAHOO.mediaplayer.View.prototype._showRelatedBtnIfNeeded=function(){var media=this.playlistManager.getCurrentMedia();if(media.hasRelatedMedia()){this._nodeCache.relatedBtn.setStyle("visibility","visible");this._setPlaylistCountText(this._nodeCache.relatedCount,media.getRelatedMedia().length);if(this._newRelatedForMedia[media.id]===false){this._nodeCache.relatedCount.removeClass("ywp-playlist-count-new");}}else{this._nodeCache.relatedBtn.setStyle("visibility","hidden");}};YAHOO.mediaplayer.View.prototype._setPlaylistCountText=function(node,length){if(length>0){if(length>YAHOO.mediaplayer.View.Playlist.MaxCount){node.set("text",YAHOO.mediaplayer.DisplayStrings.BTN_PLAYLIST_MAXCOUNT);node.get("parentNode").addClass("ywp-playlist-over-max");}else{node.set("text",length);node.get("parentNode").removeClass("ywp-playlist-over-max");}if(length>1){node.addClass("ywp-playlist-count-new");}node.show();}else{node.hide();}};YAHOO.mediaplayer.View.prototype.onRelatedBtnClicked=function(e){var currentMedia=this.playlistManager.getCurrentMedia();this._newRelatedForMedia[currentMedia.id]=false;this._nodeCache.relatedCount.removeClass("ywp-playlist-count-new");this.switchTrayContentType(YAHOO.mediaplayer.View.TrayContentType.RELATED);};YAHOO.mediaplayer.View.prototype._shouldShowBuyButton=function(media){return(media.buyURL.length>0)||(YAHOO.mediaplayer.YMPParams.amazonid&&(YAHOO.mediaplayer.YMPParams.amazonid.length>0));};YAHOO.mediaplayer.SeekSlider=function(controller,confObj,nodesFromView){YAHOO.mediaplayer.SeekSlider.superclass.constructor.call(this,controller,["onMediaProgress","onPlayStateChange","onCurrentMediaSet"]);this.EventManager.addEvents(["onPlayRequest","onSeekSliderStart","onSeekSliderEnd"]);this.initController(controller);this.controller=this.getController();this._nodesFromView=nodesFromView;this._animConfig=confObj.animConfig;this.setWidth(confObj.width);var metaWrapperWidthOffset=70;this._nodesFromView.metaWrapper.setStyle("width",confObj.width-metaWrapperWidthOffset+"px");this._renderSlider();this._registerHandlers();this._bufferingOffset=-1;this._seekEnabled=true;this._bufferingTick();this._changeDisplayState(YAHOO.mediaplayer.SeekSlider.DisplayState.HIDDEN);};Y.extend(YAHOO.mediaplayer.SeekSlider,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.SeekSlider.prototype.refByName="seekslider";YAHOO.mediaplayer.SeekSlider.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.SeekSlider.DisplayState={"HIDDEN":0,"BUFFERING":1,"SHOWING":2};YAHOO.mediaplayer.SeekSlider.prototype._renderSlider=function(){this._yuiSlider=new Y.Slider({"axis":"x","min":0,"max":100,"value":0,"length":this.getWidth()+"px"});this._yuiSlider.RAIL_TEMPLATE='<span class="{railClass}"><span class="ywp-seek-elapsed"></span><span class="ywp-seek-dotted"></span></span>';this._yuiSlider.THUMB_TEMPLATE='<span class="{thumbClass}" tabindex="-1"></span>';this._yuiSlider.render(this._nodesFromView.seekSlider);this._yuiSlider.elapsedBar=this._nodesFromView.seekSlider.one(".ywp-seek-elapsed");this._yuiSlider.dottedEl=this._nodesFromView.seekSlider.one(".ywp-seek-dotted");this._thumbWidth=this._yuiSlider.thumb.get("region").width;};YAHOO.mediaplayer.SeekSlider.prototype._registerHandlers=function(){this._isMouseDown=false;this._seekUpdateIntervalHandler=null;this._handlers=[];this._inThumb=false;this._registerSeekEndHandlers();this._yuiSlider.after("thumbMove",this._updateElapsed,this);this._yuiSlider.rail.on("mouseover",function(){this._nodesFromView.seekSlider.addClass("ywp-seek-rail-hover");},this);this._yuiSlider.rail.on("mouseout",function(){if(!this._isMouseDown){this._nodesFromView.seekSlider.removeClass("ywp-seek-rail-hover");}},this);this._yuiSlider.thumb.on("mouseover",function(){this._inThumb=true;this._nodesFromView.seekSlider.addClass("ywp-seek-thumb-hover");},this);this._yuiSlider.thumb.on("mouseout",function(){this._inThumb=false;if(!this._isMouseDown){this._nodesFromView.seekSlider.removeClass("ywp-seek-thumb-hover");
}},this);};YAHOO.mediaplayer.SeekSlider.prototype._registerSeekEndHandlers=function(){this._handlers.push(this._yuiSlider.on("railMouseDown",this._onSeekStart,this));this._handlers.push(this._yuiSlider.thumb.on("mousedown",this._onSeekStart,this));if(!this._inThumb){this._nodesFromView.seekSlider.removeClass("ywp-seek-thumb-hover");this._nodesFromView.seekSlider.removeClass("ywp-seek-rail-hover");}};YAHOO.mediaplayer.SeekSlider.prototype._changeDisplayState=function(state){if(state===this._displayState){return;}switch(state){case YAHOO.mediaplayer.SeekSlider.DisplayState.SHOWING:if(this._isBufferingAnimationRunning()){this._hideBufferingAnimation();}this._updateElapsedText(this.controller.mediaengine.getElapsed(),this.controller.mediaengine.getDuration());this._updateSliderWidth();this._showSeekBar();this._showSeekTime();break;case YAHOO.mediaplayer.SeekSlider.DisplayState.BUFFERING:this._hideSeekBar();this._showSeekTime();if(!this._isBufferingAnimationRunning()){this._showBufferingAnimation();}break;case YAHOO.mediaplayer.SeekSlider.DisplayState.HIDDEN:if(this._isBufferingAnimationRunning()){this._hideBufferingAnimation();}this._hideSeekBar();this._hideSeekTime();break;}this._displayState=state;};YAHOO.mediaplayer.SeekSlider.prototype.isMouseDown=function(){return this._isMouseDown;};YAHOO.mediaplayer.SeekSlider.prototype._purgeHandlers=function(){while(this._handlers.length>0){this._handlers.pop().detach();}};YAHOO.mediaplayer.SeekSlider.prototype._onSeekStart=function(e){if(!this._seekEnabled){e.preventDefault();return;}this._purgeHandlers();var mostRecentValue;this._handlers.push(this._yuiSlider.after("slideEnd",this._onSeekEnd,this));this._handlers.push(this._yuiSlider.rail.on("mouseup",this._onSeekEnd,this));this._handlers.push(this._yuiSlider.on("valueChange",function(e){mostRecentValue=e.newVal;if(null===this._seekUpdateIntervalHandler){this._seekUpdateIntervalHandler=Y.later(150,this,function(){this._seekTextUpdate(mostRecentValue);this._seekUpdateIntervalHandler=null;});}},this));this._isMouseDown=true;this.EventManager.onSeekSliderStart.fire();};YAHOO.mediaplayer.SeekSlider.prototype._seekTextUpdate=function(seekValue){var duration=this.controller.mediaengine.getDuration();var sliderMin=this._yuiSlider.get("min");var sliderMax=this._yuiSlider.get("max");var sliderRange=sliderMax-sliderMin;this._updateElapsedText(duration*((sliderMin+seekValue)/sliderRange),duration);};YAHOO.mediaplayer.SeekSlider.prototype._onSeekEnd=function(){var media=this.controller.playlistmanager.getCurrentMedia(),seek=(this._yuiSlider.get("value")/this._yuiSlider.get("max"))*(media?media.duration:0);if(null!==this._seekUpdateIntervalHandler){this._seekUpdateIntervalHandler.cancel();this._seekUpdateIntervalHandler=null;}this._seekTextUpdate(this._yuiSlider.get("value"));this._purgeHandlers();this._isMouseDown=false;this.EventManager.onPlayRequest.fire({media:media,seek:seek,"TRIGGER_TYPE":"SEEK"});this._registerSeekEndHandlers();this.EventManager.onSeekSliderEnd.fire();};YAHOO.mediaplayer.SeekSlider.prototype._updateElapsed=function(e){this._yuiSlider.elapsedBar.setStyle("width",e.offset+"px");};YAHOO.mediaplayer.SeekSlider.prototype.onMediaProgress=function(e){if(this.controller.mediaengine.currentPlayState===YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING&&!this._isMouseDown){var percentElapsed=e.duration?(e.elapsed/e.duration):0,sliderMin=this._yuiSlider.get("min"),sliderMax=this._yuiSlider.get("max"),sliderRange=sliderMax-sliderMin;this._updateElapsedText(this.controller.mediaengine.getElapsed(),this.controller.mediaengine.getDuration());this._updateSliderWidth();this._yuiSlider.set("value",sliderMin+percentElapsed*sliderRange);if(this.controller.mediaengine.getDuration()>0){this._changeDisplayState(YAHOO.mediaplayer.SeekSlider.DisplayState.SHOWING);}else{this._changeDisplayState(YAHOO.mediaplayer.SeekSlider.DisplayState.BUFFERING);}}};YAHOO.mediaplayer.SeekSlider.prototype._updateElapsedText=function(elapsed,duration){var formattedElapsedTime=YAHOO.mediaplayer.Util.formatTime(elapsed);var formattedDuration=YAHOO.mediaplayer.Util.formatTime(duration,{"ignoreZero":true});this._nodesFromView.seekTime.set("text",Y.substitute(YAHOO.mediaplayer.DisplayStrings.SEEK_TIME,{0:formattedElapsedTime,1:formattedDuration?YAHOO.mediaplayer.DisplayStrings.SEEK_TIME_SEPARATOR:"",2:formattedDuration}));};YAHOO.mediaplayer.SeekSlider.prototype._updateSliderWidth=function(){var sliderWidth=this.getWidth()-this._nodesFromView.seekTime.get("region").width-5;if((sliderWidth+"px")!==this._yuiSlider.get("length")){this._yuiSlider.set("length",sliderWidth+"px");this._yuiSlider.dottedEl.setStyle("width",sliderWidth-this._thumbWidth+"px");this._nodesFromView.bufferingEl.setStyle("width",sliderWidth+"px");}};YAHOO.mediaplayer.SeekSlider.prototype.setWidth=function(width){if("number"===typeof width&&!isNaN(width)&&width>0){this._fullWidth=width;this._nodesFromView.seekSection.setStyle("width",this._fullWidth);if("undefined"!==typeof this._yuiSlider){this._updateSliderWidth();}}};YAHOO.mediaplayer.SeekSlider.prototype.getWidth=function(){return this._fullWidth;};YAHOO.mediaplayer.SeekSlider.prototype.getThumb=function(){return this._yuiSlider.thumb;};YAHOO.mediaplayer.SeekSlider.prototype.onPlayStateChange=function(e){switch(e.newState){case YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING:if(!this.controller.mediaengine.currentEngineSupportsSeek()){this._seekEnabled=false;this._nodesFromView.seekSlider.addClass("ywp-seek-thumb-inactive");}else{this._seekEnabled=true;this._nodesFromView.seekSlider.removeClass("ywp-seek-thumb-inactive");}break;case YAHOO.mediaplayer.MediaEngine.PlayState.BUFFERING:this._changeDisplayState(YAHOO.mediaplayer.SeekSlider.DisplayState.BUFFERING);break;case YAHOO.mediaplayer.MediaEngine.PlayState.PAUSED:if(this.controller.mediaengine.getDuration()){this._changeDisplayState(YAHOO.mediaplayer.SeekSlider.DisplayState.SHOWING);}else{this._changeDisplayState(YAHOO.mediaplayer.SeekSlider.DisplayState.HIDDEN);}break;
case YAHOO.mediaplayer.MediaEngine.PlayState.ENDED:case YAHOO.mediaplayer.MediaEngine.PlayState.STOPPED:this._changeDisplayState(YAHOO.mediaplayer.SeekSlider.DisplayState.HIDDEN);break;}};YAHOO.mediaplayer.SeekSlider.prototype.onCurrentMediaSet=function(media){if((media===this.controller.mediaengine.currentMedia)&&(this.controller.mediaengine.getDuration()>0)){this._changeDisplayState(YAHOO.mediaplayer.SeekSlider.DisplayState.SHOWING);}else{this._changeDisplayState(YAHOO.mediaplayer.SeekSlider.DisplayState.HIDDEN);}};YAHOO.mediaplayer.SeekSlider.prototype._showBufferingAnimation=function(){this._nodesFromView.seekTime.set("text",YAHOO.mediaplayer.DisplayStrings.BUFFERING);this._updateSliderWidth();this._nodesFromView.bufferingEl.replaceClass("ywp-buffering-hidden","ywp-buffering");this._startBufferingLoop();};YAHOO.mediaplayer.SeekSlider.prototype._hideBufferingAnimation=function(){this._stopBufferingLoop();this._nodesFromView.bufferingEl.replaceClass("ywp-buffering","ywp-buffering-hidden");};YAHOO.mediaplayer.SeekSlider.prototype._showSeekBar=function(){this._nodesFromView.seekSlider.setStyle("visibility","visible");};YAHOO.mediaplayer.SeekSlider.prototype._hideSeekBar=function(){this._nodesFromView.seekSlider.setStyle("visibility","hidden");};YAHOO.mediaplayer.SeekSlider.prototype._showSeekTime=function(){this._nodesFromView.seekTime.setStyle("visibility","visible");};YAHOO.mediaplayer.SeekSlider.prototype._hideSeekTime=function(){this._nodesFromView.seekTime.setStyle("visibility","hidden");};YAHOO.mediaplayer.SeekSlider.prototype._bufferingTick=function(){var beads=this._nodesFromView.bufferingEl.all("span");var l=beads.size();beads.each(function(el,i){var offset=((this._bufferingOffset+(l-i))%l)+1;el._node.className=el._node.className.replace(/ywp-buffering-bead([0-9]+)/,"ywp-buffering-bead"+offset);},this);if(++this._bufferingOffset>=l){this._bufferingOffset=0;}};YAHOO.mediaplayer.SeekSlider.prototype._startBufferingLoop=function(){this._stopBufferingLoop();this._bufferingInterval=Y.later(this._animConfig.tickDelay,this,this._bufferingTick,null,true);};YAHOO.mediaplayer.SeekSlider.prototype._isBufferingAnimationRunning=function(){return !!this._bufferingInterval;};YAHOO.mediaplayer.SeekSlider.prototype._stopBufferingLoop=function(){if(this._bufferingInterval){try{this._bufferingInterval.cancel();}catch(e){}this._bufferingInterval=null;}};YAHOO.mediaplayer.FadeManager=function(controller,confObj,fadeNodes){YAHOO.mediaplayer.FadeManager.superclass.constructor.call(this,controller,["onSeekSliderStart","onSeekSliderEnd","onVolumeSeekStart","onVolumeSeekEnd"]);this.initController(controller);this.controller=this.getController();this._fadeConfig=confObj;this._fadeNodes=fadeNodes;this._fadeOutTimer=null;this._fadeOutTimerEnd=-1;this._fadeAnims=[];this._mouseInsidePlayer=false;this._fadeState=YAHOO.mediaplayer.FadeManager.State.FADEDIN;this._fadeManagerDisabled=true;this.enableIfNeeded();this._registerHandlers();};Y.extend(YAHOO.mediaplayer.FadeManager,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.FadeManager.prototype.refByName="fademanager";YAHOO.mediaplayer.FadeManager.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.FadeManager.State={FADEDIN:0,FADEDOUT:1};YAHOO.mediaplayer.FadeManager.prototype._registerHandlers=function(){this._fadeNodes.container.on("mouseleave",this.onPlayerMouseLeave,this);this._fadeNodes.container.on("mousemove",this.onPlayerMouseEnter,this);this._fadeNodes.container.on("mousemove",this.onPlayerMouseMove,this);this._fadeNodes.container.on("click",this.onPlayerClicked,this);};YAHOO.mediaplayer.FadeManager.prototype.onPlayerMouseLeave=function(){this._mouseInsidePlayer=false;if(this._fadeManagerDisabled){return;}this._fadeOutOnTimer(this._fadeConfig.mouseLeaveFadeDelay);};YAHOO.mediaplayer.FadeManager.prototype.onPlayerMouseEnter=function(){this._mouseInsidePlayer=true;};YAHOO.mediaplayer.FadeManager.prototype.onPlayerMouseMove=function(){this._gotPlayerUIActivity();};YAHOO.mediaplayer.FadeManager.prototype.onSeekSliderStart=function(){this._seekStart();};YAHOO.mediaplayer.FadeManager.prototype.onSeekSliderEnd=function(){this._seekEnd();};YAHOO.mediaplayer.FadeManager.prototype.onVolumeSeekStart=function(){this._seekStart();};YAHOO.mediaplayer.FadeManager.prototype.onVolumeSeekEnd=function(){this._seekEnd();};YAHOO.mediaplayer.FadeManager.prototype._seekStart=function(){this._gotPlayerUIActivity();this.disable();};YAHOO.mediaplayer.FadeManager.prototype._seekEnd=function(){this.fadeIn();this.enableIfNeeded();};YAHOO.mediaplayer.FadeManager.prototype.onPlayerClicked=function(){this._gotPlayerUIActivity();};YAHOO.mediaplayer.FadeManager.prototype.disable=function(){this._fadeManagerDisabled=true;this._purgeFadeTimers();};YAHOO.mediaplayer.FadeManager.prototype.enable=function(bGotNewPlayRequest){this._fadeManagerDisabled=false;var timeoutDuration;if(bGotNewPlayRequest){timeoutDuration=this._fadeConfig.playbackFadeDelay;}else{if(this._mouseInsidePlayer){timeoutDuration=this._fadeConfig.inactivityFadeDelay;}else{timeoutDuration=this._fadeConfig.mouseLeaveFadeDelay;}}this._fadeOutOnTimer(timeoutDuration);};YAHOO.mediaplayer.FadeManager.prototype.enableIfNeeded=function(bGotNewPlayRequest){if(!this.controller.isPlayerPlaying()||!this.controller.view.isTrayEmpty()){return;}this.enable(bGotNewPlayRequest);};YAHOO.mediaplayer.FadeManager.prototype._gotPlayerUIActivity=function(){if(this._fadeManagerDisabled){return;}this.fadeIn();this._fadeOutOnTimer(this._fadeConfig.inactivityFadeDelay);};YAHOO.mediaplayer.FadeManager.prototype._fadeOutOnTimer=function(timeoutDuration){var timerEnd=new Date().getTime()+timeoutDuration;if(timerEnd<this._fadeOutTimerEnd){return;}this._purgeFadeTimers();this._fadeOutTimer=Y.later(timeoutDuration,this,function(){this.fadeOut();});this._fadeOutTimerEnd=timerEnd;};YAHOO.mediaplayer.FadeManager.prototype._purgeFadeTimers=function(){this._fadeOutTimer&&this._fadeOutTimer.cancel();this._fadeOutTimer=null;
this._fadeOutTimerEnd=-1;};YAHOO.mediaplayer.FadeManager.prototype._changeFadeState=function(newState){if(this._fadeState===newState){return;}this._purgeFadeTimers();this._fadeState=newState;var bShouldFadeIn=(newState===YAHOO.mediaplayer.FadeManager.State.FADEDIN);this._stopFadeAnims();var fadeDuration=bShouldFadeIn?this._fadeConfig.fadeInDuration:this._fadeConfig.fadeOutDuration;var fadeCommonNodesTo=bShouldFadeIn?100:this._fadeConfig.commonNodes.fadeTo;this._fadeNodes.commonFadeNodes.each(function(node){this._addFadeAnim(node,fadeDuration,fadeCommonNodesTo);},this);var currentMedia=this.controller.playlistmanager.getCurrentMedia();var nodesToFade,fadeNodesTo;var fadeNodesTo;if(bShouldFadeIn){fadeNodesTo=100;nodesToFade=this._fadeNodes.videoFadeNodes.concat(this._fadeNodes.audioFadeNodes);}else{if(YAHOO.mediaplayer.Media.Types.VIDEO===currentMedia.getType()){fadeNodesTo=this._fadeConfig.videoNodes.fadeTo;nodesToFade=this._fadeNodes.videoFadeNodes;}else{fadeNodesTo=this._fadeConfig.audioNodes.fadeTo;nodesToFade=this._fadeNodes.audioFadeNodes;}}nodesToFade.each(function(node){this._addFadeAnim(node,fadeDuration,fadeNodesTo);},this);this._runFadeAnims();};YAHOO.mediaplayer.FadeManager.prototype.fadeIn=function(){this._changeFadeState(YAHOO.mediaplayer.FadeManager.State.FADEDIN);};YAHOO.mediaplayer.FadeManager.prototype.fadeOut=function(){this._changeFadeState(YAHOO.mediaplayer.FadeManager.State.FADEDOUT);};YAHOO.mediaplayer.FadeManager.prototype._addFadeAnim=function(node,duration,to){var anim=new Y.Anim({"node":node,"easing":Y.Easing.easeOut,"duration":duration/1000,"to":{"opacity":to/100}});this._fadeAnims.push(anim);};YAHOO.mediaplayer.FadeManager.prototype._stopFadeAnims=function(){for(var i=0;i<this._fadeAnims.length;i++){this._fadeAnims[i].stop();delete this._fadeAnims[i];}this._fadeAnims=[];};YAHOO.mediaplayer.FadeManager.prototype._runFadeAnims=function(){for(var i=0;i<this._fadeAnims.length;i++){this._fadeAnims[i].run();}};YAHOO.mediaplayer.AdManager=function(controller,nodesFromView){YAHOO.mediaplayer.AdManager.superclass.constructor.call(this,controller,["onPlayStateChange"]);this.EventManager.addEvents(["onPlayRequest","onStopRequest"]);this._nodesFromView=nodesFromView;this._countdownUpNextNode=this._nodesFromView.adCountdown.one(".ywp-ad-countdown-up-next");this._countdownMain=this._nodesFromView.adCountdown.one(".ywp-ad-countdown-main");this._nodesFromView.adCountdown.hide();this._adIsPlaying=false;this.initController(controller);this.controller=this.getController();};Y.extend(YAHOO.mediaplayer.AdManager,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.AdManager.prototype.refByName="admanager";YAHOO.mediaplayer.AdManager.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.AdManager.prototype.onPlayStateChange=function(obj){switch(obj.newState){case YAHOO.mediaplayer.MediaEngine.PlayState.AD_START:this._adIsPlaying=true;this._firstProgressEvent=true;if(this.controller.view.getCurrentTrayContentType()===YAHOO.mediaplayer.View.TrayContentType.PLAYLIST){this.controller.view.switchTrayContentType(YAHOO.mediaplayer.View.TrayContentType.EMPTY);this.EventManager.onStopRequest.fire();this.EventManager.onPlayRequest.fire({"media":this.controller.playlistmanager.getCurrentMedia(),"bNewPlay":false});}else{this._countdownUpNextNode.set("text",Y.substitute(YAHOO.mediaplayer.DisplayStrings.AD_COUNTDOWN_UP_NEXT,{0:this.controller.playlistmanager.getCurrentMedia().title}));this._nodesFromView.nodesToHide.setStyle("visibility","hidden");this._nodesFromView.nodesToDisable.addClass("ywp-btn-disabled");}break;case YAHOO.mediaplayer.MediaEngine.PlayState.ENDED:case YAHOO.mediaplayer.MediaEngine.PlayState.STOPPED:if(!this.adIsPlaying()){break;}case YAHOO.mediaplayer.MediaEngine.PlayState.AD_ENDED:this._adIsPlaying=false;this._nodesFromView.adCountdown.hide();this._nodesFromView.trackGroup.show();this._nodesFromView.nodesToHide.setStyle("visibility","visible");this._nodesFromView.nodesToDisable.removeClass("ywp-btn-disabled");break;case YAHOO.mediaplayer.MediaEngine.PlayState.AD_PROGRESS:if(this.adIsPlaying()){if(this._firstProgressEvent){this._nodesFromView.trackGroup.hide();this._nodesFromView.adCountdown.show();this.controller.view.firefoxSetEllipsis(this._countdownUpNextNode);this.controller.view.firefoxSetEllipsis(this._countdownMain);}this._firstProgressEvent=false;this._countdownMain.set("innerHTML",Y.substitute(YAHOO.mediaplayer.DisplayStrings.AD_COUNTDOWN_MAIN,{0:Math.floor(obj.data.remainingTime)}));}break;}};YAHOO.mediaplayer.AdManager.prototype.adIsPlaying=function(){return this._adIsPlaying;};YAHOO.mediaplayer.VolumeSlider=function(controller,config,volumeSliderNodes){YAHOO.mediaplayer.VolumeSlider.superclass.constructor.call(this,controller,["onVolumeChange"]);this.EventManager.addEvents(["onVolumeChangeRequest","onVolumeSeekStart","onVolumeSeekEnd"]);this.initController(controller);this.controller=this.getController();this._config=config;this._volumeSliderNodes=volumeSliderNodes;this._volumeMin=0;this._volumeMax=100;this._volumeRange=Math.abs(this._volumeMax-this._volumeMin);this._dontSendVolumeChangeBackToEngine=false;this._renderSlider();this._registerHandlers();};Y.extend(YAHOO.mediaplayer.VolumeSlider,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.VolumeSlider.prototype.refByName="volumeslider";YAHOO.mediaplayer.VolumeSlider.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.VolumeSlider.prototype._renderSlider=function(){var volume=this.controller.mediaengine.getVolume()*100;this._yuiSlider=new Y.Slider({"axis":"y","min":this._volumeMax,"max":this._volumeMin,"value":volume,"length":"60px"});this._yuiSlider.RAIL_TEMPLATE='<span class="{railClass}"></span>';this._yuiSlider.THUMB_TEMPLATE='<span class="{thumbClass}" tabindex="-1"></span>';this._yuiSlider.render(this._volumeSliderNodes.volumeSlider);this._updateThumbTitle();this._yuiSlider.after("valueChange",function(e){this._updateThumbTitle();
if(this._dontSendVolumeChangeBackToEngine===true){this._dontSendVolumeChangeBackToEngine=false;return;}this.EventManager.onVolumeChangeRequest.fire(e.newVal/this._volumeRange);},this);};YAHOO.mediaplayer.VolumeSlider.prototype.showVolumeSlider=function(sliderPosition){this._volumeSliderNodes.volumeSlider.setStyles(sliderPosition);this._volumeSliderNodes.volumeSlider.replaceClass("ywp-volume-slider-hidden","ywp-volume-slider");};YAHOO.mediaplayer.VolumeSlider.prototype.hideVolumeSlider=function(){this._volumeSliderNodes.volumeSlider.replaceClass("ywp-volume-slider","ywp-volume-slider-hidden");};YAHOO.mediaplayer.VolumeSlider.DisplayState={"HIDDEN":1,"BEFORE_SHOW":2,"SHOWING":3,"BEFORE_HIDE":4};YAHOO.mediaplayer.VolumeSlider.prototype._registerHandlers=function(){var doc=Y.one("doc");var kc=YAHOO.mediaplayer.Util.keycodes;this._clicked=false;this._inVolumeBtn=false;this._inVolumeSlider=false;this._hideHandler=null;this._showHandler=null;this._listeners=[];this._changeState(YAHOO.mediaplayer.VolumeSlider.DisplayState.HIDDEN);this._volumeSliderNodes.volumeBtn.on("mouseenter",function(){this._inVolumeBtn=true;},this);this._volumeSliderNodes.volumeBtn.on("mouseleave",function(){this._inVolumeBtn=false;},this);this._volumeSliderNodes.volumeSlider.on("mouseenter",function(){this._inVolumeSlider=true;},this);this._volumeSliderNodes.volumeSlider.on("mouseleave",function(){this._inVolumeSlider=false;},this);this._yuiSlider.on("slideStart",function(){this.EventManager.onVolumeSeekStart.fire();},this);this._yuiSlider.thumb.on("mousedown",function(){this.EventManager.onVolumeSeekStart.fire();},this);this._yuiSlider.after("slideEnd",function(){this.EventManager.onVolumeSeekEnd.fire();},this);this._yuiSlider.thumb.on("mouseup",function(){this.EventManager.onVolumeSeekEnd.fire();},this);var arrowVolumeChangeFactor=Math.floor(this._volumeRange*0.1);doc.on("key",function(e){e.preventDefault();this.changeVolumeBy(arrowVolumeChangeFactor);},"down:"+kc.KEY_UP+"+shift",this);doc.on("key",function(e){e.preventDefault();this.changeVolumeBy(0-arrowVolumeChangeFactor);},"down:"+kc.KEY_DOWN+"+shift",this);};YAHOO.mediaplayer.VolumeSlider.prototype._changeState=function(state){this._purgeListeners();switch(state){case YAHOO.mediaplayer.VolumeSlider.DisplayState.HIDDEN:this._listeners.push(this._volumeSliderNodes.volumeBtn.on("mouseenter",this._showAfterDelay,this,this._config.showDelay));this._listeners.push(this._volumeSliderNodes.volumeBtn.on("click",function(e){this._toggleMute();},this));break;case YAHOO.mediaplayer.VolumeSlider.DisplayState.SHOWING:this._listeners.push(this._yuiSlider.rail.on("mouseleave",this._hideAfterDelay,this));this._listeners.push(this._volumeSliderNodes.volumeBtn.on("mouseleave",this._hideAfterDelay,this));this._listeners.push(this._yuiSlider.thumb.on("mousedown",function(){this._clicked=true;},this));this._listeners.push(this._yuiSlider.rail.on("mousedown",function(){this._clicked=true;},this));this._listeners.push(this._yuiSlider.thumb.on("mouseup",function(e){this._clicked=false;},this));this._listeners.push(this._volumeSliderNodes.volumeBtn.on("mouseup",function(e){this._clicked=false;},this));this._listeners.push(Y.one("doc").on("mouseup",function(e){this._clicked=false;if(!this._inVolumeBtn&&!this._inVolumeSlider){this._hideAfterDelay();}},this));this._listeners.push(this._volumeSliderNodes.volumeBtn.on("click",function(e){this._toggleMute();},this));break;case YAHOO.mediaplayer.VolumeSlider.DisplayState.BEFORE_HIDE:this._listeners.push(this._volumeSliderNodes.volumeBtn.on("click",function(e){this._cancelHideAfterDelay();this._toggleMute();},this));this._listeners.push(this._yuiSlider.rail.on("mouseenter",this._cancelHideAfterDelay,this));this._listeners.push(this._volumeSliderNodes.volumeBtn.on("mouseenter",this._cancelHideAfterDelay,this));break;case YAHOO.mediaplayer.VolumeSlider.DisplayState.BEFORE_SHOW:this._listeners.push(this._yuiSlider.rail.on("mouseleave",this._cancelShowAfterDelay,this));this._listeners.push(this._volumeSliderNodes.volumeBtn.on("mouseleave",this._cancelShowAfterDelay,this));this._listeners.push(this._volumeSliderNodes.volumeBtn.on("click",function(e){this._cancelShowAfterDelay();this._toggleMute();this._showAfterDelay();},this));break;default:break;}};YAHOO.mediaplayer.VolumeSlider.prototype._hideAfterDelay=function(){if(false===this._clicked&&null===this._hideHandler){this._hideHandler=Y.later(this._config.hideDelay,this,function(){this.hideVolumeSlider();this._hideHandler=null;this._changeState(YAHOO.mediaplayer.VolumeSlider.DisplayState.HIDDEN);});this._changeState(YAHOO.mediaplayer.VolumeSlider.DisplayState.BEFORE_HIDE);}};YAHOO.mediaplayer.VolumeSlider.prototype._showAfterDelay=function(e,delay){if(null===this._showHandler){this._showHandler=Y.later(delay||20,this,function(){var containerRegion=this._volumeSliderNodes.container.get("region");var volumeButtonRegion=this._volumeSliderNodes.volumeBtn.get("region");this.showVolumeSlider({"left":volumeButtonRegion.left-containerRegion.left,"bottom":(containerRegion.bottom-volumeButtonRegion.bottom)+volumeButtonRegion.height});this._changeState(YAHOO.mediaplayer.VolumeSlider.DisplayState.SHOWING);this._showHandler=null;});this._changeState(YAHOO.mediaplayer.VolumeSlider.DisplayState.BEFORE_SHOW);}};YAHOO.mediaplayer.VolumeSlider.prototype._cancelHideAfterDelay=function(){if(null!==this._hideHandler){this._hideHandler.cancel();this._hideHandler=null;this._changeState(YAHOO.mediaplayer.VolumeSlider.DisplayState.SHOWING);}};YAHOO.mediaplayer.VolumeSlider.prototype._cancelShowAfterDelay=function(){if(null!==this._showHandler){this._showHandler.cancel();this._showHandler=null;this._changeState(YAHOO.mediaplayer.VolumeSlider.DisplayState.HIDDEN);}};YAHOO.mediaplayer.VolumeSlider.prototype._toggleMute=function(e){var sliderVal=this._yuiSlider.getValue();if(sliderVal>this._volumeMin){this._yuiSlider.beforeMuteVolume=sliderVal;this._setValue(this._volumeMin);}else{if(("number"===typeof this._yuiSlider.beforeMuteVolume)&&!isNaN(this._yuiSlider.beforeMuteVolume)){this._setValue(this._yuiSlider.beforeMuteVolume);
delete this._yuiSlider.beforeMuteVolume;}else{this._setValue(Math.floor(((this._volumeMin+this._volumeMax)/2)));}}};YAHOO.mediaplayer.VolumeSlider.prototype._purgeListeners=function(){while(this._listeners.length>0){this._listeners.pop().detach();}};YAHOO.mediaplayer.VolumeSlider.prototype.onVolumeChange=function(val){if("undefined"===typeof val||isNaN(val)){val=0;}val=this._volumeMin+Math.floor(val*this._volumeRange);if(Math.abs(val-this._yuiSlider.getValue())>1){this._dontSendVolumeChangeBackToEngine=true;this._setValue(val);}};YAHOO.mediaplayer.VolumeSlider.prototype.changeVolumeBy=function(factor){var sliderVal=this._yuiSlider.getValue();this._setValue(sliderVal+factor);};YAHOO.mediaplayer.VolumeSlider.prototype._setValue=function(vol){vol=Math.max(this._volumeMin,Math.min(this._volumeMax,vol));this._yuiSlider.setValue(vol);};YAHOO.mediaplayer.VolumeSlider.prototype._updateThumbTitle=function(){var volPercentage=Math.round(((this._yuiSlider.getValue()-this._volumeMin)/this._volumeRange)*100);var title=Y.substitute(YAHOO.mediaplayer.DisplayStrings.TOOLTIP_VOLUME_THUMB,{0:volPercentage});this._yuiSlider.thumb.set("title",title);};YAHOO.namespace("YAHOO.mediaplayer");(function(){var d=YAHOO.mediaplayer.DisplayStrings;var websiteLink=YAHOO.mediaplayer.YMPParams.wwwroot+(YAHOO.mediaplayer.YMPParams._websitelinkhash?"#"+YAHOO.mediaplayer.YMPParams._websitelinkhash:"");YAHOO.mediaplayer.ViewMarkup='        <iframe class="ywp-iframe-shim ywp-xl-shim" src="about:blank" frameborder="0" tabindex="-1" role="presentation"></iframe>        <div class="ywp-container ywp-ltr ywp-default-skin ywp-clearfix ywp-collapsed ywp-hidden" tabindex="0" dir="ltr" role="application" aria-label="Yahoo! WebPlayer">            <div class="ywp-mod ywp-player ywp-clearfix">                <iframe class="ywp-iframe-shim ywp-player-shim" src="about:blank" frameborder="0" tabindex="-1" role="presentation"></iframe>                <div class="ywp-mod ywp-row ywp-hdr ywp-clearfix">                    <a class="ywp-hdr-logo" tabindex="-1" target="_blank" rel="external" href="'+websiteLink+'" title="'+d.TOOLTIP_TOP_LOGO+'"></a>                    <div class="ywp-mod ywp-hdr-btns ywp-clearfix">                        <a href="#" tabindex="-1" class="ywp-mod ywp-btn-player-close" title="'+d.TOOLTIP_CLOSE+'">'+d.BTN_CLOSE+'</a>                        <a href="#" tabindex="-1" class="ywp-mod ywp-btn-expand-video">'+d.BTN_EXPAND_VIDEO+'</a>                        <a href="#" tabindex="-1" class="ywp-mod ywp-btn-cont-play" title="'+d.TOOLTIP_CONTINUOUS_PLAY+'">'+d.BTN_CONTINUOUS_PLAY+'</a>                        <div class="ywp-mod ywp-audio-hdr-btns">                            <a href="#" tabindex="-1" class="ywp-mod ywp-body-playlist" title="'+d.TOOLTIP_TRAY_PLAYLIST+'">                                <span class="ywp-mod ywp-playlist-count"></span>                                <span class="ywp-mod ywp-btn-playlist">'+d.BTN_PLAYLIST+'</span>                            </a>                        </div>                    </div>                </div>                <div class="ywp-mod ywp-tray-wrapper">                  <div class="ywp-mod ywp-row ywp-tray ywp-clearfix"">                    <div class="ywp-mod ywp-button-list"></div>                    <div class="ywp-mod ywp-media-content-pane ywp-clearfix">                         <div class="ywp-mod ywp-video-pane ywp-clearfix">                            <div class="ywp-mod ywp-video-pane-mode ywp-video-queued">                                <span class="ywp-video-queued-header ywp-ellipsis"></span>                                <span class="ywp-video-queued-play" title="'+d.TOOLTIP_PLAY+'"><a href="#" tabindex="-1"></a></span>                            </div>                            <div class="ywp-mod ywp-video-pane-mode ywp-video-buffering">                                <span>'+d.VIDEO_LOADING+'</span>                            </div>                            <div class="ywp-mod ywp-video-pane-mode ywp-video-error">                                <span class="ywp-video-error-message"></span>                                <a href="#" tabindex="-1" rel="external" target="_blank" class="ywp-video-error-link"></a>                            </div>                            <div class="ywp-mod ywp-video-embeds">                                <div class="ywp-div-shim ywp-video-embed-shim"></div>                            </div>                        </div>                        <div class="ywp-mod ywp-audio-pane ywp-clearfix">                            <div class="ywp-mod ywp-thumbnail-default-img"></div>                        </div>                        <a class="ywp-tray-content-close" tabindex="-1" href="#" title="'+d.TOOLTIP_PIP_EXPAND+'">'+d.BTN_PIP_EXPAND+'</a>                    </div>                    <div class="ywp-mod ywp-button-list ywp-clearfix">                        <a href="#" tabindex="-1" class="ywp-mod ywp-row ywp-tray-button ywp-tray-playlist" title="'+d.TOOLTIP_TRAY_PLAYLIST+'">                            <span class="ywp-btn-playlist"></span><em class="ywp-btn-label">'+d.BTN_PLAYLIST+'</em>                            <span class="ywp-playlist-count"></span>                        </a>                        <a href="#" tabindex="-1" class="ywp-mod ywp-row ywp-tray-button ywp-tray-related" title="RELATED VIDEOS">                            <span class="ywp-btn-related"></span><em class="ywp-btn-label">RELATED VIDEOS</em>                            <span class="ywp-playlist-count"></span>                        </a>                    </div>                    <div class="ywp-mod ywp-tray-content-pane">                        <div class="ywp-playlist ywp-active-content-pane">                            <span class="ywp-content-pane-header"></span>                            <ol class="ywp-mod ywp-row ywp-content-pane ywp-clearfix"></ol>                        </div>                        <div class="ywp-related">                            <span class="ywp-content-pane-header">'+d.RELATED_PANE_RELATED_VIDEOS+'</span>                            <ol class="ywp-mod ywp-row ywp-content-pane ywp-clearfix"></ol>                        </div>                        <a class="ywp-tray-content-close" tabindex="-1" href="#">                            <span class="ywp-mod ywp-tray-content-close-x"></span><span class="ywp-tray-content-close-text">'+d.BTN_TRAY_CONTENT_CLOSE+'</span>                        </a>                    </div>                </div>                </div>                <div class="ywp-mod ywp-row ywp-body ywp-clearfix">                    <div class="ywp-mod ywp-playback-controls ywp-body-buttons ywp-clearfix" role="toolbar" aria-label="'+d.ACCESSIBILITY_PLAYER_CONTROLS+'">                        <a href="#" class="ywp-mod ywp-prev" role="button" tabindex="0" title="'+d.TOOLTIP_PREVIOUS+'"><span class="ywp-btn-prev">'+d.BTN_PREVIOUS+'</span></a>                        <a href="#" class="ywp-mod ywp-play-pause" role="button" tabindex="-1" title="'+d.TOOLTIP_PLAY+'"><span class="ywp-btn-play">'+d.BTN_PLAY+'</span></a>                        <a href="#" class="ywp-mod ywp-next" role="button" tabindex="-1" title="'+d.TOOLTIP_NEXT+'"><span class="ywp-btn-next">'+d.BTN_NEXT+'</span></a>                        <a href="#" class="ywp-mod ywp-volume" role="button" tabindex="-1"><span class="ywp-btn-volume">'+d.BTN_VOLUME+'</span></a>                    </div>                    <div class="ywp-mod ywp-info ywp-clearfix">                        <div class="ywp-notify">                            <div class="ywp-notify-msg"></div>                            <a href="#" tabindex="-1" class="ywp-btn-notify-close">'+d.BTN_CLOSE_NOTIFICATION+'</a>                        </div>                        <div class="ywp-mod ywp-thumbnail">                            <div class="ywp-mod ywp-thumbnail-default-img"></div>                        </div>                        <div class="ywp-mod ywp-track-group ywp-clearfix">                            <div class="ywp-mod ywp-row ywp-meta ywp-clearfix">                                <div class="ywp-mod ywp-row ywp-meta-wrapper ywp-clearfix">                                    <a class="ywp-mod ywp-row ywp-meta-primary ywp-ellipsis" tabindex="-1" href="#"></a>                                    <a class="ywp-mod ywp-row ywp-meta-secondary ywp-ellipsis" tabindex="-1" href="#"></a>                                </div>                            </div>                            <div class="ywp-mod ywp-row ywp-seek-wrapper">                                <div class="ywp-mod ywp-seek ywp-clearfix">                                    <div class="ywp-buffering-hidden ywp-clearfix">                                        <span class="ywp-mod ywp-buffering-bead0"></span>                                        <span class="ywp-mod ywp-buffering-bead0"></span>                                        <span class="ywp-mod ywp-buffering-bead0"></span>                                        <span class="ywp-mod ywp-buffering-bead0"></span>                                        <span class="ywp-mod ywp-buffering-bead0"></span>                                        <span class="ywp-mod ywp-buffering-bead0"></span>                                        <span class="ywp-mod ywp-buffering-bead0"></span>                                        <span class="ywp-mod ywp-buffering-bead0"></span>                                        <span class="ywp-mod ywp-buffering-bead0"></span>                                        <span class="ywp-mod ywp-buffering-bead0"></span>                                    </div>                                    <div class="ywp-mod ywp-seek-slider"></div>                                    <div class="ywp-mod ywp-seek-time"></div>                                </div>                                <div class="ywp-mod ywp-track-btns ywp-clearfix">                                    <div class="ywp-mod ywp-track-btns-item ywp-track-error"></div>                                        <a class="ywp-mod ywp-track-btns-item ywp-btn-buy" href="#" tabindex="-1" target="_blank" rel="external">'+d.BTN_BUY+'</a>                                    </div>                                </div>                            </div>                            <div class="ywp-mod ywp-partner"></div>                            <div class="ywp-mod ywp-ad-countdown ywp-clearfix">                                <div class="ywp-ad-countdown-main ywp-ellipsis">'+d.AD_COUNTDOWN_MAIN+'</div>                                <div class="ywp-ad-countdown-up-next ywp-ellipsis">'+d.AD_COUNTDOWN_UP_NEXT+'</div>                            </div>                        </div>                        <div class="ywp-mod ywp-display-controls ywp-body-buttons ywp-clearfix">                             <a href="#" tabindex="-1" class="ywp-mod ywp-expand-collapse-xl" title="'+d.TOOLTIP_EXPAND_XL+'"><span class="ywp-btn-expand-xl">'+d.BTN_EXPAND_XL+'</span></a>                        </div>                    </div>                    <div class="ywp-interstitial">                        <div class="ywp-int-content ywp-clearfix">                            <div class="ywp-int-btns ywp-mod">                                <a href="#" tabindex="-1" class="ywp-int-btn-replay ywp-mod"> <span class="ywp-int-btn-replay-img ywp-mod"></span>'+d.INTERSTITIAL_REPLAY_LAST_MEDIA+'</a>                            </div>                            <div class="ywp-int-play-next">                                <div class="ywp-int-next-in-playlist">'+d.INTERSTITIAL_NEXT_IN_PLAYLIST+'</div>                                <div class="ywp-int-pn-countdown-pause">                                    <span class="ywp-int-pn-countdown">'+d.INTERSTITIAL_PLAYING_NEXT_COUNTDOWN+'</span>                                    <a href="#" tabindex="-1" class="ywp-int-pn-pause">'+d.INTERSTITIAL_PAUSE_NEXT_COUNTDOWN+'</a>                                </div>                                <a href="#" tabindex="-1" class="ywp-int-pn-media-thumbnail">                                    <span class="ywp-int-pn-med-thumb-content ywp-row">                                        <span class="ywp-int-pn-med-playIcon ywp-mod"></span>                                        <span class="ywp-int-pn-med-title ywp-ellipsis"></span>                                        <span class="ywp-int-pn-med-duration"></span>                                    </span>                                </a>                            </div>                            <div class="ywp-int-related-media ywp-row ywp-clearfix">                                <div class="ywp-int-related-carousel-header ywp-ellipsis">'+d.INTERSTITIAL_MORE_VIDEOS+'</div>                                <a class="ywp-mod ywp-int-related-prev" tabindex="-1" href="#"></a>                            <span class="ywp-mod ywp-int-related-carousel"></span>                            <a class="ywp-mod ywp-int-related-next" tabindex="-1" href="#"></a>                        </div>                    </div>                </div>            </div>            <div class="ywp-btn-expand-collapse-player ywp-btn-expand-player" title="'+d.TOOLTIP_PLAYER_MAXIMIZE+'">                <iframe class="ywp-iframe-shim" src="about:blank" frameborder="0" tabindex="-1" role="presentation"> </iframe>                <a tabindex="-1" href="#"><span>'+d.BTN_EXPAND_PLAYER+'</span></a>            </div>            <div class="ywp-volume-slider-hidden"></div>            <form class="ywp-contplay" action="" method="post" target="ymediaplayer">                <input name="token" type="hidden" value="0"/>                <input name="seek" type="hidden" value="0"/>                <input name="vol" type="hidden" value="0"/>                <input name="trackhtml" type="hidden" value=""/>                <input name="build_number" type="hidden" value=""/>            </form>            <div class="ywp-error-bubble">                <div class="ywp-error-msg"></div>            </div>            <div class="ywp-aria-announcements" aria-live="polite" role="status"></div>        </div>';
}());YAHOO.MediaPlayer.init=function(){this.controller=YAHOO.mediaplayer.Controller;YAHOO.MediaPlayer.onPlaylistUpdate=new Y.CustomEvent("onPlaylistUpdate",null);YAHOO.MediaPlayer.onProgress=new Y.CustomEvent("onProgress",null);YAHOO.MediaPlayer.onTrackStart=new Y.CustomEvent("onTrackStart",null);YAHOO.MediaPlayer.onTrackPause=new Y.CustomEvent("onTrackPause",null);YAHOO.MediaPlayer.onTrackComplete=new Y.CustomEvent("onTrackComplete",null);YAHOO.MediaPlayer.onMediaUpdate=new Y.CustomEvent("onMediaUpdate",null);var subscribeToControllersEvents=["onPlaylistUpdate","onMediaProgress","onPlayStateChange","onMediaUpdate"];this.controller.EventManager.subscribe(this,subscribeToControllersEvents);this.isAPIReady=true;YAHOO.MediaPlayer.onAPIReady.fire();try{if(document.createEvent){var evt=document.createEvent("Event");evt.initEvent("GooseInit",false,false);if(document.body&&document.body.dispatchEvent){document.body.dispatchEvent(evt);}}}catch(ex){}};YAHOO.MediaPlayer.toString=function(){return"YAHOO.MediaPlayer";};YAHOO.MediaPlayer.handleEvent=function(evType,args){try{var suffix="Handler";if(typeof(this[evType+suffix])==="function"){this[evType+suffix](args[0]);}}catch(ex){throw new Error('ERROR in YAHOO.MediaPlayer.handleEvent(evType:"'+evType+'"). '+ex.message);}};YAHOO.MediaPlayer.onPlaylistUpdateHandler=function(playlistArray){YAHOO.MediaPlayer.onPlaylistUpdate.fire(playlistArray);};YAHOO.MediaPlayer.onMediaUpdateHandler=function(mediaObj){YAHOO.MediaPlayer.onMediaUpdate.fire(mediaObj);};YAHOO.MediaPlayer.onMediaProgressHandler=function(args){YAHOO.MediaPlayer.onProgress.fire(args);};YAHOO.MediaPlayer.onPlayStateChangeHandler=function(args){var mo=this.formatMedia(args.media);switch(args.newState){case YAHOO.mediaplayer.MediaEngine.PlayState.PLAYING:YAHOO.MediaPlayer.onTrackStart.fire({mediaObject:mo});break;case YAHOO.mediaplayer.MediaEngine.PlayState.PAUSED:YAHOO.MediaPlayer.onTrackPause.fire({mediaObject:mo});break;case YAHOO.mediaplayer.MediaEngine.PlayState.ENDED:YAHOO.MediaPlayer.onTrackComplete.fire({mediaObject:mo});break;default:break;}};YAHOO.MediaPlayer.getPlaylistCount=function(){try{return this.controller.playlistmanager.playlistArray.length;}catch(ex){return -1;}};YAHOO.MediaPlayer.play=function(mediaObj,position){this.controller.EventManager.onPlayRequest.fire({media:mediaObj,seek:position});};YAHOO.MediaPlayer.pause=function(){this.controller.EventManager.onPauseRequest.fire();};YAHOO.MediaPlayer.stop=function(){this.controller.EventManager.onStopRequest.fire();};YAHOO.MediaPlayer.previous=function(){this.controller.EventManager.onPreviousRequest.fire();};YAHOO.MediaPlayer.next=function(){this.controller.EventManager.onNextRequest.fire();};YAHOO.MediaPlayer.getVolume=function(){var curVol=this.controller.mediaengine.getVolume();if(typeof curVol==="number"){curVol=parseFloat(curVol.toFixed(2));}else{curVol=parseFloat(curVol);curVol=parseFloat(curVol.toFixed(2));}return curVol;};YAHOO.MediaPlayer.setVolume=function(vol){if(typeof vol==="number"){parseFloat(vol=vol.toFixed(2));if(vol>1){vol=1;}if(vol<0){vol=0;}}this.controller.EventManager.onVolumeChangeRequest.fire(vol);};YAHOO.MediaPlayer.getTrackPosition=function(){if(this.controller.mediaengine.currentEngine){return(this.controller.mediaengine.currentEngine.getElapsed())/1000;}};YAHOO.MediaPlayer.getTrackDuration=function(){if(this.controller.mediaengine.currentEngine){return(this.controller.mediaengine.currentEngine.getDuration())/1000;}};YAHOO.MediaPlayer.getMetaData=function(index){var obj={};if(typeof(index)!=="number"){obj=this.controller.playlistmanager.playlistArray[this.controller.playlistmanager.currentIndex];}else{obj=this.controller.playlistmanager.playlistArray[index];}obj=this.formatMedia(obj);return obj;};YAHOO.MediaPlayer.getPlayerState=function(){if(this.controller.mediaengine.currentPlayState===YAHOO.mediaplayer.MediaEngine.PlayState.ENDED){return 7;}else{if(this.controller.mediaengine.currentPlayState===YAHOO.mediaplayer.MediaEngine.PlayState.BUFFERING){return 5;}else{return(this.controller.mediaengine.currentPlayState);}}};YAHOO.MediaPlayer.getPlayerDisplayState=function(){return this.controller.view.getDisplayState();};YAHOO.MediaPlayer.setPlayerDisplayState=function(displayState){return this.controller.view.setDisplayState(displayState);};YAHOO.MediaPlayer.formatMedia=function(obj){if(typeof(obj)==="object"&&obj.token){obj.text=this.controller.mediaresolver.parseTextNode(obj.anchor);obj.url=obj.token;obj.albumart=obj.albumArt;obj.artist=obj.artistName;obj.album=obj.albumName;obj.Album={};obj.Album.Release={};obj.Album.Release.Image={};obj.Artist={};obj.Album.Release.DisplayTitle=obj.albumName||"";obj.Album.Release.Image.url=obj.albumArt||"";obj.Artist.name=obj.artistName||"";return obj;}else{return null;}};YAHOO.MediaPlayer.addTracks=function(domElem,index,clear){var mediaTracks=this.controller.parser.parse(domElem);if(clear===true){this.controller.playlistmanager.clear();return this.controller.playlistmanager.insert(mediaTracks);}else{return this.controller.playlistmanager.insert(mediaTracks,index);}};new YAHOO.MediaPlayer();YAHOO.WebPlayer=YAHOO.MediaPlayer;YAHOO.namespace("YAHOO.mediaplayer.ErrorDefinitions");YAHOO.mediaplayer.ErrorDefinitions.Levels={DEBUG:0,INFO:1,WARNING:2,ERROR:3,CRITICAL:4};YAHOO.mediaplayer.ErrorDefinitions.Types={GENERIC:0,RIGHTS_REVOKED:1,PLAYBACK_TIMEOUT:2,REGION_RESTRICTED:3,ONLY_SAMPLE:4,METADATA_UNVAILABLE:5,PLAYBACK:6,RESOLUTION:7};YAHOO.mediaplayer.ErrorDefinitions.Codes={1:{logMessage:"Could not find the media file",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,type:YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC},2:{logMessage:"Multiple playback errors",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.CRITICAL,type:YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC},3:{logMessage:"Generic playback error",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,type:YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC,link:YAHOO.mediaplayer.DisplayStrings.TRY_AGAIN},4:{logMessage:"Unable to retrieve playlist",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,type:YAHOO.mediaplayer.ErrorDefinitions.Types.RESOLUTION},5:{logMessage:"Empty playlist",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,type:YAHOO.mediaplayer.ErrorDefinitions.Types.RESOLUTION},6:{logMessage:"Media download error",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,type:YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC},7:{logMessage:"Connection error",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,type:YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC},8:{logMessage:"DRM error",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,type:YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC},9:{logMessage:"WMP plugin for Firefox missing",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,type:YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC},10:{logMessage:"Metadata unavailable.",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.INFO,type:YAHOO.mediaplayer.ErrorDefinitions.Types.METADATA_UNAVAILABLE},11:{logMessage:"Playback timed out.",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,type:YAHOO.mediaplayer.ErrorDefinitions.Types.PLAYBACK_TIMEOUT},12:{logMessage:"Resolution failed.",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,type:YAHOO.mediaplayer.ErrorDefinitions.Types.RESOLUTION},13:{logMessage:"Rhapsody login failure",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.INFO,type:YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC},14:{logMessage:"Rhapsody engine not initialized",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,type:YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC},15:{logMessage:"Rhapsody, invalid user token, need to re-sign in",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.INFO,type:YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC},16:{logMessage:"Rhapsody, access denied",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.INFO,type:YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC},17:{logMessage:"Rhapsody, invalid Request",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.INFO,type:YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC},18:{logMessage:"Rhapsody, request for user property that is not available",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.INFO,type:YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC},19:{logMessage:"Rhapsody, login from multiple locations",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.INFO,type:YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC},20:{logMessage:"We're sorry. This item is not available to play in your region.",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,type:YAHOO.mediaplayer.ErrorDefinitions.Types.REGION_RESTRICTED},21:{logMessage:"No streaming rights.",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,type:YAHOO.mediaplayer.ErrorDefinitions.Types.RIGHTS_REVOKED},22:{logMessage:"Invalid Seek Operation",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.WARNING,type:YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC},23:{logMessage:"Flash not installed or not working",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.INFO,type:YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC},24:{logMessage:"AMG sample playback",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.WARNING,type:YAHOO.mediaplayer.ErrorDefinitions.Types.ONLY_SAMPLE},25:{logMessage:"AMG sample playback not available",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,type:YAHOO.mediaplayer.ErrorDefinitions.Types.RESOLUTION},26:{logMessage:"Song not available for playback, missing rhapsody id",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,type:YAHOO.mediaplayer.ErrorDefinitions.Types.RESOLUTION},27:{logMessage:"Flash is required",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,type:YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC},28:{logMessage:"Embedding is disabled",level:YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR,type:YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC,link:YAHOO.mediaplayer.DisplayStrings.WATCH_ON_YOUTUBE}};
YAHOO.mediaplayer.ErrorCollection=[];YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.Error=function(errorCode,args){this.code=errorCode;this.id=YAHOO.mediaplayer.Util.GUID(YAHOO.mediaplayer.Util.getRnd(0,1000));var errorDefinition=YAHOO.mediaplayer.ErrorDefinitions.Codes[errorCode];if(typeof(errorDefinition)==="object"){for(var prop in errorDefinition){this[prop]=errorDefinition[prop];}}this.media=null;this.displayMessageArgs=null;if(args&&args.displayMessageArgs){this.displayMessageArgs=args.displayMessageArgs;}else{this.displayMessageArgs=[""];}YAHOO.mediaplayer.ErrorCollection[this.id]=this;};YAHOO.mediaplayer.Error.prototype.toString=function(){return"YAHOO.mediaplayer.Error";};YAHOO.mediaplayer.Error.prototype.getDisplayMessage=function(){var str=YAHOO.mediaplayer.DisplayStrings["ERROR_"+this.code]||YAHOO.mediaplayer.DisplayStrings["ERROR_TYPE_"+this.type]||YAHOO.mediaplayer.DisplayStrings["ERROR_TYPE_"+YAHOO.mediaplayer.ErrorDefinitions.Types.GENERIC];return YAHOO.mediaplayer.Util.sprintf(str,this.displayMessageArgs);};YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.Logger=function media(controller){try{var subscribeToControllersEvents=[];YAHOO.mediaplayer.Logger.superclass.constructor.call(this,controller,subscribeToControllersEvents);this.EventManager.addEvents([]);this.initController(controller);this.controller=this.getController();this.logService="http://mediaplayer.yahoo.com/services/logger.php?data=";this.errorData="Error_";this.playData="Rhapsody_Play_Request";this.currentImageIndex=0;this.imageObjects=new Array(3);for(i=0;i<this.imageObjects.length;i++){this.imageObjects[i]=new Image();}}catch(ex){}};Y.extend(YAHOO.mediaplayer.Logger,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.Logger.prototype.refByName="logger";YAHOO.mediaplayer.Logger.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.Logger.prototype.logError=function logError(errorObj){if("object"===typeof window.console&&"function"===typeof console.log){var errorStr="Error #"+errorObj.code+": "+errorObj.logMessage,consoleGrouping="function"===typeof console.group&&"function"===typeof console.groupEnd,consoleFunctionMap={},showStackTrace={};consoleFunctionMap[YAHOO.mediaplayer.ErrorDefinitions.Levels.CRITICAL]="error";consoleFunctionMap[YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR]="error";consoleFunctionMap[YAHOO.mediaplayer.ErrorDefinitions.Levels.WARNING]="warn";consoleFunctionMap[YAHOO.mediaplayer.ErrorDefinitions.Levels.INFO]="info";consoleFunctionMap[YAHOO.mediaplayer.ErrorDefinitions.Levels.DEBUG]="info";showStackTrace[YAHOO.mediaplayer.ErrorDefinitions.Levels.CRITICAL]=true;showStackTrace[YAHOO.mediaplayer.ErrorDefinitions.Levels.ERROR]=true;if(consoleGrouping){console.group("YAHOO.mediaplayer.Logger");}if("function"===typeof console[consoleFunctionMap[errorObj.level]]){console[consoleFunctionMap[errorObj.level]](errorStr,errorObj);}else{console.log(errorStr,errorObj);}if(errorObj.level in showStackTrace&&"function"===typeof console.trace){console.trace();}if(consoleGrouping){console.groupEnd();}}if(errorObj.media&&errorObj.media.mimeType=="audio/rhapsody"){var code=errorObj.code;var data=this.errorData+errorObj.code+" "+errorObj.logMessage;this.sendBeacon(this.logService+data);}};YAHOO.mediaplayer.Logger.prototype.logPlay=function logPlay(trackid){var data=this.playData+" "+trackid;this.sendBeacon(this.logService+data);};YAHOO.mediaplayer.Logger.prototype.sendBeacon=function(url){return;if(YAHOO.mediaplayer.YMPParams.logging===true){this.imageObjects[this.currentImageIndex].src=url;this.currentImageIndex=((this.currentImageIndex+1)%this.imageObjects.length);}};YAHOO.namespace("YAHOO.mediaplayer");YAHOO.mediaplayer.AnonymousUsage=function(controller){try{var subscribeToControllersEvents=["onPageView","onUsageInit","onUsageAction"];YAHOO.mediaplayer.AnonymousUsage.superclass.constructor.call(this,controller,subscribeToControllersEvents);this.EventManager.addEvents([]);this.initController(controller);this.controller=this.getController();this.ywaTracker={main:null,experimental:null};this._experimentalProfileA="10006180956";this._experimentalProfileB="10001127928456";this._pageviewProfile="10001467053656";}catch(ex){}};Y.extend(YAHOO.mediaplayer.AnonymousUsage,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.AnonymousUsage.prototype.refByName="anonymoususage";YAHOO.mediaplayer.AnonymousUsage.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.AnonymousUsage.YWAFieldMappings={INJECTED_BY:7,TERM_DETECTION_MODE:13,NUM_OF_CAPA_ENTITIES:14,NUM_OF_LINKS:12,ENTITY_LINK:17,ENTITY_ID:18,ENTITY_TITLE:19,ENTITY_TYPE:20,TRIGGER_TYPE:21,PLAYBACK_ENGINE:22,FALLBACK:23};YAHOO.mediaplayer.AnonymousUsage.YWAActionMappings={PLAY_STARTED:2,FIRST_PLAY:3,PLAY_REQUESTED:4,PLAY_QUALIFIED:5,HOMEPAGE_LINK:6,INTERSTITIAL_SHOWING:7,XL_OPEN:8};YAHOO.mediaplayer.AnonymousUsage.prototype._executeTrackersMethod=function(func){var tracker=this.ywaTracker;tracker.main[func].apply(tracker.main,Array.prototype.slice.call(arguments,1));tracker.experimental&&tracker.experimental[func].apply(tracker.experimental,Array.prototype.slice.call(arguments,1));};YAHOO.mediaplayer.AnonymousUsage.prototype._initTrackers=function(){this.ywaTracker.main=YAHOO.mediaplayer.YWA.getTracker(YAHOO.mediaplayer.YMPParams.anonymoususageywaid);if(this.controller.isPlayerInExperimentalMode()){var experimentalModeEnabled=this.controller.isExperimentalModeEnabled();this.ywaTracker.experimental=experimentalModeEnabled?YAHOO.mediaplayer.YWA.getTracker(this._experimentalProfileB):YAHOO.mediaplayer.YWA.getTracker(this._experimentalProfileA);}};YAHOO.mediaplayer.AnonymousUsage.prototype.getYWACustomFields=function(obj){var CFObj={};if(!obj){return CFObj;}for(var prop in obj){var CFNumber=YAHOO.mediaplayer.AnonymousUsage.YWAFieldMappings[prop];if(!CFNumber){continue;}var CFValue=obj[prop];if((typeof CFValue=="undefined")||(CFValue==null)){CFValue="";}CFObj[CFNumber]=CFValue;
}return CFObj;};YAHOO.mediaplayer.AnonymousUsage.prototype.setYWACustomFields=function(obj){var CFObj=this.getYWACustomFields(obj);for(var index in CFObj){this._executeTrackersMethod("setCF",index,CFObj[index]);}};YAHOO.mediaplayer.AnonymousUsage.prototype.onPageView=function(){if(this.ywaTracker.pageview){return;}this.ywaTracker.pageview=YAHOO.mediaplayer.YWA.getTracker(this._pageviewProfile);this.ywaTracker.pageview.submit();};YAHOO.mediaplayer.AnonymousUsage.prototype.onUsageInit=function(params){if(this.ywaTracker.main){return;}this._initTrackers();if(typeof params=="undefined"){params={};}params["INJECTED_BY"]=(typeof YAHOO.mediaplayer.YMPParams["injected-by"]=="undefined")?"publisher":YAHOO.mediaplayer.YMPParams["injected-by"];this.setYWACustomFields(params);this._executeTrackersMethod("submit");};YAHOO.mediaplayer.AnonymousUsage.prototype.onUsageAction=function(arr){if(!this.ywaTracker.main||!arr){return;}var actionNumber=YAHOO.mediaplayer.AnonymousUsage.YWAActionMappings[arr[0]];if(!actionNumber){return;}this._executeTrackersMethod("setAction",actionNumber);var params=arr[2];if(typeof params=="undefined"){params={};}var media=arr[1];if(media){if(media.playbackEngine){params["PLAYBACK_ENGINE"]=media.playbackEngine;}params["FALLBACK"]=media.contentFallbackFlag;params["ENTITY_LINK"]=(media.anchor&&media.anchor.href)?media.anchor.href:"unknown";params["ENTITY_ID"]=media.token?media.token:"unknown";params["ENTITY_TITLE"]=media.title?media.title:"unknown";var entityType;switch(media.getType()){case YAHOO.mediaplayer.Media.Types.AUDIO:entityType="AUDIO";break;case YAHOO.mediaplayer.Media.Types.VIDEO:entityType="VIDEO";break;default:entityType="unknown";break;}params["ENTITY_TYPE"]=entityType;}this.setYWACustomFields(params);this._executeTrackersMethod("submit_action");};YAHOO.mediaplayer.Interstitial=function(controller,config,containerNode){YAHOO.mediaplayer.Interstitial.superclass.constructor.call(this,controller,["onMediaResolved","onPlayerCollapse","afterPlayerExpand"]);this.EventManager.addEvents(["onPlayRequest","onUsageAction"]);this.initController(controller);this.controller=this.getController();this._config=config;this._containerNode=containerNode;this._nodeCache;this._currentCountdownValue;this._countdownTimeout=null;this._playNextThumbnailWidth;this._playNextThumbnailHeight;this._currentMedia=null;this._nextMedia=null;this._isCountdownPaused=false;this._isCurrentMediaLastInPlaylist;this._startAnimation;this._relatedMedia;this._needToInit=true;this._countdownFeatureEnabled=false;};Y.extend(YAHOO.mediaplayer.Interstitial,YAHOO.mediaplayer.BaseObject);YAHOO.mediaplayer.Interstitial.prototype.refByName="interstitial";YAHOO.mediaplayer.Interstitial.prototype.toString=function(){return"YAHOO.mediaplayer.Controller."+this.refByName;};YAHOO.mediaplayer.Interstitial.Templates={"relatedItem":'<a class="ywp-related-carousel-item" href="#">'+'<span class="ywp-related-img ywp-mod">'+"{image}"+'<span class="ywp-related-hover-play">'+"<span>"+YAHOO.mediaplayer.DisplayStrings.INTERSTITIAL_PLAY_VIDEO+"</span>"+"</span>"+"</span>"+'<span class="ywp-related-title ywp-ellipsis">{title}</span>'+'<span class="ywp-related-duration" >{duration}</span>'+"</a>","relatedItemImage":'<img class="ywp-related-thumbnail" src="{thumbnail}" />',"playNextMediaImage":'<img src="{0}" class="ywp-int-pn-media-thumbnail-img" />',"durationWrapperFormat":"({0})"};YAHOO.mediaplayer.Interstitial.LocaleCharLimit={relatedMediaCarouselHeader:{"en-US":30}};YAHOO.mediaplayer.Interstitial.prototype._init=function(){if(!this._needToInit){return;}this._needToInit=false;this._cacheNodes(this._containerNode);var intTemplates=YAHOO.mediaplayer.Interstitial.Templates;this._carousel=new YAHOO.mediaplayer.Carousel(this._nodeCache.relatedMediaCarousel,{templates:{"relatedItemWithImg":Y.substitute(intTemplates.relatedItem,{"image":intTemplates.relatedItemImage}),"relatedItemWithoutImg":Y.substitute(intTemplates.relatedItem,{"image":""})},animDuration:300,itemsPerPage:3});this._registerHandlers();this._playNextThumbnailWidth=parseInt(this._nodeCache.intPlayNextThumbnail.getComputedStyle("width"),10);this._playNextThumbnailHeight=parseInt(this._nodeCache.intPlayNextThumbnail.getComputedStyle("height"),10);var startAnimationConfig={"node":this._nodeCache.intContent,"easing":Y.Easing.fadeIn,"duration":this._config.startAnimation.duration/1000,"to":{"opacity":this._config.startAnimation.opacityTo/100}};var onStartAnimationEnd=function(){if((!this._isCurrentMediaLastInPlaylist)&&YAHOO.mediaplayer.YMPParams.autoadvance){this._startCountdown();}};this._startAnimation=this._createAnimation(startAnimationConfig,{"end":onStartAnimationEnd});if(this._countdownFeatureEnabled){this._nodeCache.intNextInPlaylist.hide();this._nodeCache.playNextHeader=this._nodeCache.intPlayNextCountdownPause;}else{this._nodeCache.intPlayNextCountdownPause.hide();this._nodeCache.playNextHeader=this._nodeCache.intNextInPlaylist;}};YAHOO.mediaplayer.Interstitial.prototype.start=function(arg){this._init();this._currentMedia=(arg&&arg.currentMedia)||this.controller.playlistmanager.getCurrentMedia();this._nextMedia=(arg&&arg.nextMedia)||this.controller.playlistmanager.getNextMedia()||this._currentMedia;this._isCurrentMediaLastInPlaylist=(this._currentMedia===this._nextMedia);if(this._isCurrentMediaLastInPlaylist||(!YAHOO.mediaplayer.YMPParams.autoadvance)){this._nodeCache.playNextHeader.hide();}else{this._nodeCache.playNextHeader.show();this._nodeCache.intPlayNextPause.show();}if(!this._isCurrentMediaLastInPlaylist){this.controller.mediaresolver.resolveDynamic(this._nextMedia);}this._updateUIWithNextMediaInfo();this._nodeCache.relatedMediaCarouselHeader.hide();this._populateRelatedMediaCarousel();this._toggleVisibility();this._applyEllipsisToRelatedItems();this._nodeCache.relatedMediaCarousel.all(".ywp-related-title").each(this.controller.view.firefoxSetEllipsis,this);this.controller.view.firefoxSetEllipsis(this._nodeCache.intPlayNextMediaTitle);this._startAnimation.run();this.EventManager.onUsageAction.fire(["INTERSTITIAL_SHOWING",this._currentMedia]);
};YAHOO.mediaplayer.Interstitial.prototype._createAnimation=function(config,animEventHandlers){var anim=new Y.Anim(config);var animEventHandler;for(var animEvent in animEventHandlers){animEventHandler=animEventHandlers[animEvent];if(animEvent&&animEventHandler){anim.on(animEvent,animEventHandler,this);}}return anim;};YAHOO.mediaplayer.Interstitial.prototype._cacheNodes=function(containerNode){this._nodeCache={};this._nodeCache.player=containerNode.one(".ywp-player");this._nodeCache.intContent=this._nodeCache.player.one(".ywp-int-content");this._nodeCache.intBtns=this._nodeCache.intContent.one(".ywp-int-btns");this._nodeCache.intBtnReplay=this._nodeCache.intBtns.one(".ywp-int-btn-replay");this._nodeCache.intPlayNext=this._nodeCache.intContent.one(".ywp-int-play-next");this._nodeCache.intNextInPlaylist=this._nodeCache.intPlayNext.one(".ywp-int-next-in-playlist");this._nodeCache.intPlayNextCountdownPause=this._nodeCache.intPlayNext.one(".ywp-int-pn-countdown-pause");this._nodeCache.intPlayNextCountdown=this._nodeCache.intPlayNextCountdownPause.one(".ywp-int-pn-countdown");this._nodeCache.intPlayNextPause=this._nodeCache.intPlayNextCountdownPause.one(".ywp-int-pn-pause");this._nodeCache.intPlayNextThumbnail=this._nodeCache.intPlayNext.one(".ywp-int-pn-media-thumbnail");this._nodeCache.intPlayNextThumbContent=this._nodeCache.intPlayNextThumbnail.one(".ywp-int-pn-med-thumb-content");this._nodeCache.intPlayNextMediaTitle=this._nodeCache.intPlayNextThumbContent.one(".ywp-int-pn-med-title");this._nodeCache.intPlayNextMediaDuration=this._nodeCache.intPlayNextThumbContent.one(".ywp-int-pn-med-duration");this._nodeCache.relatedPrev=this._nodeCache.intContent.one(".ywp-int-related-prev");this._nodeCache.relatedNext=this._nodeCache.intContent.one(".ywp-int-related-next");this._nodeCache.relatedMedia=this._nodeCache.intContent.one(".ywp-int-related-media");this._nodeCache.relatedMediaCarouselHeader=this._nodeCache.relatedMedia.one(".ywp-int-related-carousel-header");this._nodeCache.relatedMediaCarousel=this._nodeCache.relatedMedia.one(".ywp-int-related-carousel");};YAHOO.mediaplayer.Interstitial.prototype._registerHandlers=function(){this._nodeCache.intPlayNextPause.on("click",this._onPauseClicked,this);this._nodeCache.intBtnReplay.on("click",function(){this.end({media:this._currentMedia,"TRIGGER_TYPE":"INTER_REPLAY"});},this);this._nodeCache.intPlayNextThumbnail.on("click",function(){this.end({media:this._nextMedia,"TRIGGER_TYPE":"INTER_NEXT"});},this);this._nodeCache.relatedPrev.on("click",function(e){this.onRelatedPrevNext(this._nodeCache.relatedPrev,"prevPage",this._nodeCache.relatedNext);},this);this._nodeCache.relatedNext.on("click",function(e){this.onRelatedPrevNext(this._nodeCache.relatedNext,"nextPage",this._nodeCache.relatedPrev);},this);Y.delegate("click",this.onRelatedItemClicked,this._nodeCache.relatedMediaCarousel,".ywp-related-carousel-item",this);};YAHOO.mediaplayer.Interstitial.prototype._applyPlayNextMediaImageIfAvailable=function(){var mediaImageSrc=this._nextMedia.thumbnail||this._nextMedia.albumArt;if(!mediaImageSrc){return;}if(!this._nodeCache.intPlayNextMediaImage){this._nodeCache.intPlayNextMediaImage=Y.Node.create(Y.substitute(YAHOO.mediaplayer.Interstitial.Templates.playNextMediaImage,{0:mediaImageSrc}));this._nodeCache.intPlayNextThumbnail.prepend(this._nodeCache.intPlayNextMediaImage);}else{this._nodeCache.intPlayNextMediaImage.set("src",mediaImageSrc);}if(this._nextMedia.bIsVideo){this._nodeCache.intPlayNextMediaImage.setStyles({width:this._playNextThumbnailWidth,height:this._playNextThumbnailHeight,top:0,left:0});this._nodeCache.intPlayNextMediaImage.setStyle("visibility","visible");}else{var onImageDimsReady=function(imgDims){var view=this.controller.view;var optimalDim=view.getOptimalDim(this._config.audioAlbumArtOptimalDimMap,imgDims);if(optimalDim!==-1){var scaledDims=view.getScaledDims({width:optimalDim,height:optimalDim},imgDims);view.centerElementInContainer(this._nodeCache.intPlayNextThumbnail,this._nodeCache.intPlayNextMediaImage,scaledDims);this._nodeCache.intPlayNextThumbnail.removeClass("ywp-int-pn-audio-thumbnail");this._nodeCache.intPlayNextMediaImage.setStyle("visibility","visible");}};this.controller.view.getImgDims(mediaImageSrc,onImageDimsReady,this);}};YAHOO.mediaplayer.Interstitial.prototype._populateRelatedMediaCarousel=function(){this._carousel.empty();this._nodeCache.relatedPrev.addClass("ywp-int-btn-hidden");this._relatedMedia=this._currentMedia.getRelatedMedia();var carouselItems=[];for(var i=0;i<this._relatedMedia.length;i++){carouselItems.push({"title":this._relatedMedia[i].title,"thumbnail":this._relatedMedia[i].thumbnail,"duration":this._getMediaFormattedDuration(this._relatedMedia[i]),"template":this._relatedMedia[i].thumbnail?"relatedItemWithImg":"relatedItemWithoutImg"});}if(this._relatedMedia.length<=this._carousel.getConfig().itemsPerPage){this._nodeCache.relatedNext.addClass("ywp-int-btn-hidden");}else{this._nodeCache.relatedNext.removeClass("ywp-int-btn-hidden");}this._carousel.addItems(carouselItems);if(carouselItems.length>0){this._updateRelatedMediaCarouselHeader();}};YAHOO.mediaplayer.Interstitial.prototype._updateRelatedMediaCarouselHeader=function(){var carouselHeaderText;var currentMediaTitle=this._currentMedia.relatedTo?this._currentMedia.relatedTo.title:this._currentMedia.title;if(currentMediaTitle&&this._ifTextWithinLocaleCharLimit(currentMediaTitle,YAHOO.mediaplayer.Interstitial.LocaleCharLimit.relatedMediaCarouselHeader)){carouselHeaderText=Y.substitute(YAHOO.mediaplayer.DisplayStrings.INTERSTITIAL_MORE_VIDEOS,{0:currentMediaTitle});}else{carouselHeaderText=YAHOO.mediaplayer.DisplayStrings.INTERSTITIAL_RELATED_VIDEOS;}var relatedMediaCarouselHeader=this._nodeCache.relatedMediaCarouselHeader;relatedMediaCarouselHeader.set("text",carouselHeaderText);relatedMediaCarouselHeader.show();this.controller.view.firefoxSetEllipsis(relatedMediaCarouselHeader);};YAHOO.mediaplayer.Interstitial.prototype._ifTextWithinLocaleCharLimit=function(text,localeCharLimitMap){var locale=YAHOO.mediaplayer.YMPParams.locale;
var localeCharLimit=localeCharLimitMap[locale]||localeCharLimitMap["en-US"];return(text.length<=localeCharLimit)?true:false;};YAHOO.mediaplayer.Interstitial.prototype.onRelatedPrevNext=function(thisButton,prevNextFunc,otherButton){this.pauseCountdown();otherButton.removeClass("ywp-int-btn-hidden");var canGoMore=this._carousel[prevNextFunc]();if(!canGoMore){thisButton.addClass("ywp-int-btn-hidden");}this._applyEllipsisToRelatedItems();};YAHOO.mediaplayer.Interstitial.prototype._applyEllipsisToRelatedItems=function(){if(!Y.DOM.ellipsis.nativeSupport){var relatedItems=this._carousel.getVisibleItems();for(var i=0,l=relatedItems.length;i<l;i++){this.controller.view.firefoxSetEllipsis(relatedItems[i].domNode.one(".ywp-ellipsis"));}}};YAHOO.mediaplayer.Interstitial.prototype.onRelatedItemClicked=function(e){var pm=this.controller.playlistmanager;var relatedMediaIndex=e.currentTarget.getData("carousel-item-index");var relatedMedia=this._relatedMedia[relatedMediaIndex];var currentMediaTopLevelIndex=pm.getMediaTopLevelIndex(pm.getCurrentMedia());pm.createMediaAndInsert([{"itemsArray":[relatedMedia],"index":currentMediaTopLevelIndex+1}]);this.end({"media":pm.getNextMedia(),"TRIGGER_TYPE":"INTER_RELATED"});};YAHOO.mediaplayer.Interstitial.prototype._updateUIWithNextMediaInfo=function(){this._nodeCache.intPlayNextMediaTitle.set("text",this._nextMedia.title);var formattedDuration=this._getMediaFormattedDuration(this._nextMedia);if(formattedDuration){this._nodeCache.intPlayNextThumbContent.removeClass("ywp-int-pn-no-duration");}else{this._nodeCache.intPlayNextThumbContent.addClass("ywp-int-pn-no-duration");}this._nodeCache.intPlayNextMediaDuration.set("text",formattedDuration);this._applyPlayNextDefaultThumbnail();this._applyPlayNextMediaImageIfAvailable();};YAHOO.mediaplayer.Interstitial.prototype._applyPlayNextDefaultThumbnail=function(){var playNextThumbnail=this._nodeCache.intPlayNextThumbnail;if(this._nextMedia.bIsVideo){playNextThumbnail.replaceClass("ywp-int-pn-audio-thumbnail","ywp-int-pn-video-thumbnail");}else{playNextThumbnail.replaceClass("ywp-int-pn-video-thumbnail","ywp-int-pn-audio-thumbnail");}};YAHOO.mediaplayer.Interstitial.prototype._onPauseClicked=function(){this.pauseCountdown();};YAHOO.mediaplayer.Interstitial.prototype._toggleVisibility=function(){this._nodeCache.player.toggleClass("ywp-interstitial-mode");};YAHOO.mediaplayer.Interstitial.prototype._startCountdown=function(countdownStartValue){if(!this._countdownFeatureEnabled){return;}this._currentCountdownValue=countdownStartValue||this._config.countdownStartValue;this._replaceCountdownValue(this._currentCountdownValue);this._countdownTimeout=Y.later(this._config.countdownInterval,this,function(){if(this._currentCountdownValue===0){this.end({media:this._nextMedia,"TRIGGER_TYPE":"INTER_AUTONEXT"});}else{this._replaceCountdownValue(--this._currentCountdownValue);}},null,true);};YAHOO.mediaplayer.Interstitial.prototype._replaceCountdownValue=function(countdownValue){countdownValue=(typeof countdownValue==="number")?Y.substitute(YAHOO.mediaplayer.DisplayStrings.INTERSTITIAL_PLAYING_NEXT_COUNTDOWN,{0:countdownValue}):countdownValue;this._nodeCache.intPlayNextCountdown.set("text",countdownValue);};YAHOO.mediaplayer.Interstitial.prototype.end=function(obj){this._cancelCountdown();this._toggleVisibility();this._nodeCache.intContent.setStyle("opacity",0);this._nodeCache.intPlayNextMediaImage&&this._nodeCache.intPlayNextMediaImage.setStyle("visibility","hidden");this._currentCountdownValue=-1;this._isCountdownPaused=false;this.controller.view.resetPlayerContentType();var media=obj&&obj.media;if(media){var triggerType=obj&&obj["TRIGGER_TYPE"]||"INTER_UNKNOWN";this.EventManager.onPlayRequest.fire({"media":media,"TRIGGER_TYPE":triggerType,bNewPlay:true});}this._currentMedia=null;this._nextMedia=null;};YAHOO.mediaplayer.Interstitial.prototype._cancelCountdown=function(){if(this._countdownTimeout){this._countdownTimeout.cancel();this._countdownTimeout=null;}};YAHOO.mediaplayer.Interstitial.prototype.pauseCountdown=function(){if(this._countdownFeatureEnabled&&!this._isCurrentMediaLastInPlaylist&&!this._isCountdownPaused){this._cancelCountdown();this._replaceCountdownValue(YAHOO.mediaplayer.DisplayStrings.INTERSTITIAL_UP_NEXT);this._nodeCache.intPlayNextPause.hide();this._isCountdownPaused=true;}};YAHOO.mediaplayer.Interstitial.prototype.onMediaResolved=function(media){if(media===this._nextMedia){this._updateUIWithNextMediaInfo();this.controller.view.firefoxSetEllipsis(this._nodeCache.intPlayNextMediaTitle);}};YAHOO.mediaplayer.Interstitial.prototype._getMediaFormattedDuration=function(media){return YAHOO.mediaplayer.Util.formatTime(media.duration,{"ignoreZero":true,"wrapperFormat":YAHOO.mediaplayer.Interstitial.Templates.durationWrapperFormat});};YAHOO.mediaplayer.Interstitial.prototype.onPlayerCollapse=function(){if(this.controller.view.isPlayerContentTypeInterstitial()){this.pauseCountdown();}};YAHOO.mediaplayer.Interstitial.prototype.afterPlayerExpand=function(){if(this.controller.view.isPlayerContentTypeInterstitial()&&(Y.UA.ie===6)){this._nodeCache.relatedPrev.addClass("dummy").removeClass("dummy");}};YAHOO.mediaplayer.Carousel=function(container,config){this._config=config;this._container=container;this._templates=this._config.templates;this._content=this._container.appendChild(YAHOO.mediaplayer.Carousel.Templates.content);this._itemsPerPage=this._config.itemsPerPage||1;this._pagesToRender=this._config.pagesToRender||3;this._contentPosition;this._itemDimentions;this._items;this._currentItemIndex;this._lastRenderedItemIndex=-1;this.empty();this._anim=new Y.Anim({"node":this._content,"duration":(this._config.animDuration/1000)||0.5,"easing":Y.Easing.easeOut});};YAHOO.mediaplayer.Carousel.Templates={"content":'<div class="ywp-carousel-content"></div>'};YAHOO.mediaplayer.Carousel.prototype.addItems=function(items){this._items=this._items.concat(items);this._renderMoreItems(this._pagesToRender*this._itemsPerPage);this._calcItemDimentions();};YAHOO.mediaplayer.Carousel.prototype.empty=function(){this._content.empty();
this._content.setStyle("left","0");this._contentPosition={top:0,left:0};this._itemDimentions={width:0,height:0};this._items=[];this._currentItemIndex=0;this._lastRenderedItemIndex=-1;};YAHOO.mediaplayer.Carousel.prototype._calcItemDimentions=function(){var itemNodes=this._content.get("childNodes");if(itemNodes.isEmpty()){return;}var firstChildRegion=itemNodes.item(0).get("region");this._itemDimentions.width=parseInt(firstChildRegion.width,10);this._itemDimentions.height=parseInt(firstChildRegion.height,10);};YAHOO.mediaplayer.Carousel.prototype._renderMoreItems=function(num){var from=this._lastRenderedItemIndex+1;var to=Math.min(from+num,this._items.length);for(var i=from;i<to;i++){this._renderItem(i);}};YAHOO.mediaplayer.Carousel.prototype._renderItem=function(itemNumber){var item=this._items[itemNumber];html=Y.substitute(this._templates[item.template],item);var yNode=Y.Node.create(html);yNode.setData("carousel-item-index",itemNumber);this._content.append(yNode);item.domNode=yNode;this._lastRenderedItemIndex=itemNumber;};YAHOO.mediaplayer.Carousel.prototype._moveBy=function(numberOfItems){if(!this._content.hasChildNodes()){return false;}if((this._currentItemIndex+numberOfItems<0)||(this._currentItemIndex+numberOfItems>this._items.length-1)){return false;}if((this._itemDimentions.width===0)||(this._itemDimentions.height===0)){this._calcItemDimentions();}this._contentPosition.left-=this._itemDimentions.width*numberOfItems;this._currentItemIndex+=numberOfItems;this._anim.stop();this._anim.set("to",{left:this._contentPosition.left});this._anim.run();if(numberOfItems>=0){this._renderMoreItems(numberOfItems);}return this._hasItemsToScroll(numberOfItems);};YAHOO.mediaplayer.Carousel.prototype._hasItemsToScroll=function(numberOfItems){return((this._currentItemIndex+numberOfItems<this._items.length)&&(this._currentItemIndex+numberOfItems>=0));};YAHOO.mediaplayer.Carousel.prototype.nextItem=function(){return this._moveBy(1);};YAHOO.mediaplayer.Carousel.prototype.prevItem=function(){return this._moveBy(-1);};YAHOO.mediaplayer.Carousel.prototype.nextPage=function(){return this._moveBy(this._itemsPerPage);};YAHOO.mediaplayer.Carousel.prototype.prevPage=function(){return this._moveBy(-this._itemsPerPage);};YAHOO.mediaplayer.Carousel.prototype.getConfig=function(){return this._config;};YAHOO.mediaplayer.Carousel.prototype.getVisibleItems=function(){if(this._items.length>0){return this._items.slice(this._currentItemIndex,Math.min((this._currentItemIndex+this._itemsPerPage),this._items.length));}return[];};YAHOO.mediaplayer.Controller=new YAHOO.mediaplayer.Controller();Y.on("domready",function(){YAHOO.mediaplayer.Controller.init();});});}());